/*
 * Copyright 2013 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// This file is automatically generated

(function(a){function b(a,d,b,r,s){void 0===r&&e("Missing required offset argument");(0>r||r+b>a.byteLength)&&e("Invalid index: "+r);if(1===b||!!s===f){if(0===(a.byteOffset+r)%b)return(new d(a.buffer,a.byteOffset+r,1))[0];for(s=0;s<b;s++)g[s]=a._bytes[r+s];return(new d(g.buffer))[0]}for(s=0;s<b;s++)g[b-s-1]=a._bytes[r+s];return(new d(g.buffer))[0]}function d(a,d,b,r,s,v){void 0===r&&e("Missing required offset argument");void 0===s&&e("Missing required value argument");(0>r||r+b>a.byteLength)&&e("Invalid index: "+
r);if(1===b||!!v===f)if(0===(a.byteOffset+r)%b)(new d(a.buffer,a.byteOffset+r,1))[0]=s;else{(new d(g.buffer))[0]=s;for(d=0;d<b;d++)a._bytes[d+r]=g[d]}else{(new d(g.buffer))[0]=s;for(d=0;d<b;d++)a._bytes[r+d]=g[b-1-d]}}function e(a){throw Error(a);}if(!a.DataView){a.ArrayBuffer||e("ArrayBuffer not supported");Object.defineProperties||e("This module requires ECMAScript 5");var f=1===(new Int8Array((new Int32Array([1])).buffer))[0],g=new Uint8Array(8);a.DataView=function(a,d,b){a instanceof ArrayBuffer||
e("Bad ArrayBuffer");d=d||0;b=b||a.byteLength-d;(0>d||0>b||d+b>a.byteLength)&&e("Illegal offset and/or length");Object.defineProperties(this,{buffer:{value:a,enumerable:!1,writable:!1,configurable:!1},byteOffset:{value:d,enumerable:!1,writable:!1,configurable:!1},byteLength:{value:b,enumerable:!1,writable:!1,configurable:!1},_bytes:{value:new Uint8Array(a,d,b),enumerable:!1,writable:!1,configurable:!1}})};a.DataView.prototype={constructor:DataView,getInt8:function(a){return b(this,Int8Array,1,a)},
getUint8:function(a){return b(this,Uint8Array,1,a)},getInt16:function(a,d){return b(this,Int16Array,2,a,d)},getUint16:function(a,d){return b(this,Uint16Array,2,a,d)},getInt32:function(a,d){return b(this,Int32Array,4,a,d)},getUint32:function(a,d){return b(this,Uint32Array,4,a,d)},getFloat32:function(a,d){return b(this,Float32Array,4,a,d)},getFloat64:function(a,d){return b(this,Float64Array,8,a,d)},setInt8:function(a,b){d(this,Int8Array,1,a,b)},setUint8:function(a,b){d(this,Uint8Array,1,a,b)},setInt16:function(a,
b,e){d(this,Int16Array,2,a,b,e)},setUint16:function(a,b,e){d(this,Uint16Array,2,a,b,e)},setInt32:function(a,b,e){d(this,Int32Array,4,a,b,e)},setUint32:function(a,b,e){d(this,Uint32Array,4,a,b,e)},setFloat32:function(a,b,e){d(this,Float32Array,4,a,b,e)},setFloat64:function(a,b,e){d(this,Float64Array,8,a,b,e)}}}})(this);
(function(a){var b=function(){this.args=[]},d=function(a,d,b,e){this.shortName=a;this.longName=d;this.type=b;e=e||{};this.positional=e.positional;this.parseFn=e.parse;this.value=e.defaultValue};d.prototype.parse=function(a){"boolean"===this.type?(!0,this.value=a):"number"===this.type?(!0,this.value=parseInt(a,10)):this.value=a;this.parseFn&&this.parseFn(this.value)};b.prototype.addArgument=function(a,b,e,f){a=new d(a,b,e,f);this.args.push(a);return a};b.prototype.addBoundOption=function(a){this.args.push(new d(a.shortName,
a.longName,a.type,{parse:function(d){a.value=d}}))};b.prototype.addBoundOptionSet=function(a){var d=this;a.options.forEach(function(a){a instanceof e?d.addBoundOptionSet(a):(!0,d.addBoundOption(a))})};b.prototype.getUsage=function(){var a="";this.args.forEach(function(d){a=d.positional?a+d.longName:a+("[-"+d.shortName+"|--"+d.longName+("boolean"===d.type?"":" "+d.type[0].toUpperCase())+"]");a+=" "});return a};b.prototype.parse=function(a){var d={},b=[];this.args.forEach(function(a){a.positional?b.push(a):
(d["-"+a.shortName]=a,d["--"+a.longName]=a)});for(var e=[];a.length;){var f=a.shift(),s=null,v=f;if("--"==f){e=e.concat(a);break}else"-"==f.slice(0,1)||"--"==f.slice(0,2)?(s=d[f],!0,"boolean"!==s.type?(v=a.shift(),!0):v=!0):b.length?s=b.shift():e.push(v);s&&s.parse(v)}!0;return e};var e,f=function(a){this.name=a;this.options=[]};f.prototype.register=function(a){this.options.push(a);return a};f.prototype.trace=function(a){a.enter(this.name+" {");this.options.forEach(function(d){d.trace(a)});a.leave("}")};
e=f;f=function(a,d,b,e,f){this.longName=d;this.shortName=a;this.type=b;this.value=this.defaultValue=e;this.description=f};f.prototype.parse=function(a){this.value=a};f.prototype.trace=function(a){a.writeLn(("-"+this.shortName+"|--"+this.longName).padRight(" ",30)+" = "+this.type+" "+this.value+" ["+this.defaultValue+"] ("+this.description+")")};a.Option=f;a.OptionSet=e;a.ArgumentParser=b})("undefined"===typeof exports?options={}:exports);
var Option=options.Option,OptionSet=options.OptionSet,coreOptions=new OptionSet("Core Options"),create=Object.create,defineProperty=Object.defineProperty,keys=Object.keys,isArray=Array.isArray,fromCharCode=String.fromCharCode,logE=Math.log,max=Math.max,min=Math.min,pow=Math.pow,push=Array.prototype.push,slice=Array.prototype.slice,splice=Array.prototype.splice;function fail(a,b){throw Error((b?b+": ":"")+a);}function assert(a,b,d){a||fail(b,d)}
function throwError(a,b){var d=formatErrorMessage.apply(null,slice.call(arguments,1));throwErrorFromVM(AVM2.currentDomain(),a,d,b.code)}function scriptProperties(a,b){return b.reduce(function(d,b){d[b]=a+" "+b;return d},{})}function cloneObject(a){var b=Object.create(null),d;for(d in a)b[d]=a[d];return b}
function sortByDepth(a,b){var d=a._level,e=b._level;if(a._parent!==b._parent&&-1<a._index&&-1<b._index){for(;a._level>e;)a=a._parent;for(;b._level>d;)b=b._parent;for(;1<a._level&&a._parent!==b._parent;)a=a._parent,b=b._parent}return a===b?d-e:a._index-b._index}function sortNumeric(a,b){return a-b}function rgbaObjToStr(a){return"rgba("+a.red+","+a.green+","+a.blue+","+a.alpha/255+")"}
function rgbIntAlphaToStr(a,b){a|=0;if(1<=b){for(var d=a.toString(16);6>d.length;)d="0"+d;return"#"+d}return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+b+")"}function argbUintToStr(a){return"rgba("+(a>>>16&255)+","+(a>>>8&255)+","+(a&255)+","+(a>>>24&255)/255+")"}
(function(){eval("function t() {} t.name === 't'")||Object.defineProperty(Function.prototype,"name",{get:function(){if(this.__name)return this.__name;var a=/function\s([^\(]+)/.exec(this.toString());return this.__name=a=a&&"anonymous"!==a[1]?a[1]:null},configurable:!0,enumerable:!1})})();var randomStyleCache;
function randomStyle(){if(!randomStyleCache){randomStyleCache=[];for(var a=0;50>a;a++)randomStyleCache.push("#"+("00000"+(16777216*Math.random()|0).toString(16)).slice(-6))}return randomStyleCache[Math.random()*randomStyleCache.length|0]}
var Promise=function(){function a(a){return a}function b(a){throw a;}function d(a,d){a.subpromisesValue=d;var b=a.subpromises;if(b){for(var e=0;e<b.length;e++)b[e].fulfill(d);delete a.subpromises}}function e(a,d){a.subpromisesReason=d;var b=a.subpromises;if(b){for(var e=0;e<b.length;e++)b[e].reject(d);delete a.subpromises}}function f(a,b,f){try{var g=a(b);"object"===typeof g&&null!==g&&"function"===typeof g.then?g.then(function(a){d(f,a)},function(a){e(f,a)}):d(f,g)}catch(l){e(f,l)}}function g(){for(;0<
p.length;){var a=p[0];a.directCallback?a.callback.call(a.subject,a.arg):f(a.callback,a.arg,a.subject);p.shift()}}function m(a,d,b,e){0===p.length&&setTimeout(g,0);p.push({callback:a,arg:d,subject:b,directCallback:e})}function l(d,e){this.state="pending";this.onFulfilled="function"===typeof d?d:a;this.onRejected="function"===typeof e?e:b}var p=[];l.prototype={fulfill:function(a){"pending"===this.state&&(this.state="fulfilled",this.value=a,m(this.onFulfilled,a,this,!1))},reject:function(a){"pending"===
this.state&&(this.state="rejected",this.reason=a,m(this.onRejected,a,this,!1))},then:function(a,d){var b=new l(a,d);"subpromisesValue"in this?m(b.fulfill,this.subpromisesValue,b,!0):"subpromisesReason"in this?m(b.reject,this.subpromisesReason,b,!0):(this.subpromises||(this.subpromises=[])).push(b);return b},get resolved(){return"fulfilled"===this.state},resolve:function(a){this.fulfill(a)}};l.when=function(){function a(l){f.push(l);g<e.length?e[g++].then(a,d):b.resolve(f);return l}function d(a){b.reject(a)}
var b=new l;if(0===arguments.length)return b.resolve(),b;var e=slice.call(arguments,0),f=[],g=1;e[0].then(a,d);return b};return l}(),QuadTree=function(a,b,d,e,f){this.x=a|0;this.y=b|0;this.width=d|0;this.height=e|0;this.level=f|0;this.stuckObjects=[];this.objects=[];this.nodes=[]};QuadTree.prototype._findIndex=function(a,b,d,e){var f=this.x+(this.width/2|0),g=this.y+(this.height/2|0);e=b<g&&e<g;b=b>g;if(a<f&&d<f){if(e)return 1;if(b)return 2}else if(a>f){if(e)return 0;if(b)return 3}return-1};
QuadTree.prototype.insert=function(a){var b=this.nodes;if(b.length){var d=this._findIndex(a.xMin,a.yMin,a.xMax,a.yMax);-1<d?b[d].insert(a):(this.stuckObjects.push(a),a._qtree=this)}else if(b=this.objects,b.push(a),4<b.length&&10>this.level)for(this._subdivide();b.length;)this.insert(b.shift());else a._qtree=this};
QuadTree.prototype.delete=function(a){if(a._qtree===this){var b=this.objects.indexOf(a);-1<b?this.objects.splice(b,1):(b=this.stuckObjects.indexOf(a),this.stuckObjects.splice(b,1));a._qtree=null}};QuadTree.prototype._stack=[];QuadTree.prototype._out=[];
QuadTree.prototype.retrieve=function(a,b,d,e){var f=this._stack,g=this._out;g.length=0;var m=this;do{if(m.nodes.length){var l=m._findIndex(a,b,d,e);-1<l?f.push(m.nodes[l]):f.push.apply(f,m.nodes)}g.push.apply(g,m.stuckObjects);g.push.apply(g,m.objects);m=f.pop()}while(m);return g};
QuadTree.prototype._subdivide=function(){var a=this.width/2|0,b=this.height/2|0,d=this.x+a,e=this.y+b,f=this.level+1;this.nodes[0]=new QuadTree(d,this.y,a,b,f);this.nodes[1]=new QuadTree(this.x,this.y,a,b,f);this.nodes[2]=new QuadTree(this.x,e,a,b,f);this.nodes[3]=new QuadTree(d,e,a,b,f)};var EXTERNAL_INTERFACE_FEATURE=1,CLIPBOARD_FEATURE=2,SHAREDOBJECT_FEATURE=3,VIDEO_FEATURE=4,SOUND_FEATURE=5,NETCONNECTION_FEATURE=6;this.performance||(this.performance={});
this.performance.now||(this.performance.now=Date.now);
var SWF_TAG_CODE_CSM_TEXT_SETTINGS=74,SWF_TAG_CODE_DEFINE_BINARY_DATA=87,SWF_TAG_CODE_DEFINE_BITS=6,SWF_TAG_CODE_DEFINE_BITS_JPEG2=21,SWF_TAG_CODE_DEFINE_BITS_JPEG3=35,SWF_TAG_CODE_DEFINE_BITS_JPEG4=90,SWF_TAG_CODE_DEFINE_BITS_LOSSLESS=20,SWF_TAG_CODE_DEFINE_BITS_LOSSLESS2=36,SWF_TAG_CODE_DEFINE_BUTTON=7,SWF_TAG_CODE_DEFINE_BUTTON2=34,SWF_TAG_CODE_DEFINE_BUTTON_CXFORM=23,SWF_TAG_CODE_DEFINE_BUTTON_SOUND=17,SWF_TAG_CODE_DEFINE_EDIT_TEXT=37,SWF_TAG_CODE_DEFINE_FONT=10,SWF_TAG_CODE_DEFINE_FONT2=48,SWF_TAG_CODE_DEFINE_FONT3=
75,SWF_TAG_CODE_DEFINE_FONT4=91,SWF_TAG_CODE_DEFINE_FONT_ALIGN_ZONES=73,SWF_TAG_CODE_DEFINE_FONT_INFO=13,SWF_TAG_CODE_DEFINE_FONT_INFO2=62,SWF_TAG_CODE_DEFINE_FONT_NAME=88,SWF_TAG_CODE_DEFINE_MORPH_SHAPE=46,SWF_TAG_CODE_DEFINE_MORPH_SHAPE2=84,SWF_TAG_CODE_DEFINE_SCALING_GRID=78,SWF_TAG_CODE_DEFINE_SCENE_AND_FRAME_LABEL_DATA=86,SWF_TAG_CODE_DEFINE_SHAPE=2,SWF_TAG_CODE_DEFINE_SHAPE2=22,SWF_TAG_CODE_DEFINE_SHAPE3=32,SWF_TAG_CODE_DEFINE_SHAPE4=83,SWF_TAG_CODE_DEFINE_SOUND=14,SWF_TAG_CODE_DEFINE_SPRITE=
39,SWF_TAG_CODE_DEFINE_TEXT=11,SWF_TAG_CODE_DEFINE_TEXT2=33,SWF_TAG_CODE_DEFINE_VIDEO_STREAM=60,SWF_TAG_CODE_DO_ABC=82,SWF_TAG_CODE_DO_ABC_=72,SWF_TAG_CODE_DO_ACTION=12,SWF_TAG_CODE_DO_INIT_ACTION=59,SWF_TAG_CODE_ENABLE_DEBUGGER=58,SWF_TAG_CODE_ENABLE_DEBUGGER2=64,SWF_TAG_CODE_END=0,SWF_TAG_CODE_EXPORT_ASSETS=56,SWF_TAG_CODE_FILE_ATTRIBUTES=69,SWF_TAG_CODE_FRAME_LABEL=43,SWF_TAG_CODE_IMPORT_ASSETS=57,SWF_TAG_CODE_IMPORT_ASSETS2=71,SWF_TAG_CODE_JPEG_TABLES=8,SWF_TAG_CODE_METADATA=77,SWF_TAG_CODE_PLACE_OBJECT=
4,SWF_TAG_CODE_PLACE_OBJECT2=26,SWF_TAG_CODE_PLACE_OBJECT3=70,SWF_TAG_CODE_PROTECT=24,SWF_TAG_CODE_REMOVE_OBJECT=5,SWF_TAG_CODE_REMOVE_OBJECT2=28,SWF_TAG_CODE_SCRIPT_LIMITS=65,SWF_TAG_CODE_SET_BACKGROUND_COLOR=9,SWF_TAG_CODE_SET_TAB_INDEX=66,SWF_TAG_CODE_SHOW_FRAME=1,SWF_TAG_CODE_SOUND_STREAM_BLOCK=19,SWF_TAG_CODE_SOUND_STREAM_HEAD=18,SWF_TAG_CODE_SOUND_STREAM_HEAD2=45,SWF_TAG_CODE_START_SOUND=15,SWF_TAG_CODE_START_SOUND2=89,SWF_TAG_CODE_SYMBOL_CLASS=76,SWF_TAG_CODE_VIDEO_FRAME=61;self.SWF={};
for(var codeLengthOrder=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],distanceCodes=[],distanceExtraBits=[],i=0,j=0,code=1;30>i;++i)distanceCodes[i]=code,code+=1<<(distanceExtraBits[i]=~~((j+=2<i?1:0)/2));for(var bitLengths=[],i=0;32>i;++i)bitLengths[i]=5;for(var fixedDistanceTable=makeHuffmanTable(bitLengths),lengthCodes=[],lengthExtraBits=[],j=i=0,code=3;29>i;++i)lengthCodes[i]=code-(28==i?1:0),code+=1<<(lengthExtraBits[i]=~~((j+=4<i?1:0)/4%6));
for(i=0;288>i;++i)bitLengths[i]=144>i||279<i?8:256>i?9:7;var fixedLiteralTable=makeHuffmanTable(bitLengths);function makeHuffmanTable(a){for(var b=max.apply(null,a),d=a.length,e=1<<b,f=new Uint32Array(e),g=0,m=1,l=2;m<=b;g<<=1,++m,l<<=1)for(var p=0;p<d;++p)if(a[p]===m){for(var r=0,s=0;s<m;++s)r=2*r+(g>>s&1);for(s=r;s<e;s+=l)f[s]=m<<16|p;++g}return{codes:f,maxBits:b}}function verifyDeflateHeader(){}
function createInflatedStream(a,b){verifyDeflateHeader(a);var d=new Stream(a,2),e={data:new Uint8Array(b),available:0,completed:!1},f={};do inflateBlock(d,e,f);while(!e.completed&&d.pos<d.end);return new Stream(e.data,0,e.available)}var InflateNoDataError={};
function inflateBlock(a,b,d){var e=void 0!==d.header?d.header:d.header=readBits(a.bytes,a,3);switch(e>>1){case 0:a.align();var f=a.pos;if(4>a.end-f)throw InflateNoDataError;var g=a.getUint16(f,!0);a.getUint16(f+2,!0);if(a.end-f<4+g)throw InflateNoDataError;var m=f+4,l=a.pos=m+g,f=a.bytes;splice.apply(b.data,[b.available,g].concat(slice.call(f,m,l)));b.available+=g;break;case 1:inflate(a,b,fixedLiteralTable,fixedDistanceTable,d);break;case 2:if(void 0!==d.distanceTable)f=d.distanceTable,g=d.literalTable;
else{var f=a.bytes,m=a.pos,l=a.bitBuffer,p=a.bitLength,g=[],r,s;try{r=readBits(f,a,5)+257;s=readBits(f,a,5)+1;for(var v=r+s,w=readBits(f,a,4)+4,z=0;19>z;++z)g[codeLengthOrder[z]]=z<w?readBits(f,a,3):0;for(var A=makeHuffmanTable(g),g=[],w=z=0;z<v;){var C=1,u=readCode(f,a,A);switch(u){case 16:C=readBits(f,a,2)+3;u=w;break;case 17:C=readBits(f,a,3)+3;u=0;break;case 18:C=readBits(f,a,7)+11;u=0;break;default:w=u}for(;C--;)g[z++]=u}}catch(y){throw a.pos=m,a.bitBuffer=l,a.bitLength=p,y;}f=d.distanceTable=
makeHuffmanTable(g.splice(r,s));g=d.literalTable=makeHuffmanTable(g)}inflate(a,b,g,f,d);delete d.distanceTable;delete d.literalTable;break;default:fail("unknown block type","inflate")}delete d.header;b.completed=!!(e&1)}function readBits(a,b,d){var e=b.bitBuffer,f=b.bitLength;if(d>f){var g=b.pos,m=b.end;do{if(g>=m)throw b.pos=g,b.bitBuffer=e,b.bitLength=f,InflateNoDataError;e|=a[g++]<<f;f+=8}while(d>f);b.pos=g}b.bitBuffer=e>>>d;b.bitLength=f-d;return e&(1<<d)-1}
function inflate(a,b,d,e,f){for(var g=b.available,m=b.data,l=a.bytes,p=void 0!==f.sym?f.sym:readCode(l,a,d);256!==p;){if(256>p)m[g++]=p;else{f.sym=p;for(var p=p-257,p=void 0!==f.len?f.len:f.len=lengthCodes[p]+readBits(l,a,lengthExtraBits[p]),r=void 0!==f.sym2?f.sym2:f.sym2=readCode(l,a,e),r=distanceCodes[r]+readBits(l,a,distanceExtraBits[r]),r=g-r;p--;)m[g++]=m[r++];delete f.sym2;delete f.len;delete f.sym}b.available=g;p=readCode(l,a,d)}}
function readCode(a,b,d){var e=b.bitBuffer,f=b.bitLength,g=d.maxBits;if(g>f){var m=b.pos,l=b.end;do{if(m>=l)throw b.pos=m,b.bitBuffer=e,b.bitLength=f,InflateNoDataError;e|=a[m++]<<f;f+=8}while(g>f);b.pos=m}a=d.codes[e&(1<<g)-1];d=a>>16;b.bitBuffer=e>>>d;b.bitLength=f-d;return a&65535}
for(var StreamNoDataError={},Stream=function(){function a(){this.bitBuffer=this.bitLength=0}function b(a){if(this.pos+a>this.end)throw StreamNoDataError;}function d(){return this.end-this.pos}function e(a,d){var b=new g(this.bytes);b.pos=a;b.end=d;return b}function f(a){var d=this.bytes,b=this.end+a.length;if(b>d.length)throw"stream buffer overfow";d.set(a,this.end);this.end=b}function g(g,l,p,r){void 0===l&&(l=0);g.buffer instanceof ArrayBuffer&&(l+=g.byteOffset,g=g.buffer);void 0===p&&(p=g.byteLength-
l);void 0===r&&(r=p);var s=new Uint8Array(g,l,r);g=new DataView(g,l,r);g.bytes=s;g.pos=0;g.end=p;g.bitBuffer=0;g.bitLength=0;g.align=a;g.ensure=b;g.remaining=d;g.substream=e;g.push=f;return g}return g}(),FORMAT_COLORMAPPED=3,FORMAT_15BPP=4,FORMAT_24BPP=5,FACTOR_5BBP=255/31,crcTable=[],i=0;256>i;i++){for(var c=i,h=0;8>h;h++)c=c&1?3988292384^c>>1&2147483647:c>>1&2147483647;crcTable[i]=c}function crc32(a,b,d){for(var e=-1;b<d;b++)e=e>>>8^crcTable[(e^a[b])&255];return e^-1}
function createPngChunk(a,b){var d=new Uint8Array(12+b.length),e=0,f=b.length;d[e]=f>>24&255;d[e+1]=f>>16&255;d[e+2]=f>>8&255;d[e+3]=f&255;d[e+4]=a.charCodeAt(0)&255;d[e+5]=a.charCodeAt(1)&255;d[e+6]=a.charCodeAt(2)&255;d[e+7]=a.charCodeAt(3)&255;b instanceof Uint8Array&&d.set(b,8);e=8+f;f=crc32(d,4,e);d[e]=f>>24&255;d[e+1]=f>>16&255;d[e+2]=f>>8&255;d[e+3]=f&255;return d}function adler32(a,b,d){for(var e=1,f=0;b<d;++b)e=(e+(a[b]&255))%65521,f=(f+e)%65521;return f<<16|e}
function defineBitmap(a){var b=a.width,d=a.height,e=a.hasAlpha,f="",g="",m,l=a.bmpData;switch(a.format){case 3:var p=3,r=b+3&-4;m=(a.colorTableSize+1)*(a.hasAlpha?4:3);var s=m+r*d,v=createInflatedStream(l,s),w=v.bytes,l=0;v.ensure(m);if(e){for(var f=new Uint8Array(3*(m/4)),z=0,g=new Uint8Array(m/4),e=0;l<m;)f[z++]=w[l],f[z++]=w[l+1],f[z++]=w[l+2],g[e++]=w[l+3],l+=4;f=createPngChunk("PLTE",f);g=createPngChunk("tRNS",g)}else f=createPngChunk("PLTE",w.subarray(l,l+m)),l+=m;m=new Uint8Array(b*d+d);for(z=
0;l<s;){v.ensure(r);var e=l,A=e+b;z++;m.set(w.subarray(e,A),z);z+=A-e;v.pos=l+=r}break;case 4:p=2;r=2*b+3&-4;v=createInflatedStream(l,r*d);l=0;m=new Uint8Array(3*b*d+d);for(s=z=0;s<d;++s){z++;v.ensure(r);for(A=0;A<b;++A)w=v.getUint16(l),l+=2,m[z++]=0|FACTOR_5BBP*(w>>10&31),m[z++]=0|FACTOR_5BBP*(w>>5&31),m[z++]=0|FACTOR_5BBP*(w&31);v.pos=l+=r}break;case 5:var C;e?(p=6,C=0,m=new Uint8Array(4*b*d+d)):(p=2,C=1,m=new Uint8Array(3*b*d+d));r=4*b;v=createInflatedStream(l,r*d);w=v.bytes;for(s=z=l=0;s<d;++s){v.ensure(r);
z++;for(A=0;A<b;++A){l+=C;if(e){var u=w[l];if(u){var y=u/255;m[z++]=0|w[l+1]/y;m[z++]=0|w[l+2]/y;m[z++]=0|w[l+3]/y;m[z++]=u}else z+=4}else m[z++]=w[l],m[z++]=w[l+1],m[z++]=w[l+2];l+=4-C}v.pos=l}break;default:fail("invalid format","bitmap")}p=new Uint8Array([b>>24&255,b>>16&255,b>>8&255,b&255,d>>24&255,d>>16&255,d>>8&255,d&255,8,p,0,0,0]);w=m.length;r=new Uint8Array(2+w+5*Math.ceil(w/65535)+4);v=0;r[v++]=120;r[v++]=156;for(l=0;65535<w;)r[v++]=0,r[v++]=255,r[v++]=255,r[v++]=0,r[v++]=0,r.set(m.subarray(l,
l+65535),v),v+=65535,l+=65535,w-=65535;r[v++]=1;r[v++]=w&255;r[v++]=w>>8&255;r[v++]=~w&255;r[v++]=(~w&65535)>>8&255;r.set(m.subarray(l),v);v+=m.length-l;l=adler32(m,0,m.length);r[v++]=l>>24&255;r[v++]=l>>16&255;r[v++]=l>>8&255;r[v++]=l&255;l=[new Uint8Array([137,80,78,71,13,10,26,10]),createPngChunk("IHDR",p),f,g,createPngChunk("IDAT",r),createPngChunk("IEND","")];return{type:"image",id:a.id,width:b,height:d,mimeType:"image/png",data:new Blob(l,{type:"image/png"})}}
function defineButton(a,b){for(var d=a.characters,e={up:{},over:{},down:{},hitTest:{}},f=0,g;(g=d[f++])&&!g.eob;){var m={symbolId:b[g.symbolId].id,hasMatrix:!!g.matrix,matrix:g.matrix};g.stateUp&&(e.up[g.depth]=m);g.stateOver&&(e.over[g.depth]=m);g.stateDown&&(e.down[g.depth]=m);g.stateHitTest&&(e.hitTest[g.depth]=m)}return{type:"button",id:a.id,buttonActions:a.buttonActions,states:e}}var nextFontId=1;function maxPower2(a){for(var b=0;2<=a;)a/=2,++b;return pow(2,b)}
function toString16(a){return fromCharCode(a>>8&255,a&255)}function toString32(a){return toString16(a>>16)+toString16(a)}
function defineFont(a){var b={},d=[],e={},f=[],g=a.glyphs,m=g.length;if(a.codes){for(var d=d.concat(a.codes),l=0,p;p=d[l];++l)e[p]=l;d.sort(function(a,d){return a-d});for(l=0;p=d[l++];){for(var r=p,s=r,v=[l-1];(p=d[l])&&s+1===p;)++s,v.push(l),++l;f.push([r,s,v])}}else{v=[];for(l=0;l<m;l++)p=57344+l,d.push(p),e[p]=l,v.push(l);f.push([57344,57344+m-1,v])}var w=a.resolution||1,v=Math.ceil(a.ascent/w)||1024,z=-Math.ceil(a.descent/w)|0,A=a.leading/w|0;b["OS/2"]="\x00\u0001\x00\x00"+toString16(a.bold?700:
400)+"\x00\u0005\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00ALF "+toString16((a.italic?1:0)|(a.bold?32:0))+toString16(d[0])+toString16(d[d.length-1])+toString16(v)+toString16(z)+toString16(A)+toString16(v)+toString16(-z)+"\x00\x00\x00\x00\x00\x00\x00\x00";for(var C="",u="",y="",D="",l=0,B;B=f[l++];)r=B[0],s=B[1],p=B[2][0],C+=toString16(r),u+=toString16(s),
y+=toString16(p-r+1&65535),D+=toString16(0);u+="\u00ff\u00ff";C+="\u00ff\u00ff";y+="\x00\u0001";D+="\x00\x00";f=f.length+1;l=2*maxPower2(f);r=2*f-l;l="\x00\x00"+toString16(2*f)+toString16(l)+toString16(logE(f)/logE(2))+toString16(r)+u+"\x00\x00"+C+y+D;b.cmap="\x00\x00\x00\u0001\x00\u0003\x00\u0001\x00\x00\x00\f\x00\u0004"+toString16(l.length+4)+l;f="\x00\u0001\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x001\x00";u="\x00\x00";C=16;y=0;r=[];s=[];B=[];for(var E=[],l=D=0;p=d[l++];){var G=g[e[p]].records;
p=1;for(var J=0,P="",Q="",S="",O="",F=0,H=0,R=1024,K=-1024,I=1024,M=-1024,T=0,L;L=G[T];++T)if(L.type){if(L.isStraight)if(L.isGeneral){var Q=Q+"\u0001",N=L.deltaX/w;L=-L.deltaY/w;S+=toString16(N);O+=toString16(L);F+=N;H+=L}else L.isVertical?(Q+="\u0011",L=-L.deltaY/w,O+=toString16(L),H+=L):(Q+="!",N=L.deltaX/w,S+=toString16(N),F+=N);else{var Q=Q+"\x00",V=L.controlDeltaX/w,ca=-L.controlDeltaY/w,S=S+toString16(V),O=O+toString16(ca),Q=Q+"\u0001",N=L.anchorDeltaX/w;L=-L.anchorDeltaY/w;S+=toString16(N);
O+=toString16(L);++J;F+=V+N;H+=ca+L}F<R&&(R=F);F>K&&(K=F);H<I&&(I=H);H>M&&(M=H);++J}else{if(L.eos)break;L.move&&(J&&(++p,P+=toString16(J-1)),Q+="\u0001",V=L.moveX/w,ca=-L.moveY/w,N=V-F,L=ca-H,S+=toString16(N),O+=toString16(L),F=V,H=ca,J>y&&(y=J),F<R&&(R=F),F>K&&(K=F),H<I&&(I=H),H>M&&(M=H),++J)}P+=toString16((J||1)-1);T||(R=K=I=M=0,Q+="1");G=toString16(p)+toString16(R)+toString16(I)+toString16(K)+toString16(M)+P+"\x00\x00"+Q+S+O;G.length&1&&(G+="\x00");f+=G;u+=toString16(C/2);C+=G.length;r.push(R);
s.push(K);B.push(I);E.push(M);p>D&&(D=p);J>y&&(y=J)}u+=toString16(C/2);b.glyf=f;b.head="\x00\u0001\x00\x00\x00\u0001\x00\x00\x00\x00\x00\x00_\u000f<\u00f5\x00\v\u0004\x00\x00\x00\x00\x00"+toString32(Date.now())+"\x00\x00\x00\x00"+toString32(Date.now())+toString16(min.apply(null,r))+toString16(min.apply(null,B))+toString16(max.apply(null,s))+toString16(max.apply(null,E))+toString16((a.italic?2:0)|(a.bold?1:0))+"\x00\b\x00\u0002\x00\x00\x00\x00";g=a.advance;b.hhea="\x00\u0001\x00\x00"+toString16(v)+
toString16(z)+toString16(A)+toString16(g?max.apply(null,g):1024)+"\x00\x00\x00\x00\u0003\u00b8\x00\u0001\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"+toString16(m+1);C="\x00\x00\x00\x00";for(l=0;l<m;++l)C+=toString16(g?g[l]/w:1024)+"\x00\x00";b.hmtx=C;if(a.kerning){w=a.kerning;g=w.length;l=2*maxPower2(g);g="\x00\x00\x00\u0001\x00\x00"+toString16(14+6*g)+"\x00\u0001"+toString16(g)+toString16(l)+toString16(logE(g)/logE(2))+toString16(2*g-l);for(l=0;L=w[l++];)g+=toString16(e[L.code1])+toString16(e[L.code2])+
toString16(L.adjustment);b.kern=g}b.loca=u;b.maxp="\x00\u0001\x00\x00"+toString16(m+1)+toString16(y)+toString16(D)+"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";e="swf-font-"+nextFontId++;m=a.name||e;w=m.replace(/ /g,"");u=[a.copyright||"Original licence",m,"Unknown",e,m,"1.0",w,"Unknown","Unknown","Unknown"];l=u.length;g="\x00\x00"+toString16(l)+toString16(12*l+6);for(l=C=0;y=u[l++];)g+="\x00\u0001\x00\x00\x00\x00"+toString16(l-1)+toString16(y.length)+
toString16(C),C+=y.length;b.name=g+u.join("");b.post="\x00\u0003\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";u=keys(b);l=u.length;y="\x00\u0001\x00\x00"+toString16(l)+"\x00\u0080\x00\u0003\x00 ";D="";C=16*l+y.length;for(l=0;g=u[l++];){f=b[g];r=f.length;for(y+=g+"\x00\x00\x00\x00"+toString32(C)+toString32(r);r&3;)f+="\x00",++r;for(D+=f;C&3;)++C;C+=r}return{type:"font",id:a.id,name:m,uniqueName:w+e,codes:d,metrics:{ascent:v/
1024,descent:-z/1024,leading:A/1024},bold:1===a.bold,italic:1===a.italic,data:y+D}}function getUint16(a,b){return a[b]<<8|a[b+1]}function parseJpegChunks(a,b){var d=0,e=b.length,f=[],g;do{for(var m=d;d<e&&255!==b[d];)++d;for(;d<e&&255===b[d];)++d;g=b[d++];if(218===g)d=e;else if(217===g){d+=2;continue}else if(208>g||216<g){var l=getUint16(b,d);192<=g&&195>=g&&(a.height=getUint16(b,d+3),a.width=getUint16(b,d+5));d+=l}f.push(b.subarray(m,d))}while(d<e);return f}
function defineImage(a,b){var d={type:"image",id:a.id,mimeType:a.mimeType},e=a.imgData;if("image/jpeg"===a.mimeType){var e=parseJpegChunks(d,e),f=a.alphaData;f&&(d.mask=createInflatedStream(f,d.width*d.height).bytes);if(a.incomplete&&(f=b[0].data)&&f.size)e[0]=e[0].subarray(2),e.unshift(f.slice(0,f.size-2))}else e=[e];d.data=new Blob(e,{type:a.mimeType});return d}
function defineLabel(a,b){for(var d=a.records,e=a.matrix,f=["c.save()","c.transform("+[e.a,e.b,e.c,e.d,e.tx/20,e.ty/20].join()+")","c.scale(0.05, 0.05)"],e=[],g=0,m=0,l=0,p,r;(p=d[l++])&&!p.eot;){if(p.hasFont){var s=b[p.fontId];r=s.codes;f.push('c.font="'+p.fontHeight+"px '"+s.uniqueName+"'\"");e.push(s.id)}p.hasColor?(f.push('ct.setFillStyle(c,"'+rgbaObjToStr(p.color)+'")'),f.push("ct.setAlpha(c)")):f.push("ct.setAlpha(c,true)");p.hasMoveX&&(g=p.moveX);p.hasMoveY&&(m=p.moveY);p=p.entries;for(var s=
0,v;v=p[s++];){var w=r[v.glyphIndex],w=32<=w&&34!=w&&92!=w?fromCharCode(w):"\\u"+(w+65536).toString(16).substring(1);f.push('c.fillText("'+w+'",'+g+","+m+")");g+=v.advance}}f.push("c.restore()");d={type:"label",id:a.id,bbox:a.bbox,data:f.join("\n")};e.length&&(d.require=e);return d}
var GRAPHICS_FILL_CLIPPED_BITMAP=65,GRAPHICS_FILL_FOCAL_RADIAL_GRADIENT=19,GRAPHICS_FILL_LINEAR_GRADIENT=16,GRAPHICS_FILL_NONSMOOTHED_CLIPPED_BITMAP=67,GRAPHICS_FILL_NONSMOOTHED_REPEATING_BITMAP=66,GRAPHICS_FILL_RADIAL_GRADIENT=18,GRAPHICS_FILL_REPEATING_BITMAP=64,GRAPHICS_FILL_SOLID=0;
function applySegmentToStyles(a,b,d,e,f){if(a){var g=a.commands,m=a.data;a=a.morphData;var l,p;if(b.fill0){e=e[b.fill0-1];!b.fill1&&!b.line?(l=e.head(),l.commands=[],l.data=[],l.morphData=f?[]:null):l=e.addSegment([],[],f?[]:null);e=l.commands;var r=l.data,s=l.morphData;e.push(SHAPE_MOVE_TO);var v=m.length-2;r.push(m[v],m[v+1]);f&&s.push(a[v],a[v+1]);for(p=g.length;1<p--;v-=2)l=g[p],e.push(l),r.push(m[v-2],m[v-1]),f&&s.push(a[v-2],a[v-1]),l===SHAPE_CURVE_TO&&(r.push(m[v-4],m[v-3]),f&&s.push(a[v-4],
a[v-3]),v-=2)}b.line&&b.fill1&&(e=d[b.line-1],e.addSegment(g,m,a))}}
function convertRecordsToStyledPaths(a,b,d,e,f,g,m){for(var l=null!==g,p={fill0:0,fill1:0,line:0},r=null,s=b,v=d,w=a.length-1,z=0,A=0,C=0,u=0,y,D=0,B=0;D<w;D++){var E=a[D],G;l&&(G=g[B++]);if(0===E.type)r&&applySegmentToStyles(r,p,d,b,l),E.hasNewStyles&&(b=createPathsList(E.fillStyles,!1,e,f),push.apply(s,b),d=createPathsList(E.lineStyles,!0,e,f),push.apply(v,d),p={fill0:0,fill1:0,line:0}),E.hasFillStyle0&&(p.fill0=E.fillStyle0),E.hasFillStyle1&&(p.fill1=E.fillStyle1),E.hasLineStyle&&(p.line=E.lineStyle),
p.fill1?y=b[p.fill1-1]:p.line?y=d[p.line-1]:p.fill0&&(y=b[p.fill0-1]),E.move&&(z=E.moveX|0,A=E.moveY|0),y&&(r=y.addSegment([],[],l?[]:null),r.commands.push(SHAPE_MOVE_TO),r.data.push(z,A),l&&(0===G.type?(C=G.moveX|0,u=G.moveY|0):(C=z,u=A,B--),r.morphData.push(C,u)));else{if(l){for(;G&&0===G.type;)G=g[B++];G||(G=E)}if(E.isStraight&&(!l||G.isStraight))z+=E.deltaX|0,A+=E.deltaY|0,r.commands.push(SHAPE_LINE_TO),r.data.push(z,A),l&&(C+=G.deltaX|0,u+=G.deltaY|0,r.morphData.push(C,u));else{var J,P,Q;E.isStraight?
(Q=E.deltaX|0,E=E.deltaY|0,J=z+(Q>>1),P=A+(E>>1),z+=Q,A+=E):(J=z+E.controlDeltaX|0,P=A+E.controlDeltaY|0,z=J+E.anchorDeltaX|0,A=P+E.anchorDeltaY|0);r.commands.push(SHAPE_CURVE_TO);r.data.push(J,P,z,A);l&&(G.isStraight?(Q=G.deltaX|0,E=G.deltaY|0,J=C+(Q>>1),P=u+(E>>1),C+=Q,u+=E):(J=C+G.controlDeltaX|0,P=u+G.controlDeltaY|0,C=J+G.anchorDeltaX|0,u=P+G.anchorDeltaY|0),r.morphData.push(J,P,C,u))}}}applySegmentToStyles(r,p,d,b,l);push.apply(s,v);for(D=a=0;D<s.length;D++)y=s[D],y.head()?s[D-a]=segmentedPathToShapePath(y,
l,m):a++;s.length-=a;return s}
function segmentedPathToShapePath(a,b,d){for(var e=a.head(),f=e,g=null,m=null,l=0,p=e.prev;e;){for(;p;)a.segmentsConnect(p,e)?(p.next!==e&&(a.removeSegment(p),a.insertSegment(p,e)),e=p,p=e.prev,l++):a.segmentsConnect(f,p)?(a.removeSegment(p),f.next=p,p=p.prev,f.next.prev=f,f.next.next=null,f=f.next,l++):p=p.prev;p=e.prev;g?(m.next=e,e.prev=m,m=f,m.next=null):(g=e,m=f);if(!p)break;e=f=p;p=e.prev}e=-l;l=-l<<1;for(p=g;p;)e+=p.commands.length,l+=p.data.length,p=p.next;a=new ShapePath(a.fillStyle,a.lineStyle,
e,l,b,d);d=a.commands;l=a.data;e=a.morphData;m=f=0;for(p=g;p;){for(var g=p.commands,r=p.data,s=p.morphData,v=+(r[0]===l[m-2]&&r[1]===l[m-1]),w=v;w<g.length;w++,f++)d[f]=g[w];for(w=v<<1;w<r.length;w++,m++)l[m]=r[w],b&&(e[m]=s[w]);p=p.next}return a}var CAPS_STYLE_TYPES=["round","none","square"],JOIN_STYLE_TYPES=["round","bevel","miter"];
function processStyle(a,b,d,e){if(b&&(a.lineCap=CAPS_STYLE_TYPES[a.endCapStyle|0],a.lineJoin=JOIN_STYLE_TYPES[a.joinStyle|0],a.miterLimit=2*a.miterLimitFactor,!a.color&&a.hasFill)){var f=processStyle(a.fillStyle,!1,d,e);a.style=f.style;a.type=f.type;a.transform=f.transform;a.records=f.records;a.focalPoint=f.focalPoint;a.bitmapId=f.bitmapId;a.repeat=f.repeat;a.fillStyle=null;return a}if(void 0===a.type||0===a.type)return f=a.color,a.style="rgba("+f.red+","+f.green+","+f.blue+","+f.alpha/255+")",a.color=
null,a;switch(a.type){case 16:case 18:case 19:f=819.2;break;case 64:case 65:case 66:case 67:d[a.bitmapId]&&(e.push(d[a.bitmapId].id),f=0.05);break;default:fail("invalid fill style","shape")}if(!a.matrix)return a;b=a.matrix;a.transform={a:b.a*f,b:b.b*f,c:b.c*f,d:b.d*f,e:b.tx,f:b.ty};a.matrix=null;return a}function createPathsList(a,b,d,e){for(var f=[],g=0;g<a.length;g++){var m=processStyle(a[g],b,d,e);f[g]=b?new SegmentedPath(null,m):new SegmentedPath(m,null)}return f}
function defineShape(a,b){var d=[],e=[],f=createPathsList(a.fillStyles,!1,b,d),g=createPathsList(a.lineStyles,!0,b,d),f=convertRecordsToStyledPaths(a.records,f,g,b,d,a.recordsMorph||null,e);if(a.bboxMorph&&(g=a.bboxMorph,extendBoundsByPoint(a.bbox,g.xMin,g.yMin),extendBoundsByPoint(a.bbox,g.xMax,g.yMax),g=a.strokeBboxMorph))extendBoundsByPoint(a.strokeBbox,g.xMin,g.yMin),extendBoundsByPoint(a.strokeBbox,g.xMax,g.yMax);return{type:"shape",id:a.id,strokeBbox:a.strokeBbox,strokeBboxMorph:a.strokeBboxMorph,
bbox:a.bbox,bboxMorph:a.bboxMorph,isMorph:a.isMorph,paths:f,require:d.length?d:null,transferables:e}}function logShape(a,b){var d='{"bounds":'+JSON.stringify(b)+',"paths":['+a.map(function(a){return a.serialize()}).join()+"]}";console.log(d)}function SegmentedPath(a,b){this.fillStyle=a;this.lineStyle=b;this._head=null}
SegmentedPath.prototype={addSegment:function(a,b,d){a={commands:a,data:b,morphData:d,prev:this._head,next:null};this._head&&(this._head.next=a);return this._head=a},removeSegment:function(a){a.prev&&(a.prev.next=a.next);a.next&&(a.next.prev=a.prev)},insertSegment:function(a,b){var d=b.prev;a.prev=d;a.next=b;d&&(d.next=a);b.prev=a},head:function(){return this._head},segmentsConnect:function(a,b){var d=a.data.length;return a.data[d-2]===b.data[0]&&a.data[d-1]===b.data[1]}};
var SHAPE_MOVE_TO=1,SHAPE_LINE_TO=2,SHAPE_CURVE_TO=3,SHAPE_WIDE_MOVE_TO=4,SHAPE_WIDE_LINE_TO=5,SHAPE_CUBIC_CURVE_TO=6,SHAPE_CIRCLE=7,SHAPE_ELLIPSE=8;
function ShapePath(a,b,d,e,f,g){this.fillStyle=a;this.lineStyle=b;d?(this.commands=new Uint8Array(d),this.data=new Int32Array(e),this.morphData=f?new Int32Array(e):null):(this.commands=[],this.data=[]);this.strokeBounds=this.bounds=null;this.isMorph=!!f;this.fullyInitialized=!1;inWorker?(this.buffers=[this.commands.buffer,this.data.buffer],g.push(this.commands.buffer,this.data.buffer),f&&(this.buffers.push(this.morphData.buffer),g.push(this.morphData.buffer))):this.buffers=null}
ShapePath.prototype={moveTo:function(a,b){1===this.commands[this.commands.length-1]?(this.data[this.data.length-2]=a,this.data[this.data.length-1]=b):(this.commands.push(1),this.data.push(a,b))},lineTo:function(a,b){this.commands.push(2);this.data.push(a,b)},curveTo:function(a,b,d,e){this.commands.push(3);this.data.push(a,b,d,e)},cubicCurveTo:function(a,b,d,e,f,g){this.commands.push(6);this.data.push(a,b,d,e,f,g)},rect:function(a,b,d,e){d=a+d;e=b+e;this.commands.push(1,2,2,2,2);this.data.push(a,b,
d,b,d,e,a,e,a,b)},circle:function(a,b,d){this.commands.push(7);this.data.push(a,b,d)},ellipse:function(a,b,d,e){this.commands.push(8);this.data.push(a,b,d,e)},draw:function(a,b,d,e){if(!b||this.fillStyle){a.beginPath();var f=this.commands,g=this.data,m=this.morphData,l=!1,p=0,r=0;if(this.isMorph)for(v=s=0;s<f.length;s++)switch(f[s]){case 1:a.moveTo(morph(g[v]/20,m[v++]/20,d),morph(g[v]/20,m[v++]/20,d));break;case 2:a.lineTo(morph(g[v]/20,m[v++]/20,d),morph(g[v]/20,m[v++]/20,d));break;case 3:a.quadraticCurveTo(morph(g[v]/
20,m[v++]/20,d),morph(g[v]/20,m[v++]/20,d),morph(g[v]/20,m[v++]/20,d),morph(g[v]/20,m[v++]/20,d));break;default:console.warn("Drawing command not supported for morph shapes: "+f[s])}else for(var s=0,v=0;s<f.length;s++)switch(f[s]){case 1:l=!0;p=g[v++]/20;r=g[v++]/20;a.moveTo(p,r);break;case 4:a.moveTo(g[v++]/20,g[v++]/20);v+=2;break;case 2:a.lineTo(g[v++]/20,g[v++]/20);break;case 5:a.lineTo(g[v++]/20,g[v++]/20);v+=2;break;case 3:a.quadraticCurveTo(g[v++]/20,g[v++]/20,g[v++]/20,g[v++]/20);break;case 6:a.bezierCurveTo(g[v++]/
20,g[v++]/20,g[v++]/20,g[v++]/20,g[v++]/20,g[v++]/20);break;case 7:l&&(a.lineTo(p,r),l=!1);a.moveTo((g[v]+g[v+2])/20,g[v+1]/20);a.arc(g[v++]/20,g[v++]/20,g[v++]/20,0,2*Math.PI,!1);break;case 8:l&&(a.lineTo(p,r),l=!1);d=g[v++];var m=g[v++],w=g[v++],z=g[v++],A;if(w!==z){a.save();var C;w>z?(C=w/z,A=z,d/=C,a.scale(C,1)):(C=z/w,A=w,m/=C,a.scale(1,C))}a.moveTo((d+A)/20,m/20);a.arc(d/20,m/20,A/20,0,2*Math.PI,!1);w!==z&&a.restore();break;default:if(0===f[s]&&s===f.length-1)break;console.warn("Unknown drawing command encountered: "+
f[s])}if(!b){if(b=this.fillStyle)e.setFillStyle(a,b.style),a.imageSmoothingEnabled=a.mozImageSmoothingEnabled=b.smooth,b=b.transform,a.save(),e.setAlpha(a),b&&a.transform(b.a,b.b,b.c,b.d,b.e/20,b.f/20),a.fill(),a.restore();if(b=this.lineStyle)e.setStrokeStyle(a,b.style),a.save(),e.setAlpha(a),a.lineWidth=Math.max(b.width/20,1),a.lineCap=b.lineCap,a.lineJoin=b.lineJoin,a.miterLimit=b.miterLimit,a.stroke(),a.restore()}a.closePath()}},isPointInPath:function(a,b){if(!this.fillStyle&&!this.lineStyle)return!1;
var d=this.strokeBounds||this.bounds||this._calculateBounds();return a<d.xMin||a>d.xMax||b<d.yMin||b>d.yMax?!1:this.fillStyle&&this.isPointInFill(a,b)?!0:this.lineStyle&&void 0!==this.lineStyle.width&&this.isPointInStroke(a,b)},isPointInFill:function(a,b){for(var d=this.commands,e=this.data,f=d.length,g=!1,m=0,l=0,p=0,r=0,s,v,w=!1,z=0,A=0,C=0,u=0;C<f;C++){switch(d[C]){case 4:u+=2;case 1:p=e[u++];r=e[u++];w&&intersectsLine(a,b,m,l,z,A)&&(g=!g);w=!0;z=p;A=r;break;case 5:u+=2;case 2:p=e[u++];r=e[u++];
intersectsLine(a,b,m,l,p,r)&&(g=!g);break;case 3:s=e[u++];v=e[u++];p=e[u++];r=e[u++];if(v>b===l>b&&r>b===l>b)break;if(m>=a&&s>=a&&p>=a){g=!g;break}var y=l-2*v+r;v=2*(v-l);var D=v*v-4*y*(l-b);if(0>D)break;D=Math.sqrt(D);y=1/(y+y);l=(D-v)*y;v=(-v-D)*y;0<=l&&(1>=l&&quadraticBezier(m,s,p,l)>a)&&(g=!g);0<=v&&(1>=v&&quadraticBezier(m,s,p,v)>a)&&(g=!g);break;case 6:s=e[u++];v=e[u++];y=e[u++];D=e[u++];p=e[u++];r=e[u++];if(v>b===l>b&&D>b===l>b&&r>b===l>b)break;if(m>=a&&s>=a&&y>=a&&p>=a){g=!g;break}s=cubicXAtY(m,
l,s,v,y,D,p,r,b);for(m=s.length;m--;)s[m]>=a&&(g=!g);break;case 7:p=e[u++];r=e[u++];s=e[u++];m=a-p;l=b-r;m*m+l*l<s*s&&(g=!g);p+=s;break;case 8:s=e[u++];v=e[u++];p=e[u++];r=e[u++];m=a-s;l=b-v;1>=m*m/(p*p)+l*l/(r*r)&&(g=!g);p=s+p;r=v;break;default:inWorker||console.warn("Drawing command not handled in isPointInPath: "+d[C])}m=p;l=r}w&&intersectsLine(a,b,m,l,z,A)&&(g=!g);return g},isPointInStroke:function(a,b){for(var d=this.commands,e=this.data,f=d.length,g=this.lineStyle.width,m=g/2,l=m*m,p=a-m,r=
a+m,s=b-m,v=b+m,w=0,z=0,A=0,C=0,u,y,D,B,E,G=0,J=0;G<f;G++){switch(d[G]){case 4:J+=2;case 1:A=e[J++];C=e[J++];break;case 5:J+=2;case 2:A=e[J++];C=e[J++];if(w===A&&z===C)break;if(r<w&&r<A||p>w&&p>A||v<z&&v<C||s>z&&s>C)break;if(A===w||C===z)return!0;E=((a-w)*(A-w)+(b-z)*(C-z))/distanceSq(w,z,A,C);if(0>E){if(distanceSq(a,b,w,z)<=l)return!0;break}if(1<E){if(distanceSq(a,b,A,C)<=l)return!0;break}if(distanceSq(a,b,w+E*(A-w),z+E*(C-z))<=l)return!0;break;case 3:u=e[J++];y=e[J++];var A=e[J++],C=e[J++],P=quadraticBezierExtreme(w,
u,A);if(r<w&&r<P&&r<A||p>w&&p>P&&p>A)break;P=quadraticBezierExtreme(z,y,C);if(v<z&&v<P&&v<C||s>z&&s>P&&s>C)break;for(E=0;1>E;E+=0.02)if(D=quadraticBezier(w,u,A,E),!(D<p||D>r))if(B=quadraticBezier(z,y,C,E),!(B<s||B>v)&&(a-D)*(a-D)+(b-B)*(b-B)<l)return!0;break;case 6:u=e[J++];y=e[J++];var P=e[J++],Q=e[J++],A=e[J++],C=e[J++];for(D=cubicBezierExtremes(w,u,P,A);2>D.length;)D.push(A);if(r<w&&r<A&&r<D[0]&&r<D[1]||p>w&&p>A&&p>D[0]&&p>D[1])break;for(D=cubicBezierExtremes(z,y,Q,C);2>D.length;)D.push(C);if(v<
z&&v<C&&v<D[0]&&v<D[1]||s>z&&s>C&&s>D[0]&&s>D[1])break;for(E=0;1>E;E+=0.02)if(D=cubicBezier(w,u,P,A,E),!(D<p||D>r))if(B=cubicBezier(z,y,Q,C,E),!(B<s||B>v)&&(a-D)*(a-D)+(b-B)*(b-B)<l)return!0;break;case 7:u=e[J++];y=e[J++];w=e[J++];A=u+w;C=y;if(r<u-w||p>u+w||v<y-w||s>y+w)break;u=a-u;y=b-y;z=w-m;w+=m;y=u*u+y*y;if(y>=z*z&&y<=w*w)return!0;break;case 8:u=e[J++];y=e[J++];w=e[J++];z=e[J++];A=u+w;C=y;u=Math.abs(a-u);y=Math.abs(b-y);u-=m;y-=m;if(1<u*u/(w*w)+y*y/(z*z))break;u+=g;y+=g;if(1<u*u/(w*w)+y*y/(z*
z))return!0;break;default:inWorker||console.warn("Drawing command not handled in isPointInPath: "+d[G])}w=A;z=C}return!1},getBounds:function(a){var b=a?this.strokeBounds:this.bounds;b||(this._calculateBounds(),b=a?this.strokeBounds:this.bounds);return b},_calculateBounds:function(){var a=this.commands,b=this.data,d=a.length,e;e=1===a[0]||6<a[0]?{xMin:b[0],yMin:b[1]}:{xMin:0,yMin:0};e.xMax=e.xMin;e.yMax=e.yMin;for(var f=e.xMin,g=e.yMin,m=0,l=0;m<d;m++){var p,r,s,v;switch(a[m]){case 4:l+=2;case 1:p=
b[l++];r=b[l++];extendBoundsByPoint(e,p,r);break;case 5:l+=2;case 2:p=b[l++];r=b[l++];extendBoundsByPoint(e,p,r);break;case 3:s=b[l++];v=b[l++];p=b[l++];r=b[l++];extendBoundsByPoint(e,p,r);(s<f||s>p)&&extendBoundsByX(e,quadraticBezierExtreme(f,s,p));(v<g||v>r)&&extendBoundsByY(e,quadraticBezierExtreme(g,v,r));break;case 6:s=b[l++];v=b[l++];var w=b[l++],z=b[l++];p=b[l++];r=b[l++];extendBoundsByPoint(e,p,r);if(s<f||w<f||s>p||w>p){f=cubicBezierExtremes(f,s,w,p);for(s=f.length;s--;)extendBoundsByX(e,
f[s])}if(v<g||z<g||v>r||z>r){f=cubicBezierExtremes(g,v,z,r);for(s=f.length;s--;)extendBoundsByY(e,f[s])}break;case 7:p=b[l++];r=b[l++];g=b[l++];extendBoundsByPoint(e,p-g,r-g);extendBoundsByPoint(e,p+g,r+g);p+=g;break;case 8:p=b[l++];r=b[l++];g=b[l++];v=b[l++];extendBoundsByPoint(e,p-g,r-v);extendBoundsByPoint(e,p+g,r+v);p+=g;break;default:inWorker||console.warn("Drawing command not handled in bounds calculation: "+a[m])}f=p;g=r}this.bounds=e;return this.lineStyle?(a=this.lineStyle.width/2,this.strokeBounds=
{xMin:e.xMin-a,yMin:e.yMin-a,xMax:e.xMax+a,yMax:e.yMax+a}):this.strokeBounds=e},serialize:function(){var a="{";this.fillStyle&&(a+='"fill":'+JSON.stringify(this.fillStyle)+",");this.lineStyle&&(a+='"stroke":'+JSON.stringify(this.lineStyle)+",");a+='"commands":['+Array.apply([],this.commands).join()+"],";a+='"data":['+Array.apply([],this.data).join()+"]";return a+"}"}};
ShapePath.fromPlainObject=function(a){var b=new ShapePath(a.fill||null,a.stroke||null);b.commands=new Uint8Array(a.commands);b.data=new Int32Array(a.data);inWorker||finishShapePath(b);return b};function distanceSq(a,b,d,e){a=d-a;b=e-b;return a*a+b*b}function intersectsLine(a,b,d,e,f,g){return g>b!==e>b&&a<(d-f)*(b-g)/(e-g)+f}function quadraticBezier(a,b,d,e){var f=1-e;return a*f*f+2*b*f*e+d*e*e}
function quadraticBezierExtreme(a,b,d){var e=(a-b)/(a-2*b+d);return 0>e?a:1<e?d:quadraticBezier(a,b,d,e)}function cubicBezier(a,b,d,e,f){var g=f*f,m=1-f,l=m*m;return a*m*l+3*b*f*l+3*d*m*g+e*f*g}function cubicBezierExtremes(a,b,d,e){var f=b-a,g;g=2*(d-b);var m=e-d;f+m===g&&(m*=1.0001);var l=2*f-g,p=g-2*f,p=Math.sqrt(p*p-4*f*(f-g+m));g=2*(f-g+m);f=(l+p)/g;l=(l-p)/g;p=[];0<=f&&1>=f&&p.push(cubicBezier(a,b,d,e,f));0<=l&&1>=l&&p.push(cubicBezier(a,b,d,e,l));return p}
function cubicXAtY(a,b,d,e,f,g,m,l,p){function r(a){return a*(z+a*(C+a*y))+b-p}function s(d){0>d?d=0:1<d&&(d=1);return a+d*(w+d*(A+d*u))}function v(a,d,b,e){if(!(Math.abs(b-d)<=e)){var f=0.5*(d+b);0>=a(d)*a(b)?(D=d,B=b):(v(a,d,f,e),v(a,f,b,e))}}var w=3*(d-a),z=3*(e-b),A=3*(f-d)-w,C=3*(g-e)-z,u=m-a-w-A,y=l-b-z-C,D=0,B=1;v(r,0,1,0.05);g=findRoot(D,B,r,50,1E-6);if(1E-5<Math.abs(r(g)))return[];d=[];1>=g&&d.push(s(g));e=y;f=g*e+C;m=f*f-4*e*(g*f+z);if(0>m)return d;m=Math.sqrt(m);e=1/(e+e);g=(m-f)*e;e*=
-f-m;0<=g&&1>=g&&d.push(s(g));0<=e&&1>=e&&d.push(s(e));return d}function findRoot(a,b,d,e,f){var g,m,l,p,r,s,v=a;m=d(a);if(0===m)return a;p=d(b);if(0===p)return b;if(0<p*m)return a;for(var w=0,z=0;z<e;++z){w++;g=0.5*(b+a);l=d(g);if(0===l)break;if(Math.abs(g-a)<f)break;0<l*m&&(a=b,b=m,m=p,p=b);b=l-m;s=p-l;r=p-m;if(p*r<2*l*b)b=g,p=l;else{p=(g-a)/b;b=(b-s)/(s*r);b=a-p*m*(1-b*l);p=d(b);if(0===p||Math.abs(b-v)<f)return b;v=b;0>p*m||(a=b,m=p,b=g,p=l)}}return g}
function extendBoundsByPoint(a,b,d){b<a.xMin?a.xMin=b:b>a.xMax&&(a.xMax=b);d<a.yMin?a.yMin=d:d>a.yMax&&(a.yMax=d)}function extendBoundsByX(a,b){b<a.xMin?a.xMin=b:b>a.xMax&&(a.xMax=b)}function extendBoundsByY(a,b){b<a.yMin?a.yMin=b:b>a.yMax&&(a.yMax=b)}function morph(a,b,d){return a+(b-a)*d}
function finishShapePath(a,b){if(a.fullyInitialized)return a;if(!(a instanceof ShapePath)){var d=a;a=new ShapePath(a.fillStyle,a.lineStyle,0,0,a.isMorph);a.commands=new Uint8Array(d.buffers[0]);a.data=new Int32Array(d.buffers[1]);d.isMorph&&(a.morphData=new Int32Array(d.buffers[2]));a.buffers=null}a.fillStyle&&initStyle(a.fillStyle,b);a.lineStyle&&initStyle(a.lineStyle,b);a.fullyInitialized=!0;return a}
var inWorker="undefined"===typeof window,factoryCtx=!inWorker?document.createElement("canvas").getContext("2d"):null;function buildLinearGradientFactory(a){for(var b=factoryCtx.createLinearGradient(-1,0,1,0),d=0;d<a.length;d++)b.addColorStop(a[d].ratio,a[d].color);d=function(d,b){for(var g=d.createLinearGradient(-1,0,1,0),m=0;m<a.length;m++)b.addGradientColorStop(g,a[m].ratio,a[m].color);return g};d.defaultFillStyle=b;return d}
function buildRadialGradientFactory(a,b){for(var d=factoryCtx.createRadialGradient(a,0,0,0,0,1),e=0;e<b.length;e++)d.addColorStop(b[e].ratio,b[e].color);e=function(d,e){for(var m=d.createRadialGradient(a,0,0,0,0,1),l=0;l<b.length;l++)e.addGradientColorStop(m,b[l].ratio,b[l].color);return m};e.defaultFillStyle=d;return e}
function buildBitmapPatternFactory(a,b){var d=factoryCtx.createPattern(a,b),e,f,g=function(g,l){if(!l.mode)return d;var p=l.getTransformFingerprint();if(p===f)return e;var r=document.createElement("canvas");r.width=a.width;r.height=a.height;g=r.getContext("2d");l.setAlpha(g,!0);g.drawImage(a,0,0);e=g.createPattern(r,b);f=p;return e};g.defaultFillStyle=d;return g}
function initStyle(a,b){if(void 0!==a.type)switch(a.type){case 0:break;case 16:case 18:case 19:for(var d=a.records,e=[],f=0,g=d.length;f<g;f++){var m=d[f],l=rgbaObjToStr(m.color);e.push({ratio:m.ratio/255,color:l})}d=16===a.type?buildLinearGradientFactory(e):buildRadialGradientFactory((a.focalPoint|0)/20,e);a.style=d;break;case 64:case 65:case 66:case 67:a.style=buildBitmapPatternFactory(b[a.bitmapId].value.props.img,64===a.type||66===a.type?"repeat":"no-repeat");break;default:fail("invalid fill style",
"shape")}}var SOUND_SIZE_8_BIT=0,SOUND_SIZE_16_BIT=1,SOUND_TYPE_MONO=0,SOUND_TYPE_STEREO=1,SOUND_FORMAT_PCM_BE=0,SOUND_FORMAT_ADPCM=1,SOUND_FORMAT_MP3=2,SOUND_FORMAT_PCM_LE=3,SOUND_FORMAT_NELLYMOSER_16=4,SOUND_FORMAT_NELLYMOSER_8=5,SOUND_FORMAT_NELLYMOSER=6,SOUND_FORMAT_SPEEX=11,SOUND_RATES=[5512,11250,22500,44100],WaveHeader=new Uint8Array([82,73,70,70,0,0,0,0,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,0,0,0,0]);
function packageWave(a,b,d,e,f){var g=e>>3,m=d*b*g,g=d*g,l=a.length+(a.length&1),p=new ArrayBuffer(WaveHeader.length+l),r=new Uint8Array(p);r.set(WaveHeader);if(f){f=0;for(var s=WaveHeader.length;f<a.length;f+=2,s+=2)r[s]=a[f+1],r[s+1]=a[f]}else r.set(a,WaveHeader.length);a=new DataView(p);a.setUint32(4,l+36,!0);a.setUint16(22,d,!0);a.setUint32(24,b,!0);a.setUint32(28,m,!0);a.setUint16(32,g,!0);a.setUint16(34,e,!0);a.setUint32(40,l,!0);return{data:r,mimeType:"audio/wav"}}
function defineSound(a){var b=1==a.soundType?2:1,d=a.samplesCount,e=SOUND_RATES[a.soundRate],f=a.soundData,g;switch(a.soundFormat){case 0:g=new Float32Array(d*b);if(1==a.soundSize){for(var m=d=0;d<g.length;d++,m+=2)g[d]=(f[m]<<24|f[m+1]<<16)/2147483648;f=packageWave(f,e,b,16,!0)}else{for(d=0;d<g.length;d++)g[d]=(f[d]-128)/128;f=packageWave(f,e,b,8,!1)}break;case 3:g=new Float32Array(d*b);if(1==a.soundSize){for(m=d=0;d<g.length;d++,m+=2)g[d]=(f[m+1]<<24|f[m]<<16)/2147483648;f=packageWave(f,e,b,16,
!1)}else{for(d=0;d<g.length;d++)g[d]=(f[d]-128)/128;f=packageWave(f,e,b,8,!1)}break;case 2:f={data:new Uint8Array(f.subarray(2)),mimeType:"audio/mpeg"};break;case 1:m=new Int16Array(d*b);decodeACPCMSoundData(f,m,b);g=new Float32Array(d*b);for(d=0;d<g.length;d++)g[d]=m[d]/32768;f=packageWave(new Uint8Array(m.buffer),e,b,16,!(new Uint8Array((new Uint16Array([1])).buffer))[0]);break;default:throw Error("Unsupported audio format: "+a.soundFormat);}a={type:"sound",id:a.id,sampleRate:e,channels:b,pcm:g};
f&&(a.packaged=f);return a}
var ACPCMIndexTables=[[-1,2],[-1,-1,2,4],[-1,-1,-1,-1,2,4,6,8],[-1,-1,-1,-1,-1,-1,-1,-1,1,2,4,6,8,10,13,16]],ACPCMStepSizeTable=[7,8,9,10,11,12,13,14,16,17,19,21,23,25,28,31,34,37,41,45,50,55,60,66,73,80,88,97,107,118,130,143,157,173,190,209,230,253,279,307,337,371,408,449,494,544,598,658,724,796,876,963,1060,1166,1282,1411,1552,1707,1878,2066,2272,2499,2749,3024,3327,3660,4026,4428,4871,5358,5894,6484,7132,7845,8630,9493,10442,11487,12635,13899,15289,16818,18500,20350,22385,24623,27086,29794,32767];
function decodeACPCMSoundData(a,b,d){function e(d){for(;m<d;)g=g<<8|a[f++],m+=8;m-=d;return g>>>m&(1<<d)-1}for(var f=0,g=0,m=0,l=0,p=e(2),r=ACPCMIndexTables[p];l<b.length;){var s=b[l++]=e(16)<<16>>16,v,w=e(6),z;1<d&&(v=b[l++]=e(16)<<16>>16,z=e(6));for(var A=1<<p+1,C=0;4095>C;C++){for(var u=e(p+2),y=ACPCMStepSizeTable[w],D=0,B=A>>1;B;B>>=1,y>>=1)u&B&&(D+=y);s+=(u&A?-1:1)*(D+y);b[l++]=s=-32768>s?-32768:32767<s?32767:s;w+=r[u&~A];w=0>w?0:88<w?88:w;if(1<d){u=e(p+2);y=ACPCMStepSizeTable[z];D=0;for(B=A>>
1;B;B>>=1,y>>=1)u&B&&(D+=y);v+=(u&A?-1:1)*(D+y);b[l++]=v=-32768>v?-32768:32767<v?32767:v;z+=r[u&~A];z=0>z?0:88<z?88:z}}}}var nextSoundStreamId=0;function SwfSoundStream(a,b,d){this.streamId=nextSoundStreamId++;this.samplesCount=a;this.sampleRate=b;this.channels=d;this.format=null;this.currentSample=0}
SwfSoundStream.prototype={get info(){return{samplesCount:this.samplesCount,sampleRate:this.sampleRate,channels:this.channels,format:this.format,streamId:this.streamId}},decode:function(){throw Error("SwfSoundStream.decode: not implemented");}};function SwfSoundStream_decode_PCM(a){for(var b=new Float32Array(a.length),d=0;d<b.length;d++)b[d]=(a[d]-128)/128;this.currentSample+=b.length/this.channels;return{streamId:this.streamId,samplesCount:b.length/this.channels,pcm:b}}
function SwfSoundStream_decode_PCM_be(a){for(var b=new Float32Array(a.length/2),d=0,e=0;d<b.length;d++,e+=2)b[d]=(a[e]<<24|a[e+1]<<16)/2147483648;this.currentSample+=b.length/this.channels;return{streamId:this.streamId,samplesCount:b.length/this.channels,pcm:b}}
function SwfSoundStream_decode_PCM_le(a){for(var b=new Float32Array(a.length/2),d=0,e=0;d<b.length;d++,e+=2)b[d]=(a[e+1]<<24|a[e]<<16)/2147483648;this.currentSample+=b.length/this.channels;return{streamId:this.streamId,samplesCount:b.length/this.channels,pcm:b}}function SwfSoundStream_decode_MP3(a){var b=a[1]<<8|a[0],d=a[3]<<8|a[2];this.currentSample+=b;return{streamId:this.streamId,samplesCount:b,data:new Uint8Array(a.subarray(4)),seek:d}}
function createSoundStream(a){var b=new SwfSoundStream(a.samplesCount,SOUND_RATES[a.streamRate],1==a.streamType?2:1);switch(a.streamCompression){case 0:b.format="wave";b.decode=1==a.soundSize?SwfSoundStream_decode_PCM_be:SwfSoundStream_decode_PCM;break;case 3:b.format="wave";b.decode=1==a.soundSize?SwfSoundStream_decode_PCM_le:SwfSoundStream_decode_PCM;break;case 2:b.format="mp3";b.decode=SwfSoundStream_decode_MP3;break;default:throw Error("Unsupported audio format: "+a.soundFormat);}return b}
function defineText(a,b){var d=[];if(a.hasFont){var e=b[a.fontId];a.font=e.uniqueName;d.push(e.id)}e={type:"text",id:a.id,variableName:a.variableName,tag:a};d.length&&(e.require=d);return e}var isWorker="undefined"===typeof window;
if(isWorker){importScripts("../../../lib/mp3/mp3.js");self.addEventListener("message",function(a){a=a.data;var b=a.sessionId;try{switch(a.action){case "create":var d=new Session(b);sessions[b]=d;break;case "close":if(d=sessions[b])d.close(),delete sessions[b];break;case "decode":d=sessions[b];if(!d)throw Error("mp3 decoding session is unavailable");d.decode(a.data)}}catch(e){self.postMessage({sessionId:b,action:"error",message:e.message})}},!1);var sessions={},Session=function(a){this.id=a;if("undefined"===
typeof MP3Decoder)throw Error("mp3 decoder is not available");a=new MP3Decoder;a.onframedata=function(a,d,e,f){self.postMessage({sessionId:this.id,action:"frame",frameData:a,channels:d,sampleRate:e,bitRate:f})}.bind(this);a.onid3tag=function(a){self.postMessage({sessionId:this.id,action:"id3",id3Data:a})}.bind(this);this.decoder=a};Session.prototype={decode:function(a){this.decoder.push(a)},close:function(){self.postMessage({sessionId:this.id,action:"closed"})}};self.console={log:function(a){self.postMessage({action:"console",
method:"log",message:a})},error:function(a){self.postMessage({action:"console",method:"error",message:a})}}}else{var mp3Worker,createMP3Worker=function(){var a=new Worker(SHUMWAY_ROOT+"swf/mp3worker.js");a.addEventListener("message",function(a){"console"===a.data.action&&console[a.data.method].call(console,a.data.message)});return a},nextSessionId=0,MP3DecoderSession=function(){mp3Worker=mp3Worker||createMP3Worker();var a=nextSessionId++;this.id=a;this.onworkermessage=function(b){if(b.data.sessionId===
a)switch(b.data.action){case "closed":if(this.onclosed)this.onclosed();mp3Worker.removeEventListener("message",this.onworkermessage,!1);break;case "frame":this.onframedata(b.data.frameData,b.data.channels,b.data.sampleRate,b.data.bitRate);break;case "id3":if(this.onid3tag)this.onid3tag(b.data.id3Data);break;case "error":if(this.onerror)this.onerror(b.data.message)}}.bind(this);mp3Worker.addEventListener("message",this.onworkermessage,!1);mp3Worker.postMessage({sessionId:a,action:"create"})};MP3DecoderSession.prototype=
{pushAsync:function(a){mp3Worker.postMessage({sessionId:this.id,action:"decode",data:a})},close:function(){mp3Worker.postMessage({sessionId:this.id,action:"close"})}};MP3DecoderSession.processAll=function(a,b){var d=8E3,e=new Float32Array(d),f=0,g=[],m=!1,l=new MP3DecoderSession;l.onframedata=function(a){var b=a.length+f;if(b>d){do d*=2;while(b>d);b=new Float32Array(d);b.set(e);e=b}e.set(a,f);f+=a.length};l.onid3tag=function(a){g.push(a)};l.onclosed=function(){m||b(e.subarray(0,f),g)};l.onerror=function(a){m||
(m=!0,b(null,null,a))};l.pushAsync(a);l.close()}}
SWF.embed=function(a,b,d,e){function f(a,d){v&&(v.style.width=a.clientWidth+"px",v.style.height=a.clientHeight+"px");d.width=a.clientWidth*s;d.height=a.clientHeight*s;r._invalid=!0}var g=b.createElement("canvas"),m=g.getContext("2d"),l=new flash.display.Loader,p=l.contentLoaderInfo,r=new flash.display.Stage;r._loader=l;p._parameters=e.movieParams;p._url=e.url||("string"===typeof a?a:null);p._loaderURL=e.loaderURL||p._url;var s="devicePixelRatio"in window?window.devicePixelRatio:1,v=null;g._pixelRatio=
s;if(1<s){var w="scale("+1/s+", "+1/s+")";g.setAttribute("style","-moz-transform: "+w+";-webkit-transform: "+w+";transform: "+w+";-moz-transform-origin: 0% 0%;-webkit-transform-origin: 0% 0%;transform-origin: 0% 0%;");v=b.createElement("div");v.setAttribute("style","display: inline-block; overflow: hidden;");v.appendChild(g)}r._contentsScaleFactor=s;l._parent=r;l._stage=r;p._addEventListener("init",function(){d.clientHeight?(f(d,g),window.addEventListener("resize",function(){f(d,g)})):(v&&(v.style.width=
r._stageWidth/20+"px",v.style.height=r._stageHeight/20+"px"),g.width=r._stageWidth*s/20,g.height=r._stageHeight*s/20);d.setAttribute("style","position: relative");g.addEventListener("click",function(){ShumwayKeyboardListener.focus=r;r._mouseTarget._dispatchEvent("click")});g.addEventListener("dblclick",function(){r._mouseTarget._doubleClickEnabled&&r._mouseTarget._dispatchEvent("doubleClick")});g.addEventListener("mousedown",function(){r._mouseTarget._buttonMode&&r._mouseTarget._gotoButtonState("down");
r._mouseTarget._dispatchEvent("mouseDown")});g.addEventListener("mousemove",function(a){var d=this,b=0,e=0;if(d.offsetParent){do b+=d.offsetLeft,e+=d.offsetTop;while(d=d.offsetParent)}d=r._concatenatedTransform;b=((a.pageX-b)*s-d.tx)/d.a;a=((a.pageY-e)*s-d.ty)/d.d;if(b!==r._mouseX||a!==r._mouseY)r._mouseMoved=!0,r._mouseX=20*b,r._mouseY=20*a});g.addEventListener("mouseup",function(){r._mouseTarget._buttonMode&&r._mouseTarget._gotoButtonState("over");r._mouseTarget._dispatchEvent("mouseUp")});g.addEventListener("mouseover",
function(){r._mouseMoved=!0;r._mouseOver=!0});g.addEventListener("mouseout",function(){r._mouseMoved=!0;r._mouseOver=!1});var a=p._backgroundColor;if(e.objectParams){var b;if(e.objectParams.bgcolor&&(b=/#([0-9A-F]{6})/i.exec(e.objectParams.bgcolor)))a=parseInt(b[1],16),a={red:a>>16&255,green:a>>8&255,blue:a&255,alpha:255};"transparent"===e.objectParams.wmode&&(a={red:0,green:0,blue:0,alpha:0})}r._color=a;m.fillStyle=rgbaObjToStr(a);m.fillRect(0,0,g.width,g.height);a=l._content;r._children[0]=a;a._dispatchEvent("added");
a._dispatchEvent("addedToStage");d.appendChild(v||g);if(e.onStageInitialized)e.onStageInitialized(r);renderStage(r,m,e)});e.onComplete&&p._addEventListener("complete",function(){e.onComplete()});l._load("string"===typeof a?new flash.net.URLRequest(a):a);return l};
var rendererOptions=coreOptions.register(new OptionSet("Renderer Options")),traceRenderer=rendererOptions.register(new Option("tr","traceRenderer","number",0,"trace renderer execution")),disablePreVisitor=rendererOptions.register(new Option("dpv","disablePreVisitor","boolean",!1,"disable pre visitor")),disableRenderVisitor=rendererOptions.register(new Option("drv","disableRenderVisitor","boolean",!1,"disable render visitor")),disableMouseVisitor=rendererOptions.register(new Option("dmv","disableMouseVisitor",
"boolean",!1,"disable mouse visitor")),showRedrawRegions=rendererOptions.register(new Option("rr","showRedrawRegions","boolean",!1,"show redraw regions")),renderAsWireframe=rendererOptions.register(new Option("raw","renderAsWireframe","boolean",!1,"render as wireframe")),showQuadTree=rendererOptions.register(new Option("qt","showQuadTree","boolean",!1,"show quad tree")),turboMode=rendererOptions.register(new Option("","turbo","boolean",!1,"turbo mode"));
"undefined"!==typeof FirefoxCom&&(turboMode.value=FirefoxCom.requestSync("getBoolPref",{pref:"shumway.turboMode",def:!1}));var CanvasCache={cache:[],getCanvas:function(a){var b=this.cache.shift();b||(b={canvas:document.createElement("canvas")},b.ctx=b.canvas.getContext("2d"));b.canvas.width=a.width;b.canvas.height=a.height;b.ctx.save();return b},releaseCanvas:function(a){a.ctx.restore();this.cache.push(a)}};function isCanvasVisible(a){return a.ownerDocument.hidden||!1===a.mozVisible?!1:!0}
function visitContainer(a,b,d){var e=a._children;b.childrenStart(a);for(var f=0,g=e.length;f<g;f++){var m=e[f];m&&(b.ignoreVisibleAttribute||m._visible&&!m._maskedObject)&&b.visit(m,visitContainer,d)}b.childrenEnd(a)}var BlendModeNameMap={normal:"normal",multiply:"multiply",screen:"screen",lighten:"lighten",darken:"darken",difference:"difference",overlay:"overlay",hardlight:"hard-light"};function getBlendModeName(a){return BlendModeNameMap[a]||"normal"}
function RenderVisitor(a,b,d,e){this.root=a;this.ctx=b;this.depth=0;this.invalidPath=d;this.refreshStage=e;this.clipStack=this.clipDepth=null}
RenderVisitor.prototype={ignoreVisibleAttribute:!1,start:function(){visitContainer(this.root,this,new RenderingContext(this.refreshStage,this.invalidPath))},startFragment:function(a){var b=this.root,d=b._currentTransform,e=d;a&&(e=b._currentTransform={a:a.a,b:a.b,c:a.c,d:a.d,tx:20*a.tx,ty:20*a.ty},b._invalidateTransform());var f;e&&(f=new flash.geom.Matrix(e.a,e.b,e.c,e.d,e.tx/20,e.ty/20),f.invert(),this.ctx.save(),this.ctx.transform(f.a,f.b,f.c,f.d,f.tx,f.ty));this.visit(b,visitContainer,new RenderingContext(this.refreshStage,
this.invalidPath));e&&this.ctx.restore();a&&(b._currentTransform=d,b._invalidateTransform())},childrenStart:function(){if(0===this.depth){var a=this.ctx;a.save();this.invalidPath&&(!this.refreshStage&&!renderAsWireframe.value)&&(this.invalidPath.draw(a),a.clip());var b=this.root._color;b&&(255>b.alpha&&a.clearRect(0,0,a.canvas.width,a.canvas.height),0<b.alpha&&(a.fillStyle=rgbaObjToStr(b),this.invalidPath&&!this.refreshStage&&!renderAsWireframe.value?a.fill():a.fillRect(0,0,a.canvas.width,a.canvas.height)));
a.mozFillRule="evenodd"}this.depth++;this.clipDepth&&0<this.clipDepth.length&&(this.clipStack={depth:this.depth,clip:this.clipDepth,next:this.clipStack},this.clipDepth=null)},childrenEnd:function(){if(this.clipDepth){for(;0<this.clipDepth.length;){var a=this.clipDepth.pop();this.clipEnd(a);this.ctx=a.ctx}this.clipDepth=null}this.clipStack&&this.clipStack.depth===this.depth&&(this.clipDepth=this.clipStack.clip,this.clipStack=this.clipStack.next);this.depth--;0===this.depth&&(this.ctx.restore(),this.invalidPath=
null)},visit:function(a,b,d){var e=this.ctx,f=d.isClippingMask,g=d.colorTransform,m=!0===f;a._cxform&&(d.colorTransform=g.applyCXForm(a._cxform));if(!m){for(;this.clipDepth&&0<this.clipDepth.length&&a._depth>this.clipDepth[0].clipDepth;)e=this.clipDepth.shift(),this.clipEnd(e),e=this.ctx=e.ctx;a._clipDepth?(d.isClippingMask=m=!0,e=this.clipStart(a),this.clipDepth?this.clipDepth.unshift(e):this.clipDepth=[e],e=this.ctx=e.mask.ctx):this.clipDepth&&(0<this.clipDepth.length&&a._depth<=this.clipDepth[0].clipDepth)&&
(e=this.ctx=this.clipDepth[0].maskee.ctx)}if(m&&a._isContainer){e.save();renderDisplayObject(a,e,d);for(var m=0,l=a._children.length;m<l;m++){var p=a._children[m];p&&(this.ignoreVisibleAttribute||p._visible&&!p._maskedObject)&&this.visit(p,b,d)}e.restore();e.fill()}else e.save(),e.globalCompositeOperation=getBlendModeName(a._blendMode),a._mask?(l=this.clipStart(a),p=l.maskee,this.ctx=l.mask.ctx,this.visit(a._mask,b,new RenderingContext(this.refreshStage)),this.ctx=e,renderDisplayObject(a,p.ctx,d),
a._isContainer&&(this.ctx=p.ctx,b(a,this,d),this.ctx=e),this.clipEnd(l)):(renderDisplayObject(a,e,d),a._isContainer&&b(a,this,d)),e.restore(),m&&e.fill();d.isClippingMask=f;d.colorTransform=g},clipStart:function(a){var b=a._parent._getConcatenatedTransform(!0),d=b.tx/20,e=b.ty/20,f=CanvasCache.getCanvas(this.ctx.canvas);f.ctx.setTransform(b.a,b.b,b.c,b.d,d,e);var g=CanvasCache.getCanvas(this.ctx.canvas);g.ctx.setTransform(b.a,b.b,b.c,b.d,d,e);return{ctx:this.ctx,mask:f,maskee:g,clipDepth:a._clipDepth}},
clipEnd:function(a){var b=a.ctx,d=a.mask;a=a.maskee;a.ctx.globalCompositeOperation="destination-in";a.ctx.setTransform(1,0,0,1,0,0);a.ctx.drawImage(d.canvas,0,0);b.save();b.setTransform(1,0,0,1,0,0);b.drawImage(a.canvas,0,0);b.restore();CanvasCache.releaseCanvas(d);CanvasCache.releaseCanvas(a)}};function RenderingColorTransform(){this.mode=null;this.transform=[1,1,1,1,0,0,0,0]}
RenderingColorTransform.prototype={applyCXForm:function(a){var b=this.transform,b=[b[0]*a.redMultiplier/256,b[1]*a.greenMultiplier/256,b[2]*a.blueMultiplier/256,b[3]*a.alphaMultiplier/256,b[4]*a.redMultiplier/256+a.redOffset,b[5]*a.greenMultiplier/256+a.greenOffset,b[6]*a.blueMultiplier/256+a.blueOffset,b[7]*a.alphaMultiplier/256+a.alphaOffset];a=1E-4>Math.abs(b[0]-1)&&1E-4>Math.abs(b[1]-1)&&1E-4>Math.abs(b[2]-1)&&0<=b[3]&&1E-4>Math.abs(b[4])&&1E-4>Math.abs(b[5])&&1E-4>Math.abs(b[6])&&1E-4>Math.abs(b[7])?
1E-4>Math.abs(b[3]-1)?null:"simple":"complex";var d=Object.create(RenderingColorTransform.prototype);d.mode=a;d.transform=b;return d},setFillStyle:function(a,b){"complex"===this.mode?b="function"===typeof b?b(a,this):this.convertColor(b):"number"===typeof b?b=this.convertNumericColor(b):"function"===typeof b&&(b=b.defaultFillStyle);a.fillStyle=b},setStrokeStyle:function(a,b){"complex"===this.mode?b="function"===typeof b?b(a,this):this.convertColor(b):"number"===typeof b?b=this.convertNumericColor(b):
"function"===typeof b&&(b=b.defaultFillStyle);a.strokeStyle=b},addGradientColorStop:function(a,b,d){"complex"===this.mode?d=this.convertColor(d):"number"===typeof d&&(d=this.convertNumericColor(d));a.addColorStop(b,d)},setAlpha:function(a,b){if("simple"===this.mode||b)a.globalAlpha=Math.min(1,Math.max(0,a.globalAlpha*this.transform[3]))},convertNumericColor:function(a){return"#"+(a|16777216).toString(16).substr(1)},convertColor:function(a){var b=this.transform,d;switch(typeof a){case "string":"#"===
a[0]&&(d=[void 0,parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16),1]);d=d||/rgba\(([^,]+),([^,]+),([^,]+),([^)]+)\)/.exec(a);if(!d)return a;break;case "number":d=[a,a>>16&255,a>>8&255,a&255,1];break;default:return a}a=Math.min(255,Math.max(0,d[1]*b[0]+b[4]))|0;var e=Math.min(255,Math.max(0,d[2]*b[1]+b[5]))|0,f=Math.min(255,Math.max(0,d[3]*b[2]+b[6]))|0,b=Math.min(1,Math.max(0,d[4]*b[3]+b[7]/256));return"rgba("+a+","+e+","+f+","+b+")"},getTransformFingerprint:function(){return this.transform.join("|")}};
function RenderingContext(a,b){this.refreshStage=!0===a;this.invalidPath=b;this.isClippingMask=!1;this.colorTransform=new RenderingColorTransform}
function renderDisplayObject(a,b,d){var e=a._currentTransform;e&&(e.a*e.d==e.b*e.c?(b.closePath(),b.rect(0,0,0,0),b.clip()):b.transform(e.a,e.b,e.c,e.d,e.tx/20,e.ty/20));if(renderAsWireframe.value){if(!a._invalid&&!d.refreshStage)return;if(a.getBounds&&(d=a.getBounds(null))&&0<d.xMax-d.xMin&&0<d.yMax-d.yMin){a._wireframeStrokeStyle||(a._wireframeStrokeStyle=randomStyle());b.save();b.strokeStyle=a._wireframeStrokeStyle;var e=d.xMin/20,f=d.yMin/20;b.strokeRect(e+0.5,f+0.5,d.xMax/20-e-1,d.yMax/20-f-
1);b.restore()}}else{1!==a._alpha&&(b.globalAlpha*=a._alpha);if(d.invalidPath&&!a._invalid&&!d.refreshStage)return;a._graphics&&(e=a._graphics,e._bitmap?(b.save(),b.translate(a._bbox.xMin/20,a._bbox.yMin/20),d.colorTransform.setAlpha(b,!0),b.drawImage(e._bitmap,0,0),b.restore()):e.draw(b,d.isClippingMask,a.ratio,d.colorTransform));a.draw&&a.draw(b,a.ratio,d.colorTransform)}a._invalid=!1}
function renderQuadTree(a,b){a.strokeRect(b.x/20,b.y/20,b.width/20,b.height/20);for(var d=b.nodes,e=0;e<d.length;e++)renderQuadTree(a,d[e])}var fps,renderingTerminated=!1,samplesLeftPlusOne=0;function triggerSampling(a){samplesLeftPlusOne=-a-1}function sampleStart(){samplesLeftPlusOne&&(0>samplesLeftPlusOne&&(console.profile("Sample"),samplesLeftPlusOne*=-1),0<samplesLeftPlusOne&&console.info("Sampling Frame: "+(samplesLeftPlusOne-1)))}
function sampleEnd(){samplesLeftPlusOne&&(samplesLeftPlusOne--,1===samplesLeftPlusOne&&console.profileEnd("Sample"))}
function renderStage(a,b,d){function e(){f=b.canvas.width;g=b.canvas.height;var d=20*(f/a._stageWidth),e=20*(g/a._stageHeight);switch(a._scaleMode){case "noBorder":d>e?e=d:d=e;break;case "noScale":d=e=b.canvas._pixelRatio||1;break;case "showAll":d<e?e=d:d=e}var r=a._align,l;l=0<=r.indexOf("L")?0:0<=r.indexOf("R")?f-d*a._stageWidth/20:(f-d*a._stageWidth/20)/2;r=0<=r.indexOf("T")?0:0<=r.indexOf("B")?g-e*a._stageHeight/20:(g-e*a._stageHeight/20)/2;b.setTransform(d,0,0,e,l,r);var m=a._concatenatedTransform;
m.a=d;m.d=e;m.tx=l;m.ty=r}var f,g;e();var m=0,l=1E3/a._frameRate,p=performance.now(),r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.setTimeout,s,v;if("undefined"!==typeof FirefoxCom&&FirefoxCom.requestSync("getBoolPref",{pref:"shumway.dummyMode",def:!1})){var w=a._concatenatedTransform,z=w.a,A=w.d;v=[];for(w=0;10>w;w++)v.push({position:{x:10+Math.random()*((b.canvas.width-20)/
z),y:10+Math.random()*((b.canvas.height-20)/A)},velocity:{x:1*(Math.random()-0.5),y:1*(Math.random()-0.5)}});b.fillStyle="black";b.lineWidth=2;b.fillRect(0,0,b.canvas.width,b.canvas.height);s=function(){b.fillStyle="black";b.fillRect(0,0,b.canvas.width,b.canvas.height);b.strokeStyle="green";v.forEach(function(a){var d=a.position;a=a.velocity;b.beginPath();b.arc(d.x,d.y,10,0,2*Math.PI,!0);b.stroke();var e=d.x+a.x,f=d.y+a.y;if(10>e||e>b.canvas.width/z-10)a.x*=-1;if(10>f||f>b.canvas.height/A-10)a.y*=
-1;d.x+=a.x;d.y+=a.y})}}console.timeEnd("Initialize Renderer");console.timeEnd("Total");var C=!0,u=0,y=new metrics.Average(120);(function B(){var f=performance.now(),g=f>=p;g&&d.onBeforeFrame&&(g={cancel:!1},d.onBeforeFrame(g),g=!g.cancel);if(g&&s)m=f,p=m+l,s(),r(B);else{sampleStart();var w=!1;a._invalid&&(e(),a._invalid=!1,w=!0);var v=!1;a._mouseMoved&&(a._mouseMoved=!1,v=a._mouseOver);if(g||w||v){FrameCounter.clear();var A=performance.now();traceRenderer.value&&appendToFrameTerminal("Begin Frame #"+
u++,"purple");var z=avm2.systemDomain;if(g){m=f;l=1E3/a._frameRate;if(!turboMode.value)for(;p<f;)p+=l;fps&&fps.enter("EVENTS");C?C=!1:(z.broadcastMessage("advanceFrame"),z.broadcastMessage("enterFrame"),z.broadcastMessage("constructChildren"));z.broadcastMessage("frameConstructed");z.broadcastMessage("executeFrame");z.broadcastMessage("exitFrame");fps&&fps.leave("EVENTS")}a._deferRenderEvent&&(a._deferRenderEvent=!1,z.broadcastMessage("render","render"));if(isCanvasVisible(b.canvas)&&(w||g))f=null,
disablePreVisitor.value?a._processInvalidRegions(!1):(traceRenderer.value&&frameWriter.enter("> Pre Visitor"),fps&&fps.enter("PRE"),f=a._processInvalidRegions(!0),fps&&fps.leave("PRE"),traceRenderer.value&&frameWriter.leave("< Pre Visitor")),disableRenderVisitor.value||(fps&&fps.enter("RENDER"),traceRenderer.value&&frameWriter.enter("> Render Visitor"),(new RenderVisitor(a,b,f,w)).start(),traceRenderer.value&&frameWriter.leave("< Render Visitor"),fps&&fps.leave("RENDER")),showQuadTree.value&&(b.strokeStyle=
"green",renderQuadTree(b,a._qtree)),f&&(!w&&showRedrawRegions.value)&&(b.strokeStyle="red",f.draw(b),b.stroke());v&&!disableMouseVisitor.value&&(fps&&g&&fps.enter("MOUSE"),traceRenderer.value&&frameWriter.enter("> Mouse Visitor"),a._handleMouse(),traceRenderer.value&&frameWriter.leave("< Mouse Visitor"),fps&&g&&fps.leave("MOUSE"),b.canvas.style.cursor=a._cursor);if(g&&d.onAfterFrame)d.onAfterFrame();if(traceRenderer.value){for(var O in FrameCounter.counts)appendToFrameTerminal(O+": "+FrameCounter.counts[O],
"gray");O=performance.now()-A;f=1E3/O;y.push(f);traceRenderer.value&&appendToFrameTerminal("End Frame Time: "+O.toFixed(2)+" ("+f.toFixed(2)+" fps, "+y.average().toFixed(2)+" average fps)","purple")}}else traceRenderer.value&&appendToFrameTerminal("Skip Frame","black");sampleEnd();if(renderingTerminated){if(d.onTerminated)d.onTerminated()}else r(B)}})()}
var tagHandler=function(){function a(a,d,b,e,f){b||(b={});b.id=readUi16(a,d);var g=b.bbox={};w(a,d,g,e,f);if(g=b.isMorph=46===f||84===f){var r=b.bboxMorph={};w(a,d,r,e,f)}if(r=b.hasStrokes=83===f||84===f){var l=b.strokeBbox={};w(a,d,l,e,f);g&&(l=b.strokeBboxMorph={},w(a,d,l,e,f));readUb(a,d,5);b.fillWinding=readUb(a,d,1);b.nonScalingStrokes=readUb(a,d,1);b.scalingStrokes=readUb(a,d,1)}if(g){b.offsetMorph=readUi32(a,d);var m=b,p,s,l=D(a,d,m,e,f,g,r),u=l.lineBits,v=l.fillBits,A=m.records=[];do{var z=
{},l=y(a,d,z,e,f,g,v,u,r,s);p=l.eos;v=l.fillBits;u=l.lineBits;s=l.bits;A.push(z)}while(!p);l=B(a,d,m,e,f);v=l.fillBits;u=l.lineBits;m=m.recordsMorph=[];do A={},l=y(a,d,A,e,f,g,v,u,r,s),p=l.eos,v=l.fillBits,u=l.lineBits,s=l.bits,m.push(A);while(!p)}else{v=b;s=D(a,d,v,e,f,g,r);l=s.fillBits;u=s.lineBits;m=v.records=[];do A={},s=y(a,d,A,e,f,g,l,u,r,p),v=s.eos,l=s.fillBits,u=s.lineBits,p=s.bits,m.push(A);while(!v)}return b}function b(a,d,b,e,f){var g,r,l,m,p,s,w,v,A,z,E,B,y;b||(b={});if(4<f){g=26<f?readUi16(a,
d):readUi8(a,d);r=b.hasEvents=g>>7&1;l=b.clip=g>>6&1;m=b.hasName=g>>5&1;p=b.hasRatio=g>>4&1;s=b.hasCxform=g>>3&1;w=b.hasMatrix=g>>2&1;v=b.place=g>>1&1;b.move=g&1;70===f?(A=b.hasBackgroundColor=g>>15&1,z=b.hasVisibility=g>>14&1,b.hasImage=g>>12&1,E=b.hasClassName=g>>11&1,B=b.cache=g>>10&1,y=b.blend=g>>9&1,g=b.hasFilters=g>>8&1):(B=b.cache=0,y=b.blend=0,g=b.hasFilters=0);b.depth=readUi16(a,d);E&&(b.className=readString(a,d,0));v&&(b.symbolId=readUi16(a,d));w&&(w=b.matrix={},C(a,d,w,e,f));s&&(s=b.cxform=
{},u(a,d,s,e,f));p&&(b.ratio=readUi16(a,d));m&&(b.name=readString(a,d,0));l&&(b.clipDepth=readUi16(a,d));if(g){m=readUi8(a,d);for(l=b.filters=[];m--;)p={},G(a,d,p,e,f),l.push(p)}y&&(b.blendMode=readUi8(a,d));B&&(b.bmpCache=readUi8(a,d));if(r){readUi16(a,d);6<=e?readUi32(a,d):readUi16(a,d);f=b.events=[];do r={},B=a,y=d,l=r,s=e,m=g=void 0,g=6<=s?readUi32(B,y):readUi16(B,y),p=l.eoe=!g,l.onKeyUp=g>>7&1,l.onKeyDown=g>>6&1,l.onMouseUp=g>>5&1,l.onMouseDown=g>>4&1,l.onMouseMove=g>>3&1,l.onUnload=g>>2&1,l.onEnterFrame=
g>>1&1,l.onLoad=g&1,6<=s&&(l.onDragOver=g>>15&1,l.onRollOut=g>>14&1,l.onRollOver=g>>13&1,l.onReleaseOutside=g>>12&1,l.onRelease=g>>11&1,l.onPress=g>>10&1,l.onInitialize=g>>9&1,l.onData=g>>8&1,l.onConstruct=7<=s?g>>18&1:0,m=l.keyPress=g>>17&1,l.onDragOut=g>>16&1),p||(s=l.length=readUi32(B,y),m&&(l.keyCode=readUi8(B,y)),l.actionsData=readBinary(B,y,s-(m?1:0))),B=p,f.push(r);while(!B)}A&&(e=b.backgroundColor={},e.alpha=readUi8(a,d),e.red=readUi8(a,d),e.green=readUi8(a,d),e.blue=readUi8(a,d));z&&(b.visibility=
readUi8(a,d))}else b.place=1,b.symbolId=readUi16(a,d),b.depth=readUi16(a,d),b.hasMatrix=1,z=b.matrix={},C(a,d,z,e,f),d.remaining()&&(b.hasCxform=1,z=b.cxform={},u(a,d,z,e,f));return b}function d(a,d,b,e,f){b||(b={});5===f&&(b.symbolId=readUi16(a,d));b.depth=readUi16(a,d);return b}function e(a,d,b,e,f){b||(b={});b.id=readUi16(a,d);21<f?(e=readUi32(a,d),90===f&&(b.deblock=readFixed8(a,d)),e=b.imgData=readBinary(a,d,e),b.alphaData=readBinary(a,d,0)):e=b.imgData=readBinary(a,d,0);switch(e[0]<<8|e[1]){case 65496:case 65497:b.mimeType=
"image/jpeg";break;case 35152:b.mimeType="image/png";break;case 18249:b.mimeType="image/gif";break;default:b.mimeType="application/octet-stream"}6===f&&(b.incomplete=1);return b}function f(a,d,b,e,f){var g,r,l,m;b||(b={});b.id=readUi16(a,d);if(7==f){m=b.characters=[];do{var p={};g=a;var s=d,w=p;r=e;l=f;var v=void 0,A=void 0,z=readUi8(g,s),E=w.eob=!z;8<=r?(A=w.blend=z>>5&1,v=w.hasFilters=z>>4&1):(A=w.blend=0,v=w.hasFilters=0);w.stateHitTest=z>>3&1;w.stateDown=z>>2&1;w.stateOver=z>>1&1;w.stateUp=z&
1;E||(w.symbolId=readUi16(g,s),w.depth=readUi16(g,s),z=w.matrix={},C(g,s,z,r,l),34===l&&(z=w.cxform={},u(g,s,z,r,l)),v&&(w.filterCount=readUi8(g,s),v=w.filters={},G(g,s,v,r,l)),A&&(w.blendMode=readUi8(g,s)));g=E;m.push(p)}while(!g);b.actionsData=readBinary(a,d,0)}else{g=readUi8(a,d);b.trackAsMenu=g>>7&1;p=readUi16(a,d);s=b.characters=[];do{w={};l=readUi8(a,d);g=w.eob=!l;8<=e?(m=w.blend=l>>5&1,r=w.hasFilters=l>>4&1):(m=w.blend=0,r=w.hasFilters=0);w.stateHitTest=l>>3&1;w.stateDown=l>>2&1;w.stateOver=
l>>1&1;w.stateUp=l&1;if(!g){w.symbolId=readUi16(a,d);w.depth=readUi16(a,d);l=w.matrix={};C(a,d,l,e,f);34===f&&(l=w.cxform={},u(a,d,l,e,f));if(r){l=readUi8(a,d);for(r=b.filters=[];l--;)A={},G(a,d,A,e,f),r.push(A)}m&&(w.blendMode=readUi8(a,d))}s.push(w)}while(!g);if(p){e=b.buttonActions=[];do f={},g=a,m=d,p=f,s=readUi16(g,m),w=readUi16(g,m),p.idleToOverDown=w>>7&1,p.outDownToIdle=w>>6&1,p.outDownToOverDown=w>>5&1,p.overDownToOutDown=w>>4&1,p.overDownToOverUp=w>>3&1,p.overUpToOverDown=w>>2&1,p.overUpToIdle=
w>>1&1,p.idleToOverUp=w&1,p.mouseEventFlags=w&511,p.keyPress=w>>9&127,p.overDownToIdle=w>>8&1,p.actionsData=s?readBinary(g,m,s-4):readBinary(g,m,0),e.push(f);while(0<d.remaining())}}return b}function g(a,d,b,e,f){var g;b||(b={});b.id=readUi16(a,d);var r=b.bbox={};w(a,d,r,e,f);r=b.matrix={};C(a,d,r,e,f);var r=b.glyphBits=readUi8(a,d),l=b.advanceBits=readUi8(a,d),m=b.records=[];do{var p={};g=a;var s=d,u=p,v=e,E=f,B=r,y=l,D=void 0;align(g,s);var G=readUb(g,s,8),J=u.eot=!G,D=g,la=s,fa=u,ba=v,Z=G,G=fa.hasFont=
Z>>3&1,oa=fa.hasColor=Z>>2&1,ia=fa.hasMoveY=Z>>1&1,Z=fa.hasMoveX=Z&1;G&&(fa.fontId=readUi16(D,la));oa&&(33===E?(oa=fa.color={},A(D,la,oa,ba,E)):(oa=fa.color={},z(D,la,oa,ba,E)));Z&&(fa.moveX=readSi16(D,la));ia&&(fa.moveY=readSi16(D,la));G&&(fa.fontHeight=readUi16(D,la));if(!J){D=readUi8(g,s);D=6<v?u.glyphCount=D:u.glyphCount=D&127;u=u.entries=[];for(v=D;v--;)D={},la=g,fa=s,ba=D,E=y,ba.glyphIndex=readUb(la,fa,B),ba.advance=readSb(la,fa,E),u.push(D)}g=J;m.push(p)}while(!g);return b}function m(a,d,b,
e,f){b||(b={});59===f&&(b.spriteId=readUi16(a,d));b.actionsData=readBinary(a,d,0);return b}function l(a,d,b,e,f){b||(b={});15==f&&(b.soundId=readUi16(a,d));89==f&&(b.soundClassName=readString(a,d,0));e=b.soundInfo={};readUb(a,d,2);e.stop=readUb(a,d,1);e.noMultiple=readUb(a,d,1);f=e.hasEnvelope=readUb(a,d,1);var g=e.hasLoops=readUb(a,d,1),r=e.hasOutPoint=readUb(a,d,1);if(e.hasInPoint=readUb(a,d,1))e.inPoint=readUi32(a,d);r&&(e.outPoint=readUi32(a,d));g&&(e.loopCount=readUi16(a,d));if(f){f=e.envelopeCount=
readUi8(a,d);for(e=e.envelopes=[];f--;){var g={},r=a,l=d,m=g;m.pos44=readUi32(r,l);m.volumeLeft=readUi16(r,l);m.volumeRight=readUi16(r,l);e.push(g)}}return b}function p(a,d,b){b||(b={});var e=readUi8(a,d);b.playbackRate=e>>2&3;b.playbackSize=e>>1&1;b.playbackType=e&1;var e=readUi8(a,d),f=b.streamCompression=e>>4&15;b.streamRate=e>>2&3;b.streamSize=e>>1&1;b.streamType=e&1;b.samplesCount=readUi32(a,d);2==f&&(b.latencySeek=readSi16(a,d));return b}function r(a,d,b,e,f){b||(b={});b.id=readUi16(a,d);e=
b.format=readUi8(a,d);b.width=readUi16(a,d);b.height=readUi16(a,d);b.hasAlpha=36===f;3===e&&(b.colorTableSize=readUi8(a,d));b.bmpData=readBinary(a,d,0);return b}function s(a,d,b,e,f){b||(b={});b.id=readUi16(a,d);var g=b.hasLayout=readUb(a,d,1);5<e?b.shiftJis=readUb(a,d,1):readUb(a,d,1);b.smallText=readUb(a,d,1);b.ansi=readUb(a,d,1);var r=b.wideOffset=readUb(a,d,1),l=b.wide=readUb(a,d,1);b.italic=readUb(a,d,1);b.bold=readUb(a,d,1);5<e?b.language=readUi8(a,d):(readUi8(a,d),b.language=0);var m=readUi8(a,
d);b.name=readString(a,d,m);75===f&&(b.resolution=20);m=b.glyphCount=readUi16(a,d);if(r){for(var r=b.offsets=[],p=m;p--;)r.push(readUi32(a,d));b.mapOffset=readUi32(a,d)}else{r=b.offsets=[];for(p=m;p--;)r.push(readUi16(a,d));b.mapOffset=readUi16(a,d)}r=b.glyphs=[];for(p=m;p--;){var s={};J(a,d,s,e,f);r.push(s)}if(l){r=b.codes=[];for(p=m;p--;)r.push(readUi16(a,d))}else{r=b.codes=[];for(p=m;p--;)r.push(readUi8(a,d))}if(g){b.ascent=readUi16(a,d);b.descent=readUi16(a,d);b.leading=readSi16(a,d);g=b.advance=
[];for(r=m;r--;)g.push(readSi16(a,d));for(g=b.bbox=[];m--;)r={},w(a,d,r,e,f),g.push(r);f=readUi16(a,d);for(e=b.kerning=[];f--;)m={},g=a,r=d,p=m,l?(p.code1=readUi16(g,r),p.code2=readUi16(g,r)):(p.code1=readUi8(g,r),p.code2=readUi8(g,r)),p.adjustment=readUi16(g,r),e.push(m)}return b}function v(a,d,b,e,f){b||(b={});b.flags=82===f?readUi32(a,d):0;b.name=82===f?readString(a,d,0):"";b.data=readBinary(a,d,0);return b}function w(a,d,b){align(a,d);var e=readUb(a,d,5),f=readSb(a,d,e),g=readSb(a,d,e),r=readSb(a,
d,e),e=readSb(a,d,e);b.xMin=f;b.xMax=g;b.yMin=r;b.yMax=e;align(a,d)}function z(a,d,b){b.red=readUi8(a,d);b.green=readUi8(a,d);b.blue=readUi8(a,d);b.alpha=255}function A(a,d,b){b.red=readUi8(a,d);b.green=readUi8(a,d);b.blue=readUi8(a,d);b.alpha=readUi8(a,d)}function C(a,d,b){align(a,d);if(readUb(a,d,1)){var e=readUb(a,d,5);b.a=readFb(a,d,e);b.d=readFb(a,d,e)}else b.a=1,b.d=1;readUb(a,d,1)?(e=readUb(a,d,5),b.b=readFb(a,d,e),b.c=readFb(a,d,e)):(b.b=0,b.c=0);var e=readUb(a,d,5),f=readSb(a,d,e),e=readSb(a,
d,e);b.tx=f;b.ty=e;align(a,d)}function u(a,d,b,e,f){align(a,d);e=readUb(a,d,1);var g=readUb(a,d,1),r=readUb(a,d,4);g?(b.redMultiplier=readSb(a,d,r),b.greenMultiplier=readSb(a,d,r),b.blueMultiplier=readSb(a,d,r),b.alphaMultiplier=4<f?readSb(a,d,r):256):(b.redMultiplier=256,b.greenMultiplier=256,b.blueMultiplier=256,b.alphaMultiplier=256);e?(b.redOffset=readSb(a,d,r),b.greenOffset=readSb(a,d,r),b.blueOffset=readSb(a,d,r),b.alphaOffset=4<f?readSb(a,d,r):0):(b.redOffset=0,b.greenOffset=0,b.blueOffset=
0,b.alphaOffset=0);align(a,d)}function y(a,d,b,e,f,g,r,l,m,p){var s=b.type=readUb(a,d,1),w=readUb(a,d,5),u=b.eos=!(s||w);if(s)e=p,f=f=f=0,f=b.isStraight=w>>4,e=(w&15)+2,f?(f=b.isGeneral=readUb(a,d,1))?(b.deltaX=readSb(a,d,e),b.deltaY=readSb(a,d,e)):(f=b.isVertical=readUb(a,d,1))?b.deltaY=readSb(a,d,e):b.deltaX=readSb(a,d,e):(b.controlDeltaX=readSb(a,d,e),b.controlDeltaY=readSb(a,d,e),b.anchorDeltaX=readSb(a,d,e),b.anchorDeltaY=readSb(a,d,e)),a=e;else{var v=0,A=0,z=0,E=0,C=0,v=2<f?b.hasNewStyles=w>>
4:b.hasNewStyles=0,A=b.hasLineStyle=w>>3&1,z=b.hasFillStyle1=w>>2&1,E=b.hasFillStyle0=w>>1&1;if(C=b.move=w&1)p=readUb(a,d,5),b.moveX=readSb(a,d,p),b.moveY=readSb(a,d,p);E&&(b.fillStyle0=readUb(a,d,r));z&&(b.fillStyle1=readUb(a,d,r));A&&(b.lineStyle=readUb(a,d,l));v&&(a=D(a,d,b,e,f,g,m),l=a.lineBits,r=a.fillBits);a=p}return{type:s,flags:w,eos:u,fillBits:r,lineBits:l,bits:a}}function D(a,d,b,e,f,g,r){var l,m=readUi8(a,d);l=2<f&&255===m?readUi16(a,d):m;for(m=b.fillStyles=[];l--;){var p={};E(a,d,p,e,
f,g);m.push(p)}m=readUi8(a,d);l=2<f&&255===m?readUi16(a,d):m;for(m=b.lineStyles=[];l--;){var p={},s=a,w=d,u=p,v=e,C=f,y=g,D=r;u.width=readUi16(s,w);y&&(u.widthMorph=readUi16(s,w));if(D){align(s,w);u.startCapStyle=readUb(s,w,2);var D=u.joinStyle=readUb(s,w,2),G=u.hasFill=readUb(s,w,1);u.noHscale=readUb(s,w,1);u.noVscale=readUb(s,w,1);u.pixelHinting=readUb(s,w,1);readUb(s,w,5);u.noClose=readUb(s,w,1);u.endCapStyle=readUb(s,w,2);2===D&&(u.miterLimitFactor=readFixed8(s,w));G?(u=u.fillStyle={},E(s,w,u,
v,C,y)):(D=u.color={},A(s,w,D,v,C),y&&(y=u.colorMorph={},A(s,w,y,v,C)))}else 22<C?(D=u.color={},A(s,w,D,v,C)):(D=u.color={},z(s,w,D,v,C)),y&&(y=u.colorMorph={},A(s,w,y,v,C));m.push(p)}a=B(a,d,b,e,f);return{fillBits:a.fillBits,lineBits:a.lineBits}}function B(a,d){align(a,d);var b=readUb(a,d,4),e=readUb(a,d,4);return{fillBits:b,lineBits:e}}function E(a,d,b,e,f,g){var r=b.type=readUi8(a,d);switch(r){case 0:22<f||g?(r=b.color={},A(a,d,r,e,f)):(r=b.color={},z(a,d,r,e,f));g&&(b=b.colorMorph={},A(a,d,b,
e,f));break;case 16:case 18:case 19:var l=b.matrix={};C(a,d,l,e,f);g&&(l=b.matrixMorph={},C(a,d,l,e,f));83===f?(b.spreadMode=readUb(a,d,2),b.interpolationMode=readUb(a,d,2)):readUb(a,d,4);for(var m=b.count=readUb(a,d,4),l=b.records=[];m--;){var p={},s=a,w=d,u=p,v=e,E=f,y=g;u.ratio=readUi8(s,w);if(22<E){var B=u.color={};A(s,w,B,v,E)}else B=u.color={},z(s,w,B,v,E);y&&(u.ratioMorph=readUi8(s,w),u=u.colorMorph={},A(s,w,u,v,E));l.push(p)}19===r&&(b.focalPoint=readFixed8(a,d),g&&(b.focalPointMorph=readFixed8(a,
d)));break;case 64:case 65:case 66:case 67:b.bitmapId=readUi16(a,d),l=b.matrix={},C(a,d,l,e,f),g&&(g=b.matrixMorph={},C(a,d,g,e,f)),b.condition=64===r||67===r}}function G(a,d,b,e,f){var g=b.type=readUi8(a,d);switch(g){case 0:case 2:case 3:case 4:case 7:var r;r=4===g||7===g?readUi8(a,d):1;for(var l=b.colors=[],m=r;m--;){var p={};A(a,d,p,e,f);l.push(p)}3===g&&(l=b.higlightColor={},A(a,d,l,e,f));if(4===g||7===g){e=b.ratios=[];for(f=r;f--;)e.push(readUi8(a,d))}b.blurX=readFixed(a,d);b.blurY=readFixed(a,
d);2!==g&&(b.angle=readFixed(a,d),b.distance=readFixed(a,d));b.strength=readFixed8(a,d);b.innerShadow=readUb(a,d,1);b.knockout=readUb(a,d,1);b.compositeSource=readUb(a,d,1);3===g?b.onTop=readUb(a,d,1):readUb(a,d,1);4===g||7===g?b.passes=readUb(a,d,4):readUb(a,d,4);break;case 1:b.blurX=readFixed(a,d);b.blurY=readFixed(a,d);b.passes=readUb(a,d,5);readUb(a,d,3);break;case 5:r=b.columns=readUi8(a,d);l=b.rows=readUi8(a,d);b.divisor=readFloat(a,d);b.bias=readFloat(a,d);g=b.weights=[];for(r*=l;r--;)g.push(readFloat(a,
d));g=b.defaultColor={};A(a,d,g,e,f);readUb(a,d,6);b.clamp=readUb(a,d,1);b.preserveAlpha=readUb(a,d,1);break;case 6:b=b.matrix=[];for(e=20;e--;)b.push(readFloat(a,d))}}function J(a,d,b,e,f){var g=B(a,d,b,e,f),r=g.fillBits,g=g.lineBits,l=b.records=[];do{var m={},g=y(a,d,m,e,f,!1,r,g,!1,p);b=g.eos;var r=g.fillBits,g=g.lineBits,p=p;l.push(m)}while(!b)}return{"0":void 0,1:void 0,2:a,4:b,5:d,6:e,7:f,8:function(a,d,b){b||(b={});b.id=0;b.imgData=readBinary(a,d,0);b.mimeType="application/octet-stream";return b},
9:function(a,d,b,e,f){b||(b={});var g=b.color={};z(a,d,g,e,f);return b},10:function(a,d,b,e,f){b||(b={});b.id=readUi16(a,d);for(var g=readUi16(a,d),r=b.glyphCount=g/2,l=[],m=r-1;m--;)l.push(readUi16(a,d));b.offsets=[g].concat(l);for(g=b.glyphs=[];r--;)l={},J(a,d,l,e,f),g.push(l);return b},11:g,12:m,13:void 0,14:function(a,d,b){b||(b={});b.id=readUi16(a,d);var e=readUi8(a,d);b.soundFormat=e>>4&15;b.soundRate=e>>2&3;b.soundSize=e>>1&1;b.soundType=e&1;b.samplesCount=readUi32(a,d);b.soundData=readBinary(a,
d,0);return b},15:l,17:void 0,18:p,19:function(a,d,b){b||(b={});b.data=readBinary(a,d,0);return b},20:r,21:e,22:a,23:void 0,24:void 0,26:b,28:d,32:a,33:g,34:f,35:e,36:r,37:function(a,d,b,e,f){b||(b={});b.id=readUi16(a,d);var g=b.bbox={};w(a,d,g,e,f);var r=readUi16(a,d),g=b.hasText=r>>7&1;b.wordWrap=r>>6&1;b.multiline=r>>5&1;b.password=r>>4&1;b.readonly=r>>3&1;var l=b.hasColor=r>>2&1,m=b.hasMaxLength=r>>1&1,p=b.hasFont=r&1,s=b.hasFontClass=r>>15&1;b.autoSize=r>>14&1;var u=b.hasLayout=r>>13&1;b.noSelect=
r>>12&1;b.border=r>>11&1;b.wasStatic=r>>10&1;b.html=r>>9&1;b.useOutlines=r>>8&1;p&&(b.fontId=readUi16(a,d));s&&(b.fontClass=readString(a,d,0));p&&(b.fontHeight=readUi16(a,d));l&&(r=b.color={},A(a,d,r,e,f));m&&(b.maxLength=readUi16(a,d));u&&(b.align=readUi8(a,d),b.leftMargin=readUi16(a,d),b.rightMargin=readUi16(a,d),b.indent=readSi16(a,d),b.leading=readSi16(a,d));b.variableName=readString(a,d,0);g&&(b.initialText=readString(a,d,0));return b},39:void 0,43:function(a,b,d){d||(d={});d.name=readString(a,
b,0);return d},45:p,46:a,48:s,56:function(a,b,d){d||(d={});for(var e=readUi16(a,b),f=d.exports=[];e--;){var g={};g.symbolId=readUi16(a,b);g.className=readString(a,b,0);f.push(g)}return d},57:void 0,58:void 0,59:m,60:void 0,61:void 0,62:void 0,64:void 0,65:void 0,66:void 0,69:function(a,b,d){d||(d={});readUb(a,b,1);d.useDirectBlit=readUb(a,b,1);d.useGpu=readUb(a,b,1);d.hasMetadata=readUb(a,b,1);d.doAbc=readUb(a,b,1);d.noCrossDomainCaching=readUb(a,b,1);d.relativeUrls=readUb(a,b,1);d.network=readUb(a,
b,1);readUb(a,b,24);return d},70:b,71:void 0,72:v,73:void 0,74:void 0,75:s,76:function(a,b,d){d||(d={});for(var e=readUi16(a,b),f=d.exports=[];e--;){var g={};g.symbolId=readUi16(a,b);g.className=readString(a,b,0);f.push(g)}return d},77:void 0,78:function(a,b,d,e,f){d||(d={});d.symbolId=readUi16(a,b);var g=d.splitter={};w(a,b,g,e,f);return d},82:v,83:a,84:a,86:function(a,d,b){b||(b={});for(var e=readEncodedU32(a,d),f=b.scenes=[];e--;){var g={};g.offset=readEncodedU32(a,d);g.name=readString(a,d,0);
f.push(g)}e=readEncodedU32(a,d);for(f=b.labels=[];e--;)g={},g.frame=readEncodedU32(a,d),g.name=readString(a,d,0),f.push(g);return b},87:function(a,d,b){b||(b={});b.id=readUi16(a,d);readUi32(a,d);b.data=readBinary(a,d,0);return b},88:void 0,89:l,90:e,91:void 0}}(this),readHeader=function(a,b,d){d||(d={});var e=d.bbox={};align(a,b);var f=readUb(a,b,5),g=readSb(a,b,f),m=readSb(a,b,f),l=readSb(a,b,f),f=readSb(a,b,f);e.xMin=g;e.xMax=m;e.yMin=l;e.yMax=f;align(a,b);e=readUi8(a,b);d.frameRate=readUi8(a,b)+
e/256;d.frameCount=readUi16(a,b);return d};
function readTags(a,b,d,e){var f=a.tags,g=b.bytes,m;try{do{m=b.pos;b.ensure(2);var l=readUi16(g,b),p=l>>6,r=l&63;63===r&&(b.ensure(4),r=readUi32(g,b));b.ensure(r);if(0===p)break;var s=b.substream(b.pos,b.pos+=r),v=s.bytes,r={code:p};if(39===p)r.type="sprite",r.id=readUi16(v,s),r.frameCount=readUi16(v,s),r.tags=[],readTags(r,s,d);else{var w=tagHandler[p];w&&w(v,s,r,d,p)}f.push(r);if(1===p){for(;b.pos+2<=b.end&&1===b.getUint16(b.pos,!0)>>6;)f.push(r),b.pos+=2;e&&e(a)}else e&&void 0!==r.id&&e(a)}while(b.pos<
b.end)}catch(z){if(z!==StreamNoDataError)throw z;b.pos=m}}function HeadTailBuffer(a){this.bufferSize=a||16;this.buffer=new Uint8Array(this.bufferSize);this.pos=0}
HeadTailBuffer.prototype={push:function(a,b){var d=this.pos+a.length;if(this.bufferSize<d){for(var e=this.bufferSize;e<d;)e<<=1;d=new Uint8Array(e);0<this.bufferSize&&d.set(this.buffer);this.buffer=d;this.bufferSize=e}this.buffer.set(a,this.pos);this.pos+=a.length;if(b)return this.pos>=b},getHead:function(a){return this.buffer.subarray(0,a)},getTail:function(a){return this.buffer.subarray(a,this.pos)},removeHead:function(a){a=this.getTail(a);this.buffer=new Uint8Array(this.bufferSize);this.buffer.set(a);
this.pos=a.length},get arrayBuffer(){return this.buffer.buffer},get length(){return this.pos},createStream:function(){return new Stream(this.arrayBuffer,0,this.length)}};function CompressedPipe(a,b){this.target=a;this.length=b;this.initialize=!0;this.buffer=new HeadTailBuffer(8096);this.state={bitBuffer:0,bitLength:0,compression:{}};this.output={data:new Uint8Array(b),available:0,completed:!1}}
CompressedPipe.prototype={push:function(a,b){var d=this.buffer;if(this.initialize){if(!d.push(a,2))return;var e=d.getHead(2);verifyDeflateHeader(e);d.removeHead(2);this.initialize=!1}else d.push(a);e=d.createStream();e.bitBuffer=this.state.bitBuffer;e.bitLength=this.state.bitLength;var f=this.output,g=f.available;try{do inflateBlock(e,f,this.state.compression);while(e.pos<d.length&&!f.completed)}catch(m){if(m!==InflateNoDataError)throw m;}finally{this.state.bitBuffer=e.bitBuffer,this.state.bitLength=
e.bitLength}d.removeHead(e.pos);this.target.push(f.data.subarray(g,f.available),b)}};function BodyParser(a,b,d){this.swf={swfVersion:a,parseTime:0};this.buffer=new HeadTailBuffer(32768);this.initialize=!0;this.totalRead=0;this.length=b;this.options=d}
BodyParser.prototype={push:function(a,b){if(0!==a.length){var d=this.swf,e=d.swfVersion,f=this.buffer,g=this.options,m;if(this.initialize){if(!f.push(a,27))return;m=f.createStream();var l=m.bytes;readHeader(l,m,d);if(4420==readUi16(l,m)){m.ensure(4);var l=m.substream(m.pos,m.pos+=4),p={code:69};(0,tagHandler[69])(l.bytes,l,p,e,69);d.fileAttributes=p}else m.pos-=2,d.fileAttributes={};if(g.onstart)g.onstart(d);d.tags=[];this.initialize=!1}else f.push(a),m=f.createStream();b&&(d.bytesLoaded=b.bytesLoaded,
d.bytesTotal=b.bytesTotal);l=performance.now();readTags(d,m,e,g.onprogress);d.parseTime+=performance.now()-l;e=m.pos;f.removeHead(e);this.totalRead+=e;if(this.totalRead>=this.length&&g.oncomplete)g.oncomplete(d)}}};
SWF.parseAsync=function(a){var b=new HeadTailBuffer,d={push:function(e,f){if(void 0!==this.target)return this.target.push(e,f);if(!b.push(e,8))return null;var g=b.getHead(8),m=g[0],l=g[1],p=g[2];if((70===m||67===m)&&87===l&&83===p)m=67===m,g=g[3],l=b.createStream(),l.pos+=4,l=readUi32(null,l)-8,g=new BodyParser(g,l,a),m&&(g=new CompressedPipe(g,l)),g.push(b.getTail(8),f),d.target=g;else{var g=!1,r;255===m&&216===l&&255===p?(g=!0,r="image/jpeg"):137===m&&(80===l&&78===p)&&(g=!0,r="image/png");if(g){var s=
r,v=new Uint8Array(f.bytesTotal);v.set(e);var w=e.length;d.target={push:function(a){v.set(a,w);w+=a.length},close:function(){var b={},d;d="image/jpeg"==s?parseJpegChunks(b,v):[v];b={type:"image",props:b,data:new Blob(d,{type:s})};a.oncomplete&&a.oncomplete(b)}}}}b=null},close:function(){if(b){var d={command:"empty",data:b.buffer.subarray(0,b.pos)};a.oncomplete&&a.oncomplete(d)}void 0!==this.target&&this.target.close&&this.target.close()}};return d};
SWF.parse=function(a,b){b||(b={});var d=SWF.parseAsync(b),e=new Uint8Array(a);d.push(e,{bytesLoaded:e.length,bytesTotal:e.length})};function ActionsDataStream(a,b){this.array=a;this.position=0;this.end=a.length;this.readString=6<=b?this.readUTF8String:this.readANSIString;var d=new ArrayBuffer(4);(new Int32Array(d))[0]=1;if(!(new Uint8Array(d))[0])throw Error("big-endian platform");}
ActionsDataStream.prototype={readUI8:function(){return this.array[this.position++]},readUI16:function(){var a=this.position,b=this.array,b=b[a+1]<<8|b[a];this.position=a+2;return b},readSI16:function(){var a=this.position,b=this.array,b=b[a+1]<<8|b[a];this.position=a+2;return 32768>b?b:b-65536},readInteger:function(){var a=this.position,b=this.array,b=b[a]|b[a+1]<<8|b[a+2]<<16|b[a+3]<<24;this.position=a+4;return b},readFloat:function(){var a=this.position,b=this.array,d=new ArrayBuffer(4),e=new Uint8Array(d);
e[0]=b[a];e[1]=b[a+1];e[2]=b[a+2];e[3]=b[a+3];this.position=a+4;return(new Float32Array(d))[0]},readDouble:function(){var a=this.position,b=this.array,d=new ArrayBuffer(8),e=new Uint8Array(d);e[4]=b[a];e[5]=b[a+1];e[6]=b[a+2];e[7]=b[a+3];e[0]=b[a+4];e[1]=b[a+5];e[2]=b[a+6];e[3]=b[a+7];this.position=a+8;return(new Float64Array(d))[0]},readBoolean:function(){return!!this.readUI8()},readANSIString:function(){for(var a="",b;b=this.readUI8();)a+=String.fromCharCode(b);return a},readUTF8String:function(){for(var a=
"",b;b=this.readUI8();)if(128>b)a+=String.fromCharCode(b);else{if(128===(b&192))throw Error("Invalid UTF8 encoding");var d=192,e=5;do{var f=d>>1|128;if((b&f)===d)break;d=f;--e}while(0<=e);d=b&(1<<e)-1;for(f=5;f>=e;--f){b=this.readUI8();if(128!==(b&192))throw Error("Invalid UTF8 encoding");d=d<<6|b&63}a=65536<=d?a+String.fromCharCode(d-65536>>10&1023|55296,d&1023|56320):a+String.fromCharCode(d)}return a},readBytes:function(a){var b=this.position,d=Math.max(this.end-b,0);d<a&&(a=d);d=this.array.subarray(b,
b+a);this.position=b+a;return d}};"undefined"!==typeof GLOBAL&&(GLOBAL.ActionsDataStream=ActionsDataStream);var AVM1_TRACE_ENABLED=!1,AVM1_ERRORS_IGNORED=!0,MAX_AVM1_INSTRUCTIONS_LIMIT=1E5,MAX_AVM1_ERRORS_LIMIT=1E3,MAX_AVM1_STACK_LIMIT=256;function AS2ScopeListItem(a,b){this.scope=a;this.next=b}AS2ScopeListItem.prototype={create:function(a){return new AS2ScopeListItem(a,this)}};
function AS2Context(a){this.swfVersion=a;this.globals=new avm1lib.AS2Globals(this);this.initialScope=new AS2ScopeListItem(this.globals,null);this.assets={};this.stackDepth=this.instructionsExecuted=0;this.isTryCatchListening=!1;this.errorsIgnored=0;this.deferScriptExecution=!0;this.pendingScripts=[]}AS2Context.instance=null;
AS2Context.prototype={addAsset:function(a,b){this.assets[a]=b},resolveTarget:function(a){a?"string"===typeof a&&(a=lookupAS2Children(a,this.defaultTarget,this.globals.asGetPublicProperty("_root"))):a=this.defaultTarget;if("object"!==typeof a||null===a||!("$nativeObject"in a))throw Error("Invalid AS2 target object: "+Object.prototype.toString.call(a));return a},resolveLevel:function(a){return this.resolveTarget(this.globals["_level"+a])},addToPendingScripts:function(a){if(!this.deferScriptExecution)return a();
this.pendingScripts.push(a)},flushPendingScripts:function(){for(var a=this.pendingScripts;a.length;)a.shift()();this.deferScriptExecution=!1}};function AS2Error(a){this.error=a}function AS2CriticalError(a,b){this.message=a;this.error=b}AS2CriticalError.prototype=Object.create(Error.prototype);function isAS2MovieClip(a){return"object"===typeof a&&a&&a instanceof avm1lib.AS2MovieClip}
function as2GetType(a){if(null===a)return"null";var b=typeof a;return"function"===b?"object":"object"===b&&isAS2MovieClip(a)?"movieclip":b}function as2ToPrimitive(a){return"object"!==as2GetType(a)?a:a.valueOf()}function as2ToAddPrimitive(a){return"object"!==as2GetType(a)?a:a instanceof Date&&6<=AS2Context.instance.swfVersion?a.toString():a.valueOf()}
function as2ToBoolean(a){switch(as2GetType(a)){default:case "undefined":case "null":return!1;case "boolean":return a;case "number":return 0!==a&&!isNaN(a);case "string":return 0!==a.length;case "movieclip":case "object":return!0}}
function as2ToNumber(a){a=as2ToPrimitive(a);switch(as2GetType(a)){case "undefined":case "null":return 7<=AS2Context.instance.swfVersion?NaN:0;default:return 5<=AS2Context.instance.swfVersion?NaN:0;case "null":return NaN;case "boolean":return a?1:0;case "number":return a;case "string":return""===a&&5>AS2Context.instance.swfVersion?0:+a}}function as2ToInteger(a){a=as2ToNumber(a);return isNaN(a)?0:!isFinite(a)||0===a?a:(0>a?-1:1)*Math.abs(a)|0}
function as2ToInt32(a){a=as2ToNumber(a);return isNaN(a)||!isFinite(a)||0===a?0:a|0}
function as2ToString(a){switch(as2GetType(a)){case "undefined":return 7<=AS2Context.instance.swfVersion?"undefined":"";case "null":return"null";case "boolean":return a?"true":"false";case "number":return a.toString();case "string":return a;case "undefined":return"undefined";case "movieclip":return a.$targetPath;case "object":var b=a.toString!==Function.prototype.toString?a.toString():a;return"string"===typeof b?b:"function"===typeof a?"[type Function]":"[type Object]"}}
function as2Compare(a,b){var d=as2ToPrimitive(a),e=as2ToPrimitive(b);return"string"===typeof d&&"string"===typeof e?d<e:as2ToNumber(d)<as2ToNumber(e)}function as2InstanceOf(a,b){return a instanceof b?!0:!1}function as2ResolveProperty(a,b){var d=Multiname.getPublicQualifiedName(b);if(d in a)return b;if(isNumeric(b))return null;var d=d.toLowerCase(),e;for(e in a)if(e.toLowerCase()===d)return e.substr(Multiname.PUBLIC_QUALIFIED_NAME_PREFIX.length);return null}
function as2GetPrototype(a){return a&&a.asGetPublicProperty("prototype")}function isAvm2Class(a){return"object"===typeof a&&null!==a&&"instanceConstructor"in a}
function as2CreatePrototypeProxy(a){var b=a.asGetPublicProperty("prototype");return"undefined"===typeof Proxy?(console.error("ES6 proxies are not found"),b):Proxy.create({getOwnPropertyDescriptor:function(a){return Object.getOwnPropertyDescriptor(b,a)},getPropertyDescriptor:function(a){for(var e=b;e;e=Object.getPrototypeOf(e)){var f=Object.getOwnPropertyDescriptor(e,a);if(f)return f}},getOwnPropertyNames:function(){return Object.getOwnPropertyNames(b)},getPropertyNames:function(){for(var a=Object.getOwnPropertyNames(b),
e=Object.getPrototypeOf(b);e;e=Object.getPrototypeOf(e))a=a.concat(Object.getOwnPropertyNames(e));return a},defineProperty:function(d,e){e&&("function"===typeof e.value&&e.value._setClass&&e.value._setClass(a),"function"===typeof e.get&&e.get._setClass&&e.get._setClass(a),"function"===typeof e.set&&e.set._setClass&&e.set._setClass(a));return Object.defineProperty(b,d,e)},"delete":function(a){return delete b[a]},fix:function(){}})}
function executeActions(a,b,d){var e=ActionTracerFactory.get(),f=b.initialScope.create(d),g=AS2Context.instance;try{AS2Context.instance=b,b.defaultTarget=d,b.globals.asSetPublicProperty("this",d),e.message("ActionScript Execution Starts"),e.indent(),interpretActions(a,f,null,[])}finally{b.instructionsExecuted=0,b.errorsIgnored=0,e.unindent(),e.message("ActionScript Execution Stops"),AS2Context.instance=g}}
function lookupAS2Children(a,b,d){var e=a.split(/[\/.]/g);""===e[e.length-1]&&e.pop();if(""===e[0]||"_level0"===e[0]||"_root"===e[0])b=d,e.shift();for(;0<e.length;){d=b;b=b.$lookupChild(e[0]);if(!b)throw Error(e[0]+" (expr "+a+") is not found in "+d._target);e.shift()}return b}
function createBuiltinType(a,b){if(a===Array){var d=b;1==b.length&&"number"===typeof b[0]&&(d=[],d.length=b[0]);return d}if(a===Boolean||a===Number||a===String||a===Function)return a.apply(null,b);if(a===Date)switch(b.length){case 0:return new Date;case 1:return new Date(b[0]);default:return new Date(b[0],b[1],2<b.length?b[2]:1,3<b.length?b[3]:0,4<b.length?b[4]:0,5<b.length?b[5]:0,6<b.length?b[6]:0)}if(a===Object)return{}}var AS2_SUPER_STUB={};
function interpretActions(a,b,d,e){function f(a){if(a)try{z.defaultTarget=lookupAS2Children(a,u,C.asGetPublicProperty("_root"))}catch(b){throw z.defaultTarget=null,b;}else z.defaultTarget=D}function g(a,e,f,g){var r,l=function(){var a={};a.asSetPublicProperty("this",this);a.asSetPublicProperty("arguments",arguments);a.asSetPublicProperty("super",AS2_SUPER_STUB);a.asSetPublicProperty("__class",r);var l=b.create(a),m;for(m=0;m<arguments.length||m<e.length;m++)a.asSetPublicProperty(e[m],arguments[m]);
a=[];if(f)for(m=0;m<f.length;m++){var p=f[m];if(p)if("param"==p.type)a[m]=arguments[p.index];else switch(p.name){case "this":a[m]=this;break;case "arguments":a[m]=arguments;break;case "super":a[m]=AS2_SUPER_STUB;break;case "_global":a[m]=C;break;case "_parent":a[m]=D.asGetPublicProperty("_parent");break;case "_root":a[m]=C.asGetPublicProperty("_root")}}m=AS2Context.instance;var s;try{AS2Context.instance=z;s=0===z.instructionsExecuted;z.defaultTarget=D;E.indent();z.stackDepth++;if(256<=z.stackDepth)throw new AS2CriticalError("long running script -- AVM1 recursion limit is reached");
return interpretActions(g,l,d,a)}finally{s&&(z.instructionsExecuted=0,z.errorsIgnored=0),z.stackDepth--,E.unindent(),z.defaultTarget=u,AS2Context.instance=m}};r=l;l._setClass=function(a){r=a};l.instanceConstructor=l;l.debugName="avm1 "+(a||"<function>");a&&(l.name=a);return l}function m(a,b){var d,e,f;if(0<=a.indexOf(":")){e=a.split(":");d=lookupAS2Children(e[0],u,C.asGetPublicProperty("_root"));if(!d)throw Error(e[0]+" is undefined");e=e[1]}else if(0<=a.indexOf(".")){var g=a.split(".");e=g.pop();
d=C;for(f=0;f<g.length;f++)if(d=d.asGetPublicProperty(g[f])||d[g[f]],!d)throw Error(g.slice(0,f+1)+" is undefined");}if(!d)return null;f=as2ResolveProperty(d,e);return(g=null!==f)||b?{obj:d,name:f||e,resolved:g}:null}function l(){var a=D.asGetPublicProperty("this");if(a)return a;for(a=b;a;a=a.next)if(ha=as2ResolveProperty(a.scope,"this"),null!==ha)return a.scope.asGetPublicProperty(ha)}function p(a){if(D.asHasProperty(void 0,a,0))return D.asGetPublicProperty(a);var d=m(a);if(d)return d.obj.asGetPublicProperty(d.name);
for(var e,d=l(),f=b;f;f=f.next)if(e=as2ResolveProperty(f.scope,a),null!==e)return f.scope.asGetPublicProperty(e);if(d&&(e=as2ResolveProperty(d,a)))return d.asGetPublicProperty(e);if(a=isAS2MovieClip(u)&&u.$lookupChild(a))return a}function r(a){var d=p(a);if(!(d instanceof Object))throw Error('Object "'+a+'" is not found');return d}function s(a,d){if(isNaN(a)||0>a||a>d||a!=(0|a))throw Error("Invalid number of arguments: "+a);}function v(a){var d=+a.pop();s(d,a.length);for(var b=[],e=0;e<d;e++)b.push(a.pop());
return b}function w(a){for(;0<a&&A.position<A.end;){var d=128<=A.readUI8()?A.readUI16():0;A.position+=d;a--}G=A.position}var z=AS2Context.instance,A=new ActionsDataStream(a,z.swfVersion),C=z.globals,u=z.defaultTarget,y=[],D=b.scope,B=5<=z.swfVersion,E=ActionTracerFactory.get(),G;D.$nativeObject&&D.$nativeObject._deferScriptExecution&&(z.deferScriptExecution=!0);for(var J=!1,P;A.position<A.end;)try{for(;A.position<A.end;){if(1E5<=z.instructionsExecuted++)throw new AS2CriticalError("long running script -- AVM1 instruction limit is reached");
var Q=A.readUI8(),S=128<=Q?A.readUI16():0;G=A.position+S;P=0;E.print(A.position,Q,y);var O,F,H,R,K,I,M,T,L,N,V,ca,da,ea,ka,ha,la,fa,ba,Z,oa,ia,sa,ya,aa,qa,Aa,W,ra,pa,za,Ha;switch(Q|0){case 129:O=A.readUI16();var va=A.readUI8();G++;ca=6===va?"gotoAndPlay":"gotoAndStop";C[ca](O+1);break;case 131:var Sa=A.readString(),Ta=A.readString();C.getURL(Sa,Ta);break;case 4:C.nextFrame();break;case 5:C.prevFrame();break;case 6:C.play();break;case 7:C.stop();break;case 8:C.toggleHighQuality();break;case 9:C.stopAllSounds();
break;case 138:O=A.readUI16();H=A.readUI8();C.ifFrameLoaded(O)||w(H);break;case 139:ea=A.readString();f(ea);break;case 140:var Ma=A.readString();C.gotoLabel(Ma);break;case 150:for(;A.position<G;){F=A.readUI8();switch(F){case 0:fa=A.readString();break;case 1:fa=A.readFloat();break;case 2:fa=null;break;case 3:fa=void 0;break;case 4:fa=e[A.readUI8()];break;case 5:fa=A.readBoolean();break;case 6:fa=A.readDouble();break;case 7:fa=A.readInteger();break;case 8:fa=d[A.readUI8()];break;case 9:fa=d[A.readUI16()];
break;default:throw Error("Unknown value type: "+F);}y.push(fa)}break;case 23:y.pop();break;case 10:ba=as2ToNumber(y.pop());Z=as2ToNumber(y.pop());y.push(ba+Z);break;case 11:ba=as2ToNumber(y.pop());Z=as2ToNumber(y.pop());y.push(Z-ba);break;case 12:ba=as2ToNumber(y.pop());Z=as2ToNumber(y.pop());y.push(ba*Z);break;case 13:ba=as2ToNumber(y.pop());Z=as2ToNumber(y.pop());oa=Z/ba;y.push(B?oa:isFinite(oa)?oa:"#ERROR#");break;case 14:ba=as2ToNumber(y.pop());Z=as2ToNumber(y.pop());ia=ba==Z;y.push(B?ia:ia?
1:0);break;case 15:ba=as2ToNumber(y.pop());Z=as2ToNumber(y.pop());ia=Z<ba;y.push(B?ia:ia?1:0);break;case 16:ba=as2ToBoolean(y.pop());Z=as2ToBoolean(y.pop());ia=ba&&Z;y.push(B?ia:ia?1:0);break;case 17:ba=as2ToBoolean(y.pop());Z=as2ToBoolean(y.pop());ia=ba||Z;y.push(B?ia:ia?1:0);break;case 18:ia=!as2ToBoolean(y.pop());y.push(B?ia:ia?1:0);break;case 19:sa=as2ToString(y.pop());ya=as2ToString(y.pop());ia=sa==ya;y.push(B?ia:ia?1:0);break;case 20:case 49:sa=as2ToString(y.pop());y.push(C.length(sa));break;
case 33:sa=as2ToString(y.pop());ya=as2ToString(y.pop());y.push(ya+sa);break;case 21:H=y.pop();R=y.pop();fa=as2ToString(y.pop());y.push(C.substring(fa,R,H));break;case 53:H=y.pop();R=y.pop();fa=as2ToString(y.pop());y.push(C.mbsubstring(fa,R,H));break;case 41:sa=as2ToString(y.pop());ya=as2ToString(y.pop());ia=ya<sa;y.push(B?ia:ia?1:0);break;case 24:y.push(C.int(y.pop()));break;case 50:y.push(C.chr(y.pop()));break;case 54:y.push(C.mbchr(y.pop()));break;case 51:y.push(C.ord(y.pop()));break;case 55:y.push(C.mbord(y.pop()));
break;case 153:L=A.readSI16();G+=L;break;case 157:L=A.readSI16();(ia=!!y.pop())&&(G+=L);break;case 158:Ma=y.pop();C.call(Ma);break;case 28:V=""+y.pop();P++;y.push(p(V));break;case 29:fa=y.pop();V=""+y.pop();a:{var ja=V,Ia=fa;if(D.asHasProperty(void 0,ja,0))D.asSetPublicProperty(ja,Ia);else{var Ba=m(ja,!0);if(Ba)Ba.obj.asSetPublicProperty(Ba.name,Ia);else{var Ca=void 0,La=l();if(La&&(Ca=as2ResolveProperty(La,ja)))La.asSetPublicProperty(Ca,Ia);else{for(var Oa=b;Oa.next;Oa=Oa.next)if(Ca=as2ResolveProperty(Oa.scope,
ja),null!==Ca){Oa.scope.asSetPublicProperty(Ca,Ia);break a}(La||D).asSetPublicProperty(ja,Ia)}}}}break;case 154:ra=A.readUI8();var Ua;switch(ra>>6&3){case 1:Ua="GET";break;case 2:Ua="POST"}var Za=ra&2?ra&1?C.loadVariables:C.loadMovie:ra&1?C.loadVariablesNum:C.loadMovieNum;K=y.pop();var $a=y.pop();Za.call(C,$a,K,Ua);break;case 159:ra=A.readUI8();var Va=[y.pop()];ra&2&&Va.push(A.readUI16());(ra&1?C.gotoAndPlay:C.gotoAndStop).apply(C,Va);break;case 32:K=y.pop();f(K);break;case 34:R=y.pop();K=y.pop();
P++;y.push(C.getAS2Property(K,R));break;case 35:fa=y.pop();R=y.pop();K=y.pop();C.setAS2Property(K,R,fa);break;case 36:var ab=y.pop();K=y.pop();var bb=y.pop();C.duplicateMovieClip(bb,K,ab);break;case 37:K=y.pop();C.removeMovieClip(K);break;case 39:K=y.pop();var cb=y.pop(),Pa=!y.pop()?null:{y2:y.pop(),x2:y.pop(),y1:y.pop(),x1:y.pop()};za=[K,cb];Pa&&(za=za.push(Pa.x1,Pa.y1,Pa.x2,Pa.y2));C.startDrag.apply(C,za);break;case 40:C.stopDrag();break;case 141:H=A.readUI8();O=y.pop();C.ifFrameLoaded(O)||w(H);
break;case 38:fa=y.pop();C.trace(fa);break;case 52:y.push(C.getTimer());break;case 48:y.push(C.random(y.pop()));break;case 61:da=y.pop();qa=v(y);P++;var Wa=da,Xa=p(Wa);if(!(Xa instanceof Function))throw Error('Function "'+Wa+'" is not found');Aa=Xa;W=Aa.apply(D,qa);y.push(W);break;case 82:ca=y.pop();aa=y.pop();qa=v(y);P++;if(null!==ca&&void 0!==ca&&""!==ca){if(null===aa||void 0===aa)throw Error("Cannot call method "+ca+" of "+typeof aa);aa!==AS2_SUPER_STUB?K=Object(aa):(K=as2GetPrototype(p("__class").__super),
aa=p("this"));ha=as2ResolveProperty(K,ca);if(null===ha)throw Error("Method "+ca+" is not defined.");W=K.asGetPublicProperty(ha).apply(aa,qa)}else W=aa!==AS2_SUPER_STUB?aa.apply(aa,qa):p("__class").__super.apply(p("this"),qa);y.push(W);break;case 136:H=A.readUI16();d=[];for(pa=0;pa<H;pa++)d.push(A.readString());break;case 155:da=A.readString();H=A.readUI16();qa=[];for(pa=0;pa<H;pa++)qa.push(A.readString());T=A.readUI16();G+=T;Aa=g(da,qa,null,A.readBytes(T));da?D.asSetPublicProperty(da,Aa):y.push(Aa);
break;case 60:fa=y.pop();N=y.pop();D.asSetPublicProperty(N,fa);break;case 65:N=y.pop();D.asSetPublicProperty(N,void 0);break;case 58:N=y.pop();aa=y.pop();aa.asSetPublicProperty(N,void 0);y.push(aa.asDeleteProperty(void 0,N,0));break;case 59:N=y.pop();a:{for(var ma=N,Na=b;Na;Na=Na.next)if(Na.scope.asHasProperty(void 0,ma,0)){Na.scope.asSetPublicProperty(ma,void 0);W=Na.scope.asDeleteProperty(void 0,ma,0);break a}W=!1}y.push(W);break;case 70:la=y.pop();y.push(null);aa=r(la);forEachPublicProperty(aa,
function(a){y.push(a)});break;case 73:ba=y.pop();Z=y.pop();y.push(ba==Z);break;case 78:N=y.pop();aa=y.pop();"prototype"===N?y.push(as2CreatePrototypeProxy(aa)):(ha=as2ResolveProperty(Object(aa),N),y.push(null===ha?void 0:aa.asGetPublicProperty(ha)));break;case 66:aa=v(y);y.push(aa);break;case 67:H=+y.pop();s(H,y.length>>1);aa={};for(pa=0;pa<H;pa++)fa=y.pop(),N=y.pop(),aa.asSetPublicProperty(N,fa);y.push(aa);break;case 83:ca=y.pop();aa=y.pop();qa=v(y);P++;if(null!==ca&&void 0!==ca&&""!==ca){ha=as2ResolveProperty(aa,
ca);if(null===ha)throw Error("Method "+ca+" is not defined.");if(null===aa||void 0===aa)throw Error("Cannot call new using method "+ha+" of "+typeof aa);I=aa.asGetPublicProperty(ha)}else{if(null===aa||void 0===aa)throw Error("Cannot call new using "+typeof aa);I=aa}isAvm2Class(aa)?W=construct(aa,qa):(W=Object.create(as2GetPrototype(I)||as2GetPrototype(Object)),I.apply(W,qa));W.constructor=I;y.push(W);break;case 64:la=y.pop();aa=r(la);qa=v(y);P++;W=createBuiltinType(aa,qa);"undefined"===typeof W&&
(isAvm2Class(aa)?W=construct(aa,qa):(W=Object.create(as2GetPrototype(aa)||as2GetPrototype(Object)),aa.apply(W,qa)),W.constructor=aa);y.push(W);break;case 79:fa=y.pop();N=y.pop();aa=y.pop();aa.asSetPublicProperty(N,fa);break;case 69:aa=y.pop();y.push("movieclip"===as2GetType(aa)?aa._target:void 0);break;case 148:T=A.readUI16();aa=y.pop();G+=T;var db=A.readBytes(T),wa=b.create(Object(aa));interpretActions(db,wa,d,e);break;case 74:y.push(as2ToNumber(y.pop()));break;case 75:y.push(as2ToString(y.pop()));
break;case 68:aa=y.pop();W=as2GetType(aa);y.push(W);break;case 71:ba=as2ToAddPrimitive(y.pop());Z=as2ToAddPrimitive(y.pop());"string"===typeof ba||"string"===typeof Z?y.push(as2ToString(Z)+as2ToString(ba)):y.push(as2ToNumber(Z)+as2ToNumber(ba));break;case 72:ba=y.pop();Z=y.pop();y.push(as2Compare(Z,ba));break;case 63:ba=as2ToNumber(y.pop());Z=as2ToNumber(y.pop());y.push(Z%ba);break;case 96:ba=as2ToInt32(y.pop());Z=as2ToInt32(y.pop());y.push(Z&ba);break;case 99:ba=as2ToInt32(y.pop());Z=as2ToInt32(y.pop());
y.push(Z<<ba);break;case 97:ba=as2ToInt32(y.pop());Z=as2ToInt32(y.pop());y.push(Z|ba);break;case 100:ba=as2ToInt32(y.pop());Z=as2ToInt32(y.pop());y.push(Z>>ba);break;case 101:ba=as2ToInt32(y.pop());Z=as2ToInt32(y.pop());y.push(Z>>>ba);break;case 98:ba=as2ToInt32(y.pop());Z=as2ToInt32(y.pop());y.push(Z^ba);break;case 81:ba=as2ToNumber(y.pop());ba--;y.push(ba);break;case 80:ba=as2ToNumber(y.pop());ba++;y.push(ba);break;case 76:y.push(y[y.length-1]);break;case 62:return y.pop();case 77:y.push(y.pop(),
y.pop());break;case 135:Ha=A.readUI8();e[Ha]=y[y.length-1];break;case 84:M=y.pop();aa=y.pop();y.push(as2InstanceOf(Object(aa),M));break;case 85:aa=y.pop();y.push(null);forEachPublicProperty(aa,function(a){y.push(a)});break;case 102:ba=y.pop();Z=y.pop();y.push(Z===ba);break;case 103:ba=y.pop();Z=y.pop();y.push(as2Compare(ba,Z));break;case 104:sa=as2ToString(y.pop());ya=as2ToString(y.pop());ia=ya>sa;y.push(B?ia:ia?1:0);break;case 142:da=A.readString();H=A.readUI16();A.readUI8();ra=A.readUI16();var ua=
[];qa=[];for(pa=0;pa<H;pa++)Ha=A.readUI8(),ka=A.readString(),qa.push(ka),Ha&&(ua[Ha]={type:"param",name:ka,index:pa});T=A.readUI16();G+=T;var Ka=1;ra&1&&(ua[Ka++]={type:"var",name:"this"});ra&4&&(ua[Ka++]={type:"var",name:"arguments"});ra&16&&(ua[Ka++]={type:"var",name:"super"});ra&64&&(ua[Ka++]={type:"var",name:"_root"});ra&128&&(ua[Ka++]={type:"var",name:"_parent"});ra&256&&(ua[Ka++]={type:"var",name:"_global"});Aa=g(da,qa,ua,A.readBytes(T));da?D.asSetPublicProperty(da,Aa):y.push(Aa);break;case 105:var na=
y.pop();M=y.pop();aa=Object.create(na.traitsPrototype||as2GetPrototype(na),{constructor:{value:M,enumerable:!1}});M.__super=na;M.prototype=aa;break;case 43:aa=y.pop();M=y.pop();y.push(as2InstanceOf(aa,M)?aa:null);break;case 44:M=y.pop();H=+y.pop();s(H,y.length);var xa=[];for(pa=0;pa<H;pa++)xa.push(y.pop());M.$interfaces=xa;break;case 143:ra=A.readUI8();var Ja=!!(ra&4),$=!!(ra&2),Y=!!(ra&1),Da=A.readUI16(),Ea=A.readUI16(),Fa=A.readUI16(),U=Ja?A.readUI8():A.readString();G+=Da+Ea+Fa;var ga=$,Ga=Y,X=
U,ta=A.readBytes(Da),eb=A.readBytes(Ea),fb=A.readBytes(Fa),Ya=z.isTryCatchListening;try{z.isTryCatchListening=!0,interpretActions(ta,b,d,e)}catch(Qa){z.isTryCatchListening=Ya;if(!Ga)throw Qa;if(!(Qa instanceof AS2Error))throw Qa;"string"===typeof X?D[X]=Qa.error:e[X]=Qa.error;interpretActions(eb,b,d,e)}finally{z.isTryCatchListening=Ya,ga&&interpretActions(fb,b,d,e)}break;case 42:throw aa=y.pop(),new AS2Error(aa);case 45:qa=v(y);P++;W=C.fscommand.apply(null,qa);y.push(W);break;case 137:A.readUI8();
break;case 0:return;default:throw Error("Unknown action code: "+Q);}A.position=G;J=!1}}catch(Ra){if(Ra instanceof AS2CriticalError)throw Ra;if(Ra instanceof AS2Error)throw Ra;TelemetryService.reportTelemetry({topic:"error",error:1});A.position=G;if(0<P)for(;P--;)y.push(void 0);if(!J){if(1E3<=z.errorsIgnored++)throw new AS2CriticalError("long running script -- AVM1 errors limit is reached");console.error("AVM1 error: "+Ra);J=!0}}}
var ActionTracerFactory=function(){function a(){}var b={print:function(){},indent:function(){},unindent:function(){},message:function(){}};a.get=function(){return b};return a}(),ActionNamesMap={"0":"EOA",4:"ActionNextFrame",5:"ActionPreviousFrame",6:"ActionPlay",7:"ActionStop",8:"ActionToggleQuality",9:"ActionStopSounds",10:"ActionAdd",11:"ActionSubtract",12:"ActionMultiply",13:"ActionDivide",14:"ActionEquals",15:"ActionLess",16:"ActionAnd",17:"ActionOr",18:"ActionNot",19:"ActionStringEquals",20:"ActionStringLength",
21:"ActionStringExtract",23:"ActionPop",24:"ActionToInteger",28:"ActionGetVariable",29:"ActionSetVariable",32:"ActionSetTarget2",33:"ActionStringAdd",34:"ActionGetProperty",35:"ActionSetProperty",36:"ActionCloneSprite",37:"ActionRemoveSprite",38:"ActionTrace",39:"ActionStartDrag",40:"ActionEndDrag",41:"ActionStringLess",42:"ActionThrow",43:"ActionCastOp",44:"ActionImplementsOp",45:"ActionFSCommand2",48:"ActionRandomNumber",49:"ActionMBStringLength",50:"ActionCharToAscii",51:"ActionAsciiToChar",52:"ActionGetTime",
53:"ActionMBStringExtrac",54:"ActionMBCharToAscii",55:"ActionMBAsciiToChar",58:"ActionDelete",59:"ActionDelete2",60:"ActionDefineLocal",61:"ActionCallFunction",62:"ActionReturn",63:"ActionModulo",64:"ActionNewObject",65:"ActionDefineLocal2",66:"ActionInitArray",67:"ActionInitObject",68:"ActionTypeOf",69:"ActionTargetPath",70:"ActionEnumerate",71:"ActionAdd2",72:"ActionLess2",73:"ActionEquals2",74:"ActionToNumber",75:"ActionToString",76:"ActionPushDuplicate",77:"ActionStackSwap",78:"ActionGetMember",
79:"ActionSetMember",80:"ActionIncrement",81:"ActionDecrement",82:"ActionCallMethod",83:"ActionNewMethod",84:"ActionInstanceOf",85:"ActionEnumerate2",96:"ActionBitAnd",97:"ActionBitOr",98:"ActionBitXor",99:"ActionBitLShift",100:"ActionBitRShift",101:"ActionBitURShift",102:"ActionStrictEquals",103:"ActionGreater",104:"ActionStringGreater",105:"ActionExtends",129:"ActionGotoFrame",131:"ActionGetURL",135:"ActionStoreRegister",136:"ActionConstantPool",137:"ActionStrictMode",138:"ActionWaitForFrame",139:"ActionSetTarget",
140:"ActionGoToLabel",141:"ActionWaitForFrame2",142:"ActionDefineFunction",143:"ActionTry",148:"ActionWith",150:"ActionPush",153:"ActionJump",154:"ActionGetURL2",155:"ActionDefineFunction",157:"ActionIf",158:"ActionCall",159:"ActionGotoFrame2"};"undefined"!==typeof GLOBAL&&(GLOBAL.createBuiltinType=createBuiltinType,GLOBAL.executeActions=executeActions,GLOBAL.AS2Context=AS2Context);
var debug=!0,$DEBUG,release=!1,compatibility=!0,useSurrogates=!0,useAsAdd=!0,sealConstTraits=!1,c4CoerceNonPrimitiveParameters=!1,c4CoerceNonPrimitive=!1,c4AsTypeLate=!0,inBrowser="undefined"!=typeof console;inBrowser||(console={info:print,warn:function(a){traceWarnings.value&&print(a)}});this.performance||(this.performance={});this.performance.now||(this.performance.now=Date.now);function backtrace(){try{throw Error();}catch(a){return a.stack?a.stack.split("\n").slice(2).join("\n"):""}}
function error(a){inBrowser||console.info(backtrace());throw Error(a);}function assert(a){""===a&&(a=!0);if(!a){var b=Array.prototype.slice.call(arguments);b.shift();error(b.join(""))}}function assertFalse(a,b){a&&error(b)}function assertNotImplemented(a,b){a||error("NotImplemented: "+b)}function warning(){!0}function notImplemented(){!0}function somewhatImplemented(a){warning("somewhatImplemented: "+a)}function unexpected(){}
function makeForwardingGetter(a){return new Function('return this["'+a+'"]')}function makeForwardingSetter(a){return new Function("value",'this["'+a+'"] = value;')}function defineReadOnlyProperty(a,b,d){Object.defineProperty(a,b,{value:d,writable:!1,configurable:!0,enumerable:!1})}function bindSafely(a,b){!0;var d=a.bind(b);d.boundTo=b;return d}function createEmptyObject(){return Object.create(null)}
function getOwnPropertyDescriptors(a){for(var b=createEmptyObject(),d=Object.getOwnPropertyNames(a),e=0;e<d.length;e++)b[d[e]]=Object.getOwnPropertyDescriptor(a,d[e]);return b}function cloneObject(a){var b=Object.create(null),d;for(d in a)b[d]=a[d];return b}function extendObject(a,b){var d=Object.create(a);if(b)for(var e in b)d[e]=b[e];return d}function copyProperties(a,b){for(var d in b)a[d]=b[d]}
function toSafeString(a){return"string"===typeof a?'"'+a+'"':"number"===typeof a||"boolean"===typeof a?String(a):typeof a}function toSafeArrayString(a){for(var b=[],d=0;d<a.length;d++)b.push(toSafeString(a[d]));return b.join(", ")}function getLatestGetterOrSetterPropertyDescriptor(a,b){for(var d={};a;){var e=Object.getOwnPropertyDescriptor(a,b);e&&(d.get=d.get||e.get,d.set=d.set||e.set);if(d.get&&d.set)break;a=Object.getPrototypeOf(a)}return d}
function defineNonEnumerableGetterOrSetter(a,b,d,e){var f=getLatestGetterOrSetterPropertyDescriptor(a,b);f.configurable=!0;f.enumerable=!1;e?f.get=d:f.set=d;Object.defineProperty(a,b,f)}function defineNonEnumerableGetter(a,b,d){Object.defineProperty(a,b,{get:d,configurable:!0,enumerable:!1})}function defineNonEnumerableSetter(a,b,d){Object.defineProperty(a,b,{set:d,configurable:!0,enumerable:!1})}
function defineNonEnumerableProperty(a,b,d){Object.defineProperty(a,b,{value:d,writable:!0,configurable:!0,enumerable:!1})}function defineNonEnumerableForwardingProperty(a,b,d){Object.defineProperty(a,b,{get:makeForwardingGetter(d),set:makeForwardingSetter(d),writable:!0,configurable:!0,enumerable:!1})}function defineNewNonEnumerableProperty(a,b,d){!0;defineNonEnumerableProperty(a,b,d)}function isNullOrUndefined(a){return void 0==a}function isPowerOfTwo(a){return a&&0===(a&a-1)}
function time(a,b){for(var d=performance.now(),e=0;e<b;e++)a();d=(performance.now()-d)/b;console.info("Took: "+d.toFixed(2)+"ms.");return d}function clamp(a,b,d){return a<b?b:a>d?d:a}function fromCharCodeArray(a){for(var b="",d=0;d<a.length;d+=16384)var e=Math.min(a.length-d,16384),b=b+String.fromCharCode.apply(null,a.subarray(d,d+e));return b}function hasOwnProperty(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
function toKeyValueArray(a){var b=Object.prototype.hasOwnProperty,d=[],e;for(e in a)b.call(a,e)&&d.push([e,a[e]]);return d}function isNumeric(a){if("number"===typeof a)return a===(a|0);if("string"!==typeof a||0===a.length)return!1;if("0"===a)return!0;var b=a.charCodeAt(0);if(49<=b&&57>=b){for(var d=1,e=a.length;d<e;d++)if(b=a.charCodeAt(d),!(48<=b&&57>=b))return!1;return!0}return!1}function boxValue(a){return isNullOrUndefined(a)?a:Object(a)}
function isObject(a){return"object"===typeof a||"function"===typeof a}function isString(a){return"string"===typeof a}function isFunction(a){return"function"===typeof a}function isNumber(a){return"number"===typeof a}function toNumber(a){return+a}function setBitFlags(a,b,d){return d?a|b:a&~b}function getBitFlags(a,b){return!!(a&b)}function popManyInto(a,b,d){!0;for(var e=b-1;0<=e;e--)d[e]=a.pop();d.length=b}
(function(){function a(a,b,f){a[b]||Object.defineProperty(a,b,{value:f,writable:!0,configurable:!0,enumerable:!1})}var b=String.prototype;a(b,"padRight",function(a,b){var f=this,g=f.replace(/\033\[[0-9]*m/g,"").length;if(!a||g>=b)return f;for(var g=(b-g)/a.length,m=0;m<g;m++)f+=a;return f});a(b,"padLeft",function(a,b){var f=this,g=f.length;if(!a||g>=b)return f;for(var g=(b-g)/a.length,m=0;m<g;m++)f=a+f;return f});a(b,"trim",function(){return this.replace(/^\s+|\s+$/g,"")});a(b,"endsWith",function(a){return-1!==
this.indexOf(a,this.length-a.length)});b=Array.prototype;a(b,"popMany",function(a){!0;var b=this.length-a,f=this.slice(b,this.length);this.splice(b,a);return f});a(b,"pushMany",function(a){for(var b=0;b<a.length;b++)this.push(a[b])});a(b,"clone",function(){return this.slice(0)});a(b,"first",function(){!0;return this[0]});a(b,"last",function(){!0;return this[this.length-1]});a(b,"peek",function(){!0;return this[this.length-1]});a(b,"empty",function(){return 0===this.length});a(b,"pushUnique",function(a){for(var b=
0,f=this.length;b<f;b++)if(this[b]===a)return;this.push(a)});a(b,"unique",function(){for(var a=[],b=0;b<this.length;b++)a.pushUnique(this[b]);return a});a(b,"replace",function(a,b){if(a===b)return 0;for(var f=0,g=0;g<this.length;g++)this[g]===a&&(this[g]=b,f++);return f});a(b,"count",function(a){for(var b=0,f=0;f<this.length;f++)this[f]===a&&b++;return b});a(b,"notEmpty",function(){return 0<this.length});a(b,"contains",function(a){return 0<=this.indexOf(a)});a(b,"top",function(){return this.length&&
this[this.length-1]});a(b,"mapWithIndex",function(a){for(var b=[],f=0;f<this.length;f++)b.push(a(this[f],f));return b})})();
function utf8decode(a){for(var b=new Uint8Array(4*a.length),d=0,e=0,f=a.length;e<f;e++){var g=a.charCodeAt(e);if(127>=g)b[d++]=g;else{if(55296<=g&&56319>=g){var m=a.charCodeAt(e+1);56320<=m&&57343>=m&&(g=((g&1023)<<10)+(m&1023)+65536,++e)}0!==(g&4292870144)?(b[d++]=248|g>>>24&3,b[d++]=128|g>>>18&63,b[d++]=128|g>>>12&63,b[d++]=128|g>>>6&63):0!==(g&4294901760)?(b[d++]=240|g>>>18&7,b[d++]=128|g>>>12&63,b[d++]=128|g>>>6&63):0!==(g&4294965248)?(b[d++]=224|g>>>12&15,b[d++]=128|g>>>6&63):b[d++]=192|g>>>
6&31;b[d++]=128|g&63}}return b.subarray(0,d)}
function utf8encode(a){for(var b=0,d="";b<a.length;){var e=a[b++]&255;if(127>=e)d+=String.fromCharCode(e);else{var f=192,g=5;do{if((e&(f>>1|128))===f)break;f=f>>1|128;--g}while(0<=g);if(0>=g)d+=String.fromCharCode(e);else{for(var e=e&(1<<g)-1,f=!1,m=5;m>=g;--m){var l=a[b++];if(128!=(l&192)){f=!0;break}e=e<<6|l&63}if(f)for(g=b-(7-m);g<b;++g)d+=String.fromCharCode(a[g]&255);else d=65536<=e?d+String.fromCharCode(e-65536>>10&1023|55296,e&1023|56320):d+String.fromCharCode(e)}}}return d}
function getFlags(a,b){for(var d="",e=0;e<b.length;e++)a&1<<e&&(d+=b[e]+" ");return 0===d.length?"":d.trim()}function bitCount(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}function escapeString(a){void 0!==a&&(a=a.replace(/[^\w$]/gi,"$"),/^\d/.test(a)&&(a="$"+a));return a}
function BitSetFunctor(a){function b(){this.dirty=this.count=0;this.size=e;this.bits=new Uint32Array(e>>5)}function d(){this.dirty=this.count=0;this.size=e;this.bits=0}var e=a+31>>5<<5,f=1===e>>5,g=f?d:b;g.ADDRESS_BITS_PER_WORD=5;g.BITS_PER_WORD=32;g.BIT_INDEX_MASK=31;g.singleword=f;b.prototype={recount:function(){if(this.dirty){for(var a=this.bits,b=0,d=0,e=a.length;d<e;d++)var f=a[d],f=f-(f>>1&1431655765),f=(f&858993459)+(f>>2&858993459),b=b+(16843009*(f+(f>>4)&252645135)>>24);this.count=b;this.dirty=
0}},set:function(a){var b=a>>5,d=this.bits[b];a=d|1<<(a&31);this.bits[b]=a;this.dirty|=d^a},setAll:function(){for(var a=this.bits,b=0,d=a.length;b<d;b++)a[b]=4294967295;this.count=this.size;this.dirty=0},assign:function(a){this.count=a.count;this.dirty=a.dirty;this.size=a.size;for(var b=0,d=this.bits.length;b<d;b++)this.bits[b]=a.bits[b]},clear:function(a){var b=a>>5,d=this.bits[b];a=d&~(1<<(a&31));this.bits[b]=a;this.dirty|=d^a},get:function(a){return 0!==(this.bits[a>>5]&1<<(a&31))},clearAll:function(){for(var a=
this.bits,b=0,d=a.length;b<d;b++)a[b]=0;this.dirty=this.count=0},_union:function(a){var b=this.dirty,d=this.bits;a=a.bits;for(var e=0,f=d.length;e<f;e++){var g=d[e],w=g|a[e];d[e]=w;b|=g^w}this.dirty=b},intersect:function(a){var b=this.dirty,d=this.bits;a=a.bits;for(var e=0,f=d.length;e<f;e++){var g=d[e],w=g&a[e];d[e]=w;b|=g^w}this.dirty=b},subtract:function(a){var b=this.dirty,d=this.bits;a=a.bits;for(var e=0,f=d.length;e<f;e++){var g=d[e],w=g&~a[e];d[e]=w;b|=g^w}this.dirty=b},negate:function(){for(var a=
this.dirty,b=this.bits,d=0,e=b.length;d<e;d++){var f=b[d],g=~f;b[d]=g;a|=f^g}this.dirty=a},forEach:function(a){!0;for(var b=this.bits,d=0,e=b.length;d<e;d++){var f=b[d];if(f)for(var g=0;32>g;g++)f&1<<g&&a(32*d+g)}},toArray:function(){for(var a=[],b=this.bits,d=0,e=b.length;d<e;d++){var f=b[d];if(f)for(var g=0;32>g;g++)f&1<<g&&a.push(32*d+g)}return a},equals:function(a){if(this.size!==a.size)return!1;var b=this.bits;a=a.bits;for(var d=0,e=b.length;d<e;d++)if(b[d]!==a[d])return!1;return!0},contains:function(a){if(this.size!==
a.size)return!1;var b=this.bits;a=a.bits;for(var d=0,e=b.length;d<e;d++)if((b[d]|a[d])!==b[d])return!1;return!0},toBitString:function(b,d){b=b||"1";d=d||"0";for(var e="",f=0;f<a;f++)e+=this.get(f)?b:d;return e},length:a,toString:function(b){for(var d=[],e=0;e<a;e++)this.get(e)&&d.push(b?b[e]:e);return d.join(", ")},isEmpty:function(){this.recount();return 0===this.count},clone:function(){var a=new b;a._union(this);return a}};d.prototype={recount:function(){if(this.dirty){var a=this.bits,a=a-(a>>1&
1431655765),a=(a&858993459)+(a>>2&858993459);this.count=0+(16843009*(a+(a>>4)&252645135)>>24);this.dirty=0}},set:function(a){var b=this.bits;this.bits=a=b|1<<(a&31);this.dirty|=b^a},setAll:function(){this.bits=4294967295;this.count=this.size;this.dirty=0},assign:function(a){this.count=a.count;this.dirty=a.dirty;this.size=a.size;this.bits=a.bits},clear:function(a){var b=this.bits;this.bits=a=b&~(1<<(a&31));this.dirty|=b^a},get:function(a){return 0!==(this.bits&1<<(a&31))},clearAll:function(){this.dirty=
this.count=this.bits=0},_union:function(a){var b=this.bits;this.bits=a=b|a.bits;this.dirty=b^a},intersect:function(a){var b=this.bits;this.bits=a=b&a.bits;this.dirty=b^a},subtract:function(a){var b=this.bits;this.bits=a=b&~a.bits;this.dirty=b^a},negate:function(){var a=this.bits,b=~a;this.bits=b;this.dirty=a^b},forEach:function(a){!0;var b=this.bits;if(b)for(var d=0;32>d;d++)b&1<<d&&a(d)},toArray:function(){var a=[],b=this.bits;if(b)for(var d=0;32>d;d++)b&1<<d&&a.push(d);return a},equals:function(a){return this.bits===
a.bits},contains:function(a){var b=this.bits;return(b|a.bits)===b},isEmpty:function(){this.recount();return 0===this.count},clone:function(){var a=new d;a._union(this);return a},toBitString:b.prototype.toBitString,toString:b.prototype.toString,length:a};return g}
function base64ArrayBuffer(a){var b="";a=new Uint8Array(a);for(var d=a.byteLength,e=d%3,d=d-e,f,g,m,l,p=0;p<d;p+=3)l=a[p]<<16|a[p+1]<<8|a[p+2],f=(l&16515072)>>18,g=(l&258048)>>12,m=(l&4032)>>6,l&=63,b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[f]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[m]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[l];1==e?(l=a[d],b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(l&
252)>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(l&3)<<4]+"=="):2==e&&(l=a[d]<<8|a[d+1],b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(l&64512)>>10]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(l&1008)>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(l&15)<<2]+"=");return b}
var PURPLE="\u001b[94m",YELLOW="\u001b[93m",GREEN="\u001b[92m",RED="\u001b[91m",ENDC="\u001b[0m",IndentingWriter=function(){function a(a,e){this.tab="  ";this.padding="";this.suppressOutput=a;this.out=e||b}var b=console.info.bind(console);a.prototype.writeLn=function(a){this.suppressOutput||this.out(this.padding+a)};a.prototype.writeLns=function(a){a=a.split("\n");for(var b=0;b<a.length;b++)this.writeLn(a[b])};a.prototype.debugLn=function(a){this.colorLn("\u001b[94m",a)};a.prototype.yellowLn=function(a){this.colorLn("\u001b[93m",
a)};a.prototype.greenLn=function(a){this.colorLn("\u001b[92m",a)};a.prototype.redLn=function(a){this.colorLn("\u001b[91m",a)};a.prototype.colorLn=function(a,b){this.suppressOutput||(inBrowser?this.out(this.padding+b):this.out(this.padding+a+b+"\u001b[0m"))};a.prototype.enter=function(a){this.suppressOutput||this.out(this.padding+a);this.indent()};a.prototype.leaveAndEnter=function(a){this.leave(a);this.indent()};a.prototype.leave=function(a){this.outdent();this.suppressOutput||this.out(this.padding+
a)};a.prototype.indent=function(){this.padding+=this.tab};a.prototype.outdent=function(){0<this.padding.length&&(this.padding=this.padding.substring(0,this.padding.length-this.tab.length))};a.prototype.writeArray=function(a,b,f){b=b||!1;for(var g=0,m=a.length;g<m;g++){var l="";b&&(l=null===a[g]?"null":void 0===a[g]?"undefined":a[g].constructor.name,l+=" ");var p=f?"":(""+g).padRight(" ",4);this.writeLn(p+l+a[g])}};return a}(),Map=function(){function a(){this.elements={}}a.prototype.set=function(a,
d){this.elements[a]=d};a.prototype.get=function(a){if(this.has(a))return this.elements[a]};a.prototype.has=function(a){return Object.prototype.hasOwnProperty.call(this.elements,a)};a.prototype.remove=function(a){this.has(a)&&delete this.elements[a]};return a}(),SortedList=function(){function a(a){!0;this.compare=a;this.head=null;this.length=0}a.RETURN=1;a.DELETE=2;a.prototype.push=function(a){!0;this.length++;if(this.head){var d=this.head,e=null;a={value:a,next:null};for(var f=this.compare;d;){if(0<
f(d.value,a.value)){e?(a.next=d,e.next=a):(a.next=this.head,this.head=a);return}e=d;d=d.next}e.next=a}else this.head={value:a,next:null}};a.prototype.forEach=function(b){for(var d=this.head,e=null;d;){var f=b(d.value);if(f===a.RETURN)break;else f===a.DELETE?d=e?e.next=d.next:this.head=this.head.next:(e=d,d=d.next)}};a.prototype.pop=function(){if(this.head){this.length--;var a=this.head;this.head=this.head.next;return a.value}};a.prototype.peek=function(){return this.head};a.prototype.contains=function(a){for(var d=
this.head;d;){if(d.value===a)return!0;d=d.next}return!1};a.prototype.toString=function(){for(var a="[",d=this.head;d;)a+=d.value.toString(),(d=d.next)&&(a+=",");return a+"]"};return a}();
(function(){function a(){this.id="$weakmap"+b++}if("function"!==typeof this.WeakMap){var b=0;a.prototype={has:function(a){return a.hasOwnProperty(this.id)},get:function(a,b){return a.hasOwnProperty(this.id)?a[this.id]:b},set:function(a,b){Object.defineProperty(a,this.id,{value:b,enumerable:!1,configurable:!0})}};this.WeakMap=a}})();
var Callback=function(){function a(){this.queues={}}a.prototype.register=function(a,d){var e=this.queues[a];if(e){if(-1<e.indexOf(d))return}else e=this.queues[a]=[];e.push(d)};a.prototype.unregister=function(a,d){var e=this.queues[a];if(e){var f=e.indexOf(d);-1!==f&&e.splice(f,1);0===e.length&&(this.queues[a]=null)}};a.prototype.notify=function(a,d){var e=this.queues[a];if(e){e=e.slice();d=sliceArguments(arguments,0);for(var f=0;f<e.length;f++)e[f].apply(null,d)}};a.prototype.notify1=function(a,d){var e=
this.queues[a];if(e)for(var e=e.slice(),f=0;f<e.length;f++)(0,e[f])(a,d)};return a}();function dumpBytes(a,b,d){var e="";bytes=new Uint8Array(a,b,d);for(a=0;a<d;a++)0===a%16&&(e+="\n"+(b+a)+": "),e+=bytes[a]+" ";return e}function addProfileMarker(a){"undefined"!==typeof FirefoxCom&&FirefoxCom.requestSync("addProfilerMarker",a)}
var CircularBuffer=function(){function a(a){this.start=this.index=0;this.array=new a(b)}var b=4096;a.prototype.get=function(a){return this.array[a]};a.prototype.forEachInReverse=function(a){if(!this.isEmpty())for(var e=0===this.index?b-1:this.index-1;e!==this.start&&!a(this.array[e],e);)e=0===e?b-1:e-1};a.prototype.write=function(a){this.array[this.index]=a;this.index=this.index+1&4095;this.index===this.start&&(this.start=this.start+1&4095)};a.prototype.isFull=function(){return this.index+1&4095===
this.start};a.prototype.isEmpty=function(){return this.index===this.start};return a}();
(function(a){performance||(performance={now:Date.now});var b,d=function(a,b){this.parent=a;this.timers={};this.name=b;this.count=this.total=this.last=this.begin=0},e=new d(null,"Total"),f=e,g=new d(null,"Flat"),m=[];d.flat=g;d.prototype.start=function(){this.begin=performance.now()};d.prototype.stop=function(){this.last=performance.now()-this.begin;this.total+=this.last;this.count+=1};d.time=function(a,b){d.start(a);b();d.stop()};d.start=function(a){f=f.timers[a]||(f.timers[a]=new d(f,a));f.start();
a=g.timers[a]||(g.timers[a]=new d(g,a));a.start();m.push(a)};d.stop=function(){f.stop();f=f.parent;m.pop().stop()};d.stopStart=function(a){b.stop();b.start(a)};d.prototype.toJSON=function(){return{name:this.name,total:this.total,timers:this.timers}};d.prototype.trace=function(a,b){if(b)a.writeLn("SHUMWAY$JSON "+JSON.stringify({timer:this}));else{a.enter(this.name+": "+this.total+" ms, count: "+this.count+", average: "+(this.total/this.count).toFixed(2)+" ms");for(var d in this.timers)this.timers[d].trace(a);
a.outdent()}};d.trace=function(a,b){e.trace(a,b);g.trace(a,b)};b=d;var l=function(a){this.enabled=!!a;this.counts=createEmptyObject()};l.prototype.setEnabled=function(a){this.enabled=a};l.prototype.clear=function(){this.counts={}};l.prototype.toJSON=function(){return{counts:this.counts}};l.prototype.count=function(a,b){if(this.enabled)return void 0===this.counts[a]&&(this.counts[a]=0),this.counts[a]+=void 0!==b?b:1,this.counts[a]};l.prototype.trace=function(a,b){if(b)a.writeLn("SHUMWAY$JSON "+JSON.stringify({counter:this}));
else for(var d in this.counts)a.writeLn(d+": "+this.counts[d])};l.prototype.traceSorted=function(a){var b=[],d;for(d in this.counts)b.push([d,this.counts[d]]);b.sort(function(a,b){return b[1]-a[1]});b.forEach(function(b){a.writeLn(b[0]+": "+b[1])})};var p=function(a){this.samples=new Float64Array(a);this.index=this.count=0};p.prototype.push=function(a){this.count<this.samples.length&&this.count++;this.index++;this.samples[this.index%this.samples.length]=a};p.prototype.average=function(){for(var a=
0,b=0;b<this.count;b++)a+=this.samples[b];return a/this.count};a.Timer=b;a.Counter=l;a.Average=p})("undefined"===typeof exports?metrics={}:exports);var Counter=new metrics.Counter(!0),FrameCounter=new metrics.Counter(!0),Timer=metrics.Timer,systemOptions=new OptionSet("System Options"),disassemble=systemOptions.register(new Option("d","disassemble","boolean",!1,"disassemble")),traceLevel=systemOptions.register(new Option("t","traceLevel","number",0,"trace level"));window.print=function(a){console.log(a)};
var CONSTANT_Undefined=0,CONSTANT_Utf8=1,CONSTANT_Float=2,CONSTANT_Int=3,CONSTANT_UInt=4,CONSTANT_PrivateNs=5,CONSTANT_Double=6,CONSTANT_QName=7,CONSTANT_Namespace=8,CONSTANT_Multiname=9,CONSTANT_False=10,CONSTANT_True=11,CONSTANT_Null=12,CONSTANT_QNameA=13,CONSTANT_MultinameA=14,CONSTANT_RTQName=15,CONSTANT_RTQNameA=16,CONSTANT_RTQNameL=17,CONSTANT_RTQNameLA=18,CONSTANT_NameL=19,CONSTANT_NameLA=20,CONSTANT_NamespaceSet=21,CONSTANT_PackageNamespace=22,CONSTANT_PackageInternalNs=23,CONSTANT_ProtectedNamespace=
24,CONSTANT_ExplicitNamespace=25,CONSTANT_StaticProtectedNs=26,CONSTANT_MultinameL=27,CONSTANT_MultinameLA=28,CONSTANT_TypeName=29,CONSTANT_ClassSealed=1,CONSTANT_ClassFinal=2,CONSTANT_ClassInterface=4,CONSTANT_ClassProtectedNs=8,TRAIT_Slot=0,TRAIT_Method=1,TRAIT_Getter=2,TRAIT_Setter=3,TRAIT_Class=4,TRAIT_Function=5,TRAIT_Const=6,ATTR_Final=1,ATTR_Override=2,ATTR_Metadata=4,SLOT_var=0,SLOT_method=1,SLOT_getter=2,SLOT_setter=3,SLOT_class=4,SLOT_function=6,METHOD_Arguments=1,METHOD_Activation=2,METHOD_Needrest=
4,METHOD_HasOptional=8,METHOD_IgnoreRest=16,METHOD_Native=32,METHOD_Setsdxns=64,METHOD_HasParamNames=128,OP_bkpt=1,OP_nop=2,OP_throw=3,OP_getsuper=4,OP_setsuper=5,OP_dxns=6,OP_dxnslate=7,OP_kill=8,OP_label=9,OP_lf32x4=10,OP_sf32x4=11,OP_ifnlt=12,OP_ifnle=13,OP_ifngt=14,OP_ifnge=15,OP_jump=16,OP_iftrue=17,OP_iffalse=18,OP_ifeq=19,OP_ifne=20,OP_iflt=21,OP_ifle=22,OP_ifgt=23,OP_ifge=24,OP_ifstricteq=25,OP_ifstrictne=26,OP_lookupswitch=27,OP_pushwith=28,OP_popscope=29,OP_nextname=30,OP_hasnext=31,OP_pushnull=
32,OP_pushundefined=33,OP_pushfloat=34,OP_nextvalue=35,OP_pushbyte=36,OP_pushshort=37,OP_pushtrue=38,OP_pushfalse=39,OP_pushnan=40,OP_pop=41,OP_dup=42,OP_swap=43,OP_pushstring=44,OP_pushint=45,OP_pushuint=46,OP_pushdouble=47,OP_pushscope=48,OP_pushnamespace=49,OP_hasnext2=50,OP_li8=53,OP_li16=54,OP_li32=55,OP_lf32=56,OP_lf64=57,OP_si8=58,OP_si16=59,OP_si32=60,OP_sf32=61,OP_sf64=62,OP_newfunction=64,OP_call=65,OP_construct=66,OP_callmethod=67,OP_callstatic=68,OP_callsuper=69,OP_callproperty=70,OP_returnvoid=
71,OP_returnvalue=72,OP_constructsuper=73,OP_constructprop=74,OP_callsuperid=75,OP_callproplex=76,OP_callinterface=77,OP_callsupervoid=78,OP_callpropvoid=79,OP_sxi1=80,OP_sxi8=81,OP_sxi16=82,OP_applytype=83,OP_pushfloat4=84,OP_newobject=85,OP_newarray=86,OP_newactivation=87,OP_newclass=88,OP_getdescendants=89,OP_newcatch=90,OP_findpropstrict=93,OP_findproperty=94,OP_finddef=95,OP_getlex=96,OP_setproperty=97,OP_getlocal=98,OP_setlocal=99,OP_getglobalscope=100,OP_getscopeobject=101,OP_getproperty=102,
OP_getouterscope=103,OP_initproperty=104,OP_setpropertylate=105,OP_deleteproperty=106,OP_deletepropertylate=107,OP_getslot=108,OP_setslot=109,OP_getglobalslot=110,OP_setglobalslot=111,OP_convert_s=112,OP_esc_xelem=113,OP_esc_xattr=114,OP_convert_i=115,OP_convert_u=116,OP_convert_d=117,OP_convert_b=118,OP_convert_o=119,OP_checkfilter=120,OP_convert_f=121,OP_unplus=122,OP_convert_f4=123,OP_coerce=128,OP_coerce_b=129,OP_coerce_a=130,OP_coerce_i=131,OP_coerce_d=132,OP_coerce_s=133,OP_astype=134,OP_astypelate=
135,OP_coerce_u=136,OP_coerce_o=137,OP_negate=144,OP_increment=145,OP_inclocal=146,OP_decrement=147,OP_declocal=148,OP_typeof=149,OP_not=150,OP_bitnot=151,OP_add=160,OP_subtract=161,OP_multiply=162,OP_divide=163,OP_modulo=164,OP_lshift=165,OP_rshift=166,OP_urshift=167,OP_bitand=168,OP_bitor=169,OP_bitxor=170,OP_equals=171,OP_strictequals=172,OP_lessthan=173,OP_lessequals=174,OP_greaterthan=175,OP_greaterequals=176,OP_instanceof=177,OP_istype=178,OP_istypelate=179,OP_in=180,OP_increment_i=192,OP_decrement_i=
193,OP_inclocal_i=194,OP_declocal_i=195,OP_negate_i=196,OP_add_i=197,OP_subtract_i=198,OP_multiply_i=199,OP_getlocal0=208,OP_getlocal1=209,OP_getlocal2=210,OP_getlocal3=211,OP_setlocal0=212,OP_setlocal1=213,OP_setlocal2=214,OP_setlocal3=215,OP_invalid=237,OP_debug=239,OP_debugline=240,OP_debugfile=241,OP_bkptline=242,OP_timestamp=243,INT_MIN_VALUE=-2147483648,INT_MAX_VALUE=2147483647,UINT_MIN_VALUE=0,UINT_MAX_VALUE=4294967295,SORT_CASEINSENSITIVE=1,SORT_DESCENDING=2,SORT_UNIQUESORT=4,SORT_RETURNINDEXEDARRAY=
8,SORT_NUMERIC=16,Errors={OutOfMemoryError:{code:1E3,message:"The system is out of memory."},NotImplementedError:{code:1001,message:"The method %1 is not implemented."},InvalidPrecisionError:{code:1002,message:"Number.toPrecision has a range of 1 to 21. Number.toFixed and Number.toExponential have a range of 0 to 20. Specified value is not within expected range."},InvalidRadixError:{code:1003,message:"The radix argument must be between 2 and 36; got %1."},InvokeOnIncompatibleObjectError:{code:1004,
message:"Method %1 was invoked on an incompatible object."},ArrayIndexNotIntegerError:{code:1005,message:"Array index is not a positive integer (%1)."},CallOfNonFunctionError:{code:1006,message:"%1 is not a function."},ConstructOfNonFunctionError:{code:1007,message:"Instantiation attempted on a non-constructor."},AmbiguousBindingError:{code:1008,message:"%1 is ambiguous; Found more than one matching binding."},ConvertNullToObjectError:{code:1009,message:"Cannot access a property or method of a null object reference."},
ConvertUndefinedToObjectError:{code:1010,message:"A term is undefined and has no properties."},IllegalOpcodeError:{code:1011,message:"Method %1 contained illegal opcode %2 at offset %3."},LastInstExceedsCodeSizeError:{code:1012,message:"The last instruction exceeded code size."},FindVarWithNoScopeError:{code:1013,message:"Cannot call OP_findproperty when scopeDepth is 0."},ClassNotFoundError:{code:1014,message:"Class %1 could not be found."},IllegalSetDxns:{code:1015,message:"Method %1 cannot set default xml namespace"},
DescendentsError:{code:1016,message:"Descendants operator (..) not supported on type %1."},ScopeStackOverflowError:{code:1017,message:"Scope stack overflow occurred."},ScopeStackUnderflowError:{code:1018,message:"Scope stack underflow occurred."},GetScopeObjectBoundsError:{code:1019,message:"Getscopeobject %1 is out of bounds."},CannotFallOffMethodError:{code:1020,message:"Code cannot fall off the end of a method."},InvalidBranchTargetError:{code:1021,message:"At least one branch target was not on a valid instruction in the method."},
IllegalVoidError:{code:1022,message:"Type void may only be used as a function return type."},StackOverflowError:{code:1023,message:"Stack overflow occurred."},StackUnderflowError:{code:1024,message:"Stack underflow occurred."},InvalidRegisterError:{code:1025,message:"An invalid register %1 was accessed."},SlotExceedsCountError:{code:1026,message:"Slot %1 exceeds slotCount=%2 of %3."},MethodInfoExceedsCountError:{code:1027,message:"Method_info %1 exceeds method_count=%2."},DispIdExceedsCountError:{code:1028,
message:"Disp_id %1 exceeds max_disp_id=%2 of %3."},DispIdUndefinedError:{code:1029,message:"Disp_id %1 is undefined on %2."},StackDepthUnbalancedError:{code:1030,message:"Stack depth is unbalanced. %1 != %2."},ScopeDepthUnbalancedError:{code:1031,message:"Scope depth is unbalanced. %1 != %2."},CpoolIndexRangeError:{code:1032,message:"Cpool index %1 is out of range %2."},CpoolEntryWrongTypeError:{code:1033,message:"Cpool entry %1 is wrong type."},CheckTypeFailedError:{code:1034,message:"Type Coercion failed: cannot convert %1 to %2."},
IllegalSuperCallError:{code:1035,message:"Illegal super expression found in method %1."},CannotAssignToMethodError:{code:1037,message:"Cannot assign to a method %1 on %2."},RedefinedError:{code:1038,message:"%1 is already defined."},CannotVerifyUntilReferencedError:{code:1039,message:"Cannot verify method until it is referenced."},CantUseInstanceofOnNonObjectError:{code:1040,message:"The right-hand side of instanceof must be a class or function."},IsTypeMustBeClassError:{code:1041,message:"The right-hand side of operator must be a class."},
InvalidMagicError:{code:1042,message:"Not an ABC file.  major_version=%1 minor_version=%2."},InvalidCodeLengthError:{code:1043,message:"Invalid code_length=%1."},InvalidMethodInfoFlagsError:{code:1044,message:"MethodInfo-%1 unsupported flags=%2."},UnsupportedTraitsKindError:{code:1045,message:"Unsupported traits kind=%1."},MethodInfoOrderError:{code:1046,message:"MethodInfo-%1 referenced before definition."},MissingEntryPointError:{code:1047,message:"No entry point was found."},PrototypeTypeError:{code:1049,
message:"Prototype objects must be vanilla Objects."},ConvertToPrimitiveError:{code:1050,message:"Cannot convert %1 to primitive."},IllegalEarlyBindingError:{code:1051,message:"Illegal early binding access to %1."},InvalidURIError:{code:1052,message:"Invalid URI passed to %1 function."},IllegalOverrideError:{code:1053,message:"Illegal override of %1 in %2."},IllegalExceptionHandlerError:{code:1054,message:"Illegal range or target offsets in exception handler."},WriteSealedError:{code:1056,message:"Cannot create property %1 on %2."},
IllegalSlotError:{code:1057,message:"%1 can only contain methods."},IllegalOperandTypeError:{code:1058,message:"Illegal operand type: %1 must be %2."},ClassInfoOrderError:{code:1059,message:"ClassInfo-%1 is referenced before definition."},ClassInfoExceedsCountError:{code:1060,message:"ClassInfo %1 exceeds class_count=%2."},NumberOutOfRangeError:{code:1061,message:"The value %1 cannot be converted to %2 without losing precision."},WrongArgumentCountError:{code:1063,message:"Argument count mismatch on %1. Expected %2, got %3."},
CannotCallMethodAsConstructor:{code:1064,message:"Cannot call method %1 as constructor."},UndefinedVarError:{code:1065,message:"Variable %1 is not defined."},FunctionConstructorError:{code:1066,message:"The form function('function body') is not supported."},IllegalNativeMethodBodyError:{code:1067,message:"Native method %1 has illegal method body."},CannotMergeTypesError:{code:1068,message:"%1 and %2 cannot be reconciled."},ReadSealedError:{code:1069,message:"Property %1 not found on %2 and there is no default value."},
CallNotFoundError:{code:1070,message:"Method %1 not found on %2"},AlreadyBoundError:{code:1071,message:"Function %1 has already been bound to %2."},ZeroDispIdError:{code:1072,message:"Disp_id 0 is illegal."},DuplicateDispIdError:{code:1073,message:"Non-override method %1 replaced because of duplicate disp_id %2."},ConstWriteError:{code:1074,message:"Illegal write to read-only property %1 on %2."},MathNotFunctionError:{code:1075,message:"Math is not a function."},MathNotConstructorError:{code:1076,
message:"Math is not a constructor."},WriteOnlyError:{code:1077,message:"Illegal read of write-only property %1 on %2."},IllegalOpMultinameError:{code:1078,message:"Illegal opcode/multiname combination: %1<%2>."},IllegalNativeMethodError:{code:1079,message:"Native methods are not allowed in loaded code."},IllegalNamespaceError:{code:1080,message:"Illegal value for namespace."},ReadSealedErrorNs:{code:1081,message:"Property %1 not found on %2 and there is no default value."},NoDefaultNamespaceError:{code:1082,
message:"No default namespace has been set."},XMLPrefixNotBound:{code:1083,message:'The prefix "%1" for element "%2" is not bound.'},XMLBadQName:{code:1084,message:"Element or attribute (\"%1\") does not match QName production: QName::=(NCName':')?NCName."},XMLUnterminatedElementTag:{code:1085,message:'The element type "%1" must be terminated by the matching end-tag "</%2>".'},XMLOnlyWorksWithOneItemLists:{code:1086,message:"The %1 method only works on lists containing one item."},XMLAssignmentToIndexedXMLNotAllowed:{code:1087,
message:"Assignment to indexed XML is not allowed."},XMLMarkupMustBeWellFormed:{code:1088,message:"The markup in the document following the root element must be well-formed."},XMLAssigmentOneItemLists:{code:1089,message:"Assignment to lists with more than one item is not supported."},XMLMalformedElement:{code:1090,message:"XML parser failure: element is malformed."},XMLUnterminatedCData:{code:1091,message:"XML parser failure: Unterminated CDATA section."},XMLUnterminatedXMLDecl:{code:1092,message:"XML parser failure: Unterminated XML declaration."},
XMLUnterminatedDocTypeDecl:{code:1093,message:"XML parser failure: Unterminated DOCTYPE declaration."},XMLUnterminatedComment:{code:1094,message:"XML parser failure: Unterminated comment."},XMLUnterminatedAttribute:{code:1095,message:"XML parser failure: Unterminated attribute."},XMLUnterminatedElement:{code:1096,message:"XML parser failure: Unterminated element."},XMLUnterminatedProcessingInstruction:{code:1097,message:"XML parser failure: Unterminated processing instruction."},XMLNamespaceWithPrefixAndNoURI:{code:1098,
message:"Illegal prefix %1 for no namespace."},RegExpFlagsArgumentError:{code:1100,message:"Cannot supply flags when constructing one RegExp from another."},NoScopeError:{code:1101,message:"Cannot verify method %1 with unknown scope."},IllegalDefaultValue:{code:1102,message:"Illegal default value for type %1."},CannotExtendFinalClass:{code:1103,message:"Class %1 cannot extend final base class."},XMLDuplicateAttribute:{code:1104,message:'Attribute "%1" was already specified for element "%2".'},CorruptABCError:{code:1107,
message:"The ABC data is corrupt, attempt to read out of bounds."},InvalidBaseClassError:{code:1108,message:"The OP_newclass opcode was used with the incorrect base class."},DanglingFunctionError:{code:1109,message:"Attempt to directly call unbound function %1 from method %2."},CannotExtendError:{code:1110,message:"%1 cannot extend %2."},CannotImplementError:{code:1111,message:"%1 cannot implement %2."},CoerceArgumentCountError:{code:1112,message:"Argument count mismatch on class coercion.  Expected 1, got %1."},
InvalidNewActivationError:{code:1113,message:"OP_newactivation used in method without NEED_ACTIVATION flag."},NoGlobalScopeError:{code:1114,message:"OP_getglobalslot or OP_setglobalslot used with no global scope."},NotConstructorError:{code:1115,message:"%1 is not a constructor."},ApplyError:{code:1116,message:"second argument to Function.prototype.apply must be an array."},XMLInvalidName:{code:1117,message:"Invalid XML name: %1."},XMLIllegalCyclicalLoop:{code:1118,message:"Illegal cyclical loop between nodes."},
DeleteTypeError:{code:1119,message:"Delete operator is not supported with operand of type %1."},DeleteSealedError:{code:1120,message:"Cannot delete property %1 on %2."},DuplicateMethodBodyError:{code:1121,message:"Method %1 has a duplicate method body."},IllegalInterfaceMethodBodyError:{code:1122,message:"Interface method %1 has illegal method body."},FilterError:{code:1123,message:"Filter operator not supported on type %1."},InvalidHasNextError:{code:1124,message:"OP_hasnext2 requires object and index to be distinct registers."},
OutOfRangeError:{code:1125,message:"The index %1 is out of range %2."},VectorFixedError:{code:1126,message:"Cannot change the length of a fixed Vector."},TypeAppOfNonParamType:{code:1127,message:"Type application attempted on a non-parameterized type."},WrongTypeArgCountError:{code:1128,message:"Incorrect number of type parameters for %1. Expected %2, got %3."},JSONCyclicStructure:{code:1129,message:"Cyclic structure cannot be converted to JSON string."},JSONInvalidReplacer:{code:1131,message:"Replacer argument to JSON stringifier must be an array or a two parameter function."},
JSONInvalidParseInput:{code:1132,message:"Invalid JSON parse input."},FileOpenError:{code:1500,message:"Error occurred opening file %1."},FileWriteError:{code:1501,message:"Error occurred writing to file %1."},ScriptTimeoutError:{code:1502,message:"A script has executed for longer than the default timeout period of 15 seconds."},ScriptTerminatedError:{code:1503,message:"A script failed to exit after 30 seconds and was terminated."},EndOfFileError:{code:1504,message:"End of file."},StringIndexOutOfBoundsError:{code:1505,
message:"The string index %1 is out of bounds; must be in range %2 to %3."},InvalidRangeError:{code:1506,message:"The specified range is invalid."},NullArgumentError:{code:1507,message:"Argument %1 cannot be null."},InvalidArgumentError:{code:1508,message:"The value specified for argument %1 is invalid."},ArrayFilterNonNullObjectError:{code:1510,message:"When the callback argument is a method of a class, the optional this argument must be null."},InvalidParamError:{code:2004,message:"One of the parameters is invalid."},
ParamRangeError:{code:2006,message:"The supplied index is out of bounds."},NullPointerError:{code:2007,message:"Parameter %1 must be non-null."},InvalidEnumError:{code:2008,message:"Parameter %1 must be one of the accepted values."},CantInstantiateError:{code:2012,message:"%1 class cannot be instantiated."},ArgumentError:{code:2015,message:"Invalid BitmapData."},EOFError:{code:2030,message:"End of file was encountered."},CompressedDataError:{code:2058,message:"There was an error decompressing the data."},
EmptyStringError:{code:2085,message:"Parameter %1 must be non-empty string."},ProxyGetPropertyError:{code:2088,message:"The Proxy class does not implement getProperty. It must be overridden by a subclass."},ProxySetPropertyError:{code:2089,message:"The Proxy class does not implement setProperty. It must be overridden by a subclass."},ProxyCallPropertyError:{code:2090,message:"The Proxy class does not implement callProperty. It must be overridden by a subclass."},ProxyHasPropertyError:{code:2091,message:"The Proxy class does not implement hasProperty. It must be overridden by a subclass."},
ProxyDeletePropertyError:{code:2092,message:"The Proxy class does not implement deleteProperty. It must be overridden by a subclass."},ProxyGetDescendantsError:{code:2093,message:"The Proxy class does not implement getDescendants. It must be overridden by a subclass."},ProxyNextNameIndexError:{code:2105,message:"The Proxy class does not implement nextNameIndex. It must be overridden by a subclass."},ProxyNextNameError:{code:2106,message:"The Proxy class does not implement nextName. It must be overridden by a subclass."},
ProxyNextValueError:{code:2107,message:"The Proxy class does not implement nextValue. It must be overridden by a subclass."},InvalidArrayLengthError:{code:2108,message:"The value %1 is not a valid Array length."},ReadExternalNotImplementedError:{code:2173,message:"Unable to read object in stream.  The class %1 does not implement flash.utils.IExternalizable but is aliased to an externalizable class."},NoSecurityContextError:{code:2E3,message:"No active security context."},TooFewArgumentsError:{code:2001,
message:"Too few arguments were specified; got %1, %2 expected."},InvalidSocketError:{code:2002,message:"Operation attempted on invalid socket."},InvalidSocketPortError:{code:2003,message:"Invalid socket port number specified."},ParamTypeError:{code:2005,message:"Parameter %1 is of the incorrect type. Should be type %2."},HasStyleSheetError:{code:2009,message:"This method cannot be used on a text field with a style sheet."},SocketLocalFileSecurityError:{code:2010,message:"Local-with-filesystem SWF files are not permitted to use sockets."},
SocketConnectError:{code:2011,message:"Socket connection failed to %1:%2."},AuthoringOnlyFeatureError:{code:2013,message:"Feature can only be used in Flash Authoring."},FeatureNotAvailableError:{code:2014,message:"Feature is not available at this time."},InvalidBitmapDataError:{code:2015,message:"Invalid BitmapData."},SystemExitSecurityError:{code:2017,message:"Only trusted local files may cause the Flash Player to exit."},SystemExitUnsupportedError:{code:2018,message:"System.exit is only available in the standalone Flash Player."},
InvalidDepthError:{code:2019,message:"Depth specified is invalid."},MovieClipSwapError:{code:2020,message:"MovieClips objects with different parents cannot be swapped."},ObjectCreationError:{code:2021,message:"Object creation failed."},NotDisplayObjectError:{code:2022,message:"Class %1 must inherit from DisplayObject to link to a symbol."},NotSpriteError:{code:2023,message:"Class %1 must inherit from Sprite to link to the root."},CantAddSelfError:{code:2024,message:"An object cannot be added as a child of itself."},
NotAChildError:{code:2025,message:"The supplied DisplayObject must be a child of the caller."},NavigateURLError:{code:2026,message:"An error occurred navigating to the URL %1."},MustBeNonNegativeError:{code:2027,message:"Parameter %1 must be a non-negative number; got %2."},LocalSecurityError:{code:2028,message:"Local-with-filesystem SWF file %1 cannot access Internet URL %2."},InvalidStreamError:{code:2029,message:"This URLStream object does not have a stream opened."},SocketError:{code:2031,message:"Socket Error."},
StreamError:{code:2032,message:"Stream Error."},KeyGenerationError:{code:2033,message:"Key Generation Failed."},InvalidKeyError:{code:2034,message:"An invalid digest was supplied."},URLNotFoundError:{code:2035,message:"URL Not Found."},LoadNeverCompletedError:{code:2036,message:"Load Never Completed."},InvalidCallError:{code:2037,message:"Functions called in incorrect sequence, or earlier call was unsuccessful."},FileIOError:{code:2038,message:"File I/O Error."},RemoteURLError:{code:2039,message:"Invalid remote URL protocol. The remote URL protocol must be HTTP or HTTPS."},
BrowseInProgressError:{code:2041,message:"Only one file browsing session may be performed at a time."},DigestNotSupportedError:{code:2042,message:"The digest property is not supported by this load operation."},UnhandledError:{code:2044,message:"Unhandled %1:."},FileVerificationError:{code:2046,message:"The loaded file did not have a valid signature."},DisplayListSecurityError:{code:2047,message:"Security sandbox violation: %1: %2 cannot access %3."},DownloadSecurityError:{code:2048,message:"Security sandbox violation: %1 cannot load data from %2."},
UploadSecurityError:{code:2049,message:"Security sandbox violation: %1 cannot upload data to %2."},OutboundScriptingSecurityError:{code:2051,message:"Security sandbox violation: %1 cannot evaluate scripting URLs within %2 (allowScriptAccess is %3). Attempted URL was %4."},AllowDomainArgumentError:{code:2052,message:"Only String arguments are permitted for allowDomain and allowInsecureDomain."},IntervalSecurityError:{code:2053,message:"Security sandbox violation: %1 cannot clear an interval timer set by %2."},
ExactSettingsError:{code:2054,message:"The value of Security.exactSettings cannot be changed after it has been used."},PrintJobStartError:{code:2055,message:"The print job could not be started."},PrintJobSendError:{code:2056,message:"The print job could not be sent to the printer."},PrintJobAddPageError:{code:2057,message:"The page could not be added to the print job."},ExternalCallbackSecurityError:{code:2059,message:"Security sandbox violation: %1 cannot overwrite an ExternalInterface callback added by %2."},
ExternalInterfaceSecurityError:{code:2060,message:"Security sandbox violation: ExternalInterface caller %1 cannot access %2."},ExternalInterfaceNoCallbackError:{code:2061,message:"No ExternalInterface callback %1 registered."},NoCloneMethodError:{code:2062,message:"Children of Event must override clone() {return new MyEventClass (...);}."},IMEError:{code:2063,message:"Error attempting to execute IME command."},FocusNotSetError:{code:2065,message:"The focus cannot be set for this target."},DelayRangeError:{code:2066,
message:"The Timer delay specified is out of range."},ExternalInterfaceNotAvailableError:{code:2067,message:"The ExternalInterface is not available in this container. ExternalInterface requires Internet Explorer ActiveX, Firefox, Mozilla 1.7.5 and greater, or other browsers that support NPRuntime."},InvalidSoundError:{code:2068,message:"Invalid sound."},InvalidLoaderMethodError:{code:2069,message:"The Loader class does not implement this method."},StageOwnerSecurityError:{code:2070,message:"Security sandbox violation: caller %1 cannot access Stage owned by %2."},
InvalidStageMethodError:{code:2071,message:"The Stage class does not implement this property or method."},ProductManagerDiskError:{code:2073,message:"There was a problem saving the application to disk."},ProductManagerStageError:{code:2074,message:"The stage is too small to fit the download ui."},ProductManagerVerifyError:{code:2075,message:"The downloaded file is invalid."},FilterFailedError:{code:2077,message:"This filter operation cannot be performed with the specified input parameters."},TimelineObjectNameSealedError:{code:2078,
message:"The name property of a Timeline-placed object cannot be modified."},BitmapNotAssociatedWithBitsCharError:{code:2079,message:"Classes derived from Bitmap can only be associated with defineBits characters (bitmaps)."},AlreadyConnectedError:{code:2082,message:"Connect failed because the object is already connected."},CloseNotConnectedError:{code:2083,message:"Close failed because the object is not connected."},ArgumentSizeError:{code:2084,message:"The AMF encoding of the arguments cannot exceed 40K."},
FileReferenceProhibitedError:{code:2086,message:"A setting in the mms.cfg file prohibits this FileReference request."},DownloadFileNameProhibitedError:{code:2087,message:"The FileReference.download() file name contains prohibited characters."},EventDispatchRecursionError:{code:2094,message:"Event dispatch recursion overflow."},AsyncError:{code:2095,message:"%1 was unable to invoke callback %2."},DisallowedHTTPHeaderError:{code:2096,message:"The HTTP request header %1 cannot be set via ActionScript."},
FileFilterError:{code:2097,message:"The FileFilter Array is not in the correct format."},LoadingObjectNotSWFError:{code:2098,message:"The loading object is not a .swf file, you cannot request SWF properties from it."},LoadingObjectNotInitializedError:{code:2099,message:"The loading object is not sufficiently loaded to provide this information."},EmptyByteArrayError:{code:2100,message:"The ByteArray parameter in Loader.loadBytes() must have length greater than 0."},DecodeParamError:{code:2101,message:"The String passed to URLVariables.decode() must be a URL-encoded query string containing name/value pairs."},
NotAnXMLChildError:{code:2102,message:"The before XMLNode parameter must be a child of the caller."},XMLRecursionError:{code:2103,message:"XML recursion failure: new child would create infinite loop."},SceneNotFoundError:{code:2108,message:"Scene %1 was not found."},FrameLabelNotFoundError:{code:2109,message:"Frame label %1 not found in scene %2."},DisableAVM1LoadingError:{code:2110,message:"The value of Security.disableAVM1Loading cannot be set unless the caller can access the stage and is in an ActionScript 3.0 SWF file."},
AVM1LoadingError:{code:2111,message:"Security.disableAVM1Loading is true so the current load of the ActionScript 1.0/2.0 SWF file has been blocked."},ApplicationDomainSecurityError:{code:2112,message:"Provided parameter LoaderContext.ApplicationDomain is from a disallowed domain."},SecurityDomainSecurityError:{code:2113,message:"Provided parameter LoaderContext.SecurityDomain is from a disallowed domain."},NonNullPointerError:{code:2114,message:"Parameter %1 must be null."},TrueParamError:{code:2115,
message:"Parameter %1 must be false."},FalseParamError:{code:2116,message:"Parameter %1 must be true."},InvalidLoaderInfoMethodError:{code:2118,message:"The LoaderInfo class does not implement this method."},LoaderInfoAppDomainSecurityError:{code:2119,message:"Security sandbox violation: caller %1 cannot access LoaderInfo.applicationDomain owned by %2."},SecuritySwfNotAllowedError:{code:2121,message:"Security sandbox violation: %1: %2 cannot access %3. This may be worked around by calling Security.allowDomain."},
SecurityNonSwfIncompletePolicyFilesError:{code:2122,message:"Security sandbox violation: %1: %2 cannot access %3. A policy file is required, but the checkPolicyFile flag was not set when this media was loaded."},SecurityNonSwfNotAllowedError:{code:2123,message:"Security sandbox violation: %1: %2 cannot access %3. No policy files granted access."},UnknownFileTypeError:{code:2124,message:"Loaded file is an unknown type."},SecurityCrossVMNotAllowedError:{code:2125,message:"Security sandbox violation: %1 cannot use Runtime Shared Library %2 because crossing the boundary between ActionScript 3.0 and ActionScript 1.0/2.0 objects is not allowed."},
NotConnectedError:{code:2126,message:"NetConnection object must be connected."},FileRefBadPostDataTypeError:{code:2127,message:"FileReference POST data cannot be type ByteArray."},NetConnectionConnectError:{code:2129,message:"Connection to %1 failed."},SharedObjectFlushFailedError:{code:2130,message:"Unable to flush SharedObject."},DefinitionNotFoundError:{code:2131,message:"Definition %1 cannot be found."},NetConnectionInvalidConnectFromNetStatusEventError:{code:2132,message:"NetConnection.connect cannot be called from a netStatus event handler."},
CallbackNotRegisteredError:{code:2133,message:"Callback %1 is not registered."},SharedObjectCreateError:{code:2134,message:"Cannot create SharedObject."},InvalidSWFError:{code:2136,message:"The SWF file %1 contains invalid data."},NavigationSecurityError:{code:2137,message:"Security sandbox violation: %1 cannot navigate window %2 within %3 (allowScriptAccess is %4). Attempted URL was %5."},NonParsableRichTextXMLError:{code:2138,message:"Rich text XML could not be parsed."},SharedObjectConnectError:{code:2139,
message:"SharedObject could not connect."},LocalSecurityLoadingError:{code:2140,message:"Security sandbox violation: %1 cannot load %2. Local-with-filesystem and local-with-networking SWF files cannot load each other."},MultiplePrintJobsError:{code:2141,message:"Only one PrintJob may be in use at a time."},LocalImportSecurityError:{code:2142,message:"Security sandbox violation: local SWF files cannot use the LoaderContext.securityDomain property. %1 was attempting to load %2."},AccOverrideRole:{code:2143,
message:"AccessibilityImplementation.get_accRole() must be overridden from its default."},AccOverrideState:{code:2144,message:"AccessibilityImplementation.get_accState() must be overridden from its default."},URLRequestHeaderInvalidLengthError:{code:2145,message:"Cumulative length of requestHeaders must be less than 8192 characters."},AllowNetworkingSecurityError:{code:2146,message:"Security sandbox violation: %1 cannot call %2 because the HTML/container parameter allowNetworking has the value %3."},
ForbiddenProtocolError:{code:2147,message:"Forbidden protocol in URL %1."},RemoteToLocalSecurityError:{code:2148,message:"SWF file %1 cannot access local resource %2. Only local-with-filesystem and trusted local SWF files may access local resources."},FsCommandSecurityError:{code:2149,message:"Security sandbox violation: %1 cannot make fscommand calls to %2 (allowScriptAccess is %3)."},CantAddParentError:{code:2150,message:"An object cannot be added as a child to one of it's children (or children's children, etc.)."},
FullScreenSecurityError:{code:2151,message:"You cannot enter full screen mode when the settings dialog is visible."},FullScreenNotAllowedError:{code:2152,message:"Full screen mode is not allowed."},URLRequestInvalidHeader:{code:2153,message:"The URLRequest.requestHeaders array must contain only non-NULL URLRequestHeader objects."},InvalidNetStreamObject:{code:2154,message:"The NetStream Object is invalid.  This may be due to a failed NetConnection."},InvalidFunctionName:{code:2155,message:"The ExternalInterface.call functionName parameter is invalid.  Only alphanumeric characters are supported."},
ForbiddenPortForProtocolError:{code:2156,message:"Port %1 may not be accessed using protocol %2. Calling SWF was %3."},NoAsfunctionErrror:{code:2157,message:"Rejecting URL %1 because the 'asfunction:' protocol may only be used for link targets, not for networking APIs."},InvalidNetConnectionObject:{code:2158,message:"The NetConnection Object is invalid.  This may be due to a dropped NetConnection."},InvalidSharedObject:{code:2159,message:"The SharedObject Object is invalid."},InvalidTextLineError:{code:2160,
message:"The TextLine is INVALID and cannot be used to access the current state of the TextBlock."},TextLayoutError:{code:2161,message:"An internal error occured while laying out the text."},FragmentOutputType:{code:2162,message:"The Shader output type is not compatible for this operation."},FragmentInputType:{code:2163,message:"The Shader input type %1 is not compatible for this operation."},FragmentInputMissing:{code:2164,message:"The Shader input %1 is missing or an unsupported type."},FragmentInputTooSmall:{code:2165,
message:"The Shader input %1 does not have enough data."},FragmentInputNoDimension:{code:2166,message:"The Shader input %1 lacks valid dimensions."},FragmentNotEnoughInput:{code:2167,message:"The Shader does not have the required number of inputs for this operation."},StaticTextLineError:{code:2168,message:"Static text lines have no atoms and no reference to a text block."},SecurityQuestionableBrowserScriptingError:{code:2169,message:"The method %1 may not be used for browser scripting.  The URL %2 requested by %3 is being ignored.  If you intend to call browser script, use navigateToURL instead."},
HeaderSecurityError:{code:2170,message:"Security sandbox violation: %1 cannot send HTTP headers to %2."},FragmentMissing:{code:2171,message:"The Shader object contains no byte code to execute."},FragmentAlreadyRunning:{code:2172,message:"The ShaderJob is already running or finished."},FileReferenceBusyError:{code:2174,message:"Only one download, upload, load or save operation can be active at a time on each FileReference."},UnformattedElementError:{code:2175,message:"One or more elements of the content of the TextBlock has a null ElementFormat."},
UserActionRequiredError:{code:2176,message:"Certain actions, such as those that display a pop-up window, may only be invoked upon user interaction, for example by a mouse click or button press."},FragmentInputTooLarge:{code:2177,message:"The Shader input %1 is too large."},ClipboardConstNotAllowed:{code:2178,message:"The Clipboard.generalClipboard object must be used instead of creating a new Clipboard."},ClipboardDisallowedRead:{code:2179,message:"The Clipboard.generalClipboard object may only be read while processing a flash.events.Event.PASTE event."},
CantMoveAVM1ContentLoadedIntoAVM2:{code:2180,message:"It is illegal to move AVM1 content (AS1 or AS2) to a different part of the displayList when it has been loaded into AVM2 (AS3) content."},InvalidTextLineMethodError:{code:2181,message:"The TextLine class does not implement this property or method."},PerspectiveFieldOfViewValueInvalid:{code:2182,message:"Invalid fieldOfView value.  The value must be greater than 0 and less than 180."},Invalid3DScale:{code:2183,message:"Scale values must not be zero."},
LockedElementFormatError:{code:2184,message:"The ElementFormat object is locked and cannot be modified."},LockedFontDescriptionError:{code:2185,message:"The FontDescription object is locked and cannot be modified."},PerspectiveFocalLengthInvalid:{code:2186,message:"Invalid focalLength %1."},Matrix3DDecomposeTypeInvalid:{code:2187,message:"Invalid orientation style %1.  Value must be one of 'Orientation3D.EULER_ANGLES', 'Orientation3D.AXIS_ANGLE', or 'Orientation3D.QUATERNION'."},MatrixNonInvertibleError:{code:2188,
message:"Invalid raw matrix. Matrix must be invertible."},Matrix3DRefCannontBeShared:{code:2189,message:"A Matrix3D can not be assigned to more than one DisplayObject."},ForceDownloadSecurityError:{code:2190,message:"The attempted load of %1 failed as it had a Content-Disposition of attachment set."},ClipboardDisallowedWrite:{code:2191,message:"The Clipboard.generalClipboard object may only be written to as the result of user interaction, for example by a mouse click or button press."},MalformedUnicodeError:{code:2192,
message:"An unpaired Unicode surrogate was encountered in the input."},SecurityContentAccessDeniedError:{code:2193,message:"Security sandbox violation: %1: %2 cannot access %3."},LoaderParamError:{code:2194,message:"Parameter %1 cannot be a Loader."},LoaderAsyncError:{code:2195,message:"Error thrown as Loader called %1."},ObjectWithStringsParamError:{code:2196,message:"Parameter %1 must be an Object with only String values."},SystemUpdaterPlayerNotSupportedError:{code:2200,message:"The SystemUpdater class is not supported by this player."},
SystemUpdaterOSNotSupportedError:{code:2201,message:"The requested update type is not supported on this operating system."},SystemUpdaterBusy:{code:2202,message:"Only one SystemUpdater action is allowed at a time."},SystemUpdaterFailed:{code:2203,message:"The requested SystemUpdater action cannot be completed."},SystemUpdaterCannotCancel:{code:2204,message:"This operation cannot be canceled because it is waiting for user interaction."},SystemUpdaterUnknownTarget:{code:2205,message:"Invalid update type %1."},
SignedSWfLoadingError:{code:2500,message:"An error occurred decrypting the signed swf file. The swf will not be loaded."},NotScreenSharingError:{code:2501,message:"This property can only be accessed during screen sharing."},NotSharingMonitorError:{code:2502,message:"This property can only be accessed if sharing the entire screen."},FileBadPathName:{code:3E3,message:"Illegal path name."},FileAccessDenied:{code:3001,message:"File or directory access denied."},FileExists:{code:3002,message:"File or directory exists."},
FileDoesNotExist:{code:3003,message:"File or directory does not exist."},FileInsufficientSpace:{code:3004,message:"Insufficient file space."},FileSystemResources:{code:3005,message:"Insufficient system resources."},FileNotAFile:{code:3006,message:"Not a file."},FileNotADir:{code:3007,message:"Not a directory."},FileReadOnlyFileSys:{code:3008,message:"Read-only or write-protected media."},FileNotSameDevice:{code:3009,message:"Cannot move file or directory to a different device."},DirNotEmpty:{code:3010,
message:"Directory is not empty."},FileDestinationExists:{code:3011,message:"Move or copy destination already exists."},FileCantDelete:{code:3012,message:"Cannot delete file or directory."},FileInUse:{code:3013,message:"File or directory is in use."},FileCopyMoveAncestor:{code:3014,message:"Cannot copy or move a file or directory to overwrite a containing directory."},LoadBytesCodeExecutionSecurityError:{code:3015,message:"Loader.loadBytes() is not permitted to load content with executable code."},
FileApplicationNotFound:{code:3016,message:"No application was found that can open this file."},SQLConnectionCannotClose:{code:3100,message:"A SQLConnection cannot be closed while statements are still executing."},SQLConnectionAlreadyOpen:{code:3101,message:"Database connection is already open."},SQLConnectionInvalidName:{code:3102,message:"Name argument specified was invalid. It must not be null or empty."},SQLConnectionInTransaction:{code:3103,message:"Operation cannot be performed while there is an open transaction on this connection."},
SQLConnectionNotOpen:{code:3104,message:"A SQLConnection must be open to perform this operation."},SQLConnectionNoOpenTransaction:{code:3105,message:"Operation is only allowed if a connection has an open transaction."},SQLStatementIsExecutingProperty:{code:3106,message:"Property cannot be changed while SQLStatement.executing is true."},SQLStatementIvalidCall:{code:3107,message:"%1 may not be called unless SQLResult.complete is false."},SQLStatementInvalidText:{code:3108,message:"Operation is not permitted when the SQLStatement.text property is not set."},
SQLStatementInvalidConnection:{code:3109,message:"Operation is not permitted when the SQLStatement.sqlConnection property is not set."},SQLStatementIsExecutingCall:{code:3110,message:"Operation cannot be performed while SQLStatement.executing is true."},SQLStatementInvalidSchemaType:{code:3111,message:"An invalid schema type was specified."},SQLConnectionInvalidLockType:{code:3112,message:"An invalid transaction lock type was specified."},SQLConnectionNotFileReference:{code:3113,message:"Reference specified is not of type File."},
SQLConnectionInvalidModeSpecified:{code:3114,message:"An invalid open mode was specified."},SQLGeneralEngineError:{code:3115,message:"SQL Error."},SQLInternalEngineError:{code:3116,message:"An internal logic error occurred."},SQLPermissionError:{code:3117,message:"Access permission denied."},SQLOperationAbortedError:{code:3118,message:"Operation aborted."},SQLDatabaseLockedError:{code:3119,message:"Database file is currently locked."},SQLTableLockedError:{code:3120,message:"Table is locked."},SQLOutOfMemoryError:{code:3121,
message:"Out of memory."},SQLDatabaseIsReadonlyError:{code:3122,message:"Attempt to write a readonly database."},SQLDatabaseCorruptError:{code:3123,message:"Database disk image is malformed."},SQLDatabaseFullError:{code:3124,message:"Insertion failed because database is full."},SQLCannotOpenDatabaseError:{code:3125,message:"Unable to open the database file."},SQLLockingProtocolError:{code:3126,message:"Database lock protocol error."},SQLDatabaseEmptyError:{code:3127,message:"Database is empty."},
SQLDiskIOError:{code:3128,message:"Disk I/O error occurred."},SQLSchemaChangedError:{code:3129,message:"The database schema changed."},SQLTooMuchDataError:{code:3130,message:"Too much data for one row of a table."},SQLConstraintError:{code:3131,message:"Abort due to constraint violation."},SQLDataTypeMismatchError:{code:3132,message:"Data type mismatch."},SQLConcurrencyError:{code:3133,message:"An internal error occurred."},SQLNotSupportedOnOSError:{code:3134,message:"Feature not supported on this operating system."},
SQLAuthorizationDeniedError:{code:3135,message:"Authorization denied."},SQLAuxDatabaseFormatError:{code:3136,message:"Auxiliary database format error."},SQLBindingRangeError:{code:3137,message:"An index specified for a parameter was out of range."},SQLInvalidDatabaseFileError:{code:3138,message:"File opened is not a database file."},SQLInvalidPageSizeError:{code:3139,message:"The page size specified was not valid for this operation."},SQLInvalidKeySizeError:{code:3140,message:"The encryption key size specified was not valid for this operation. Keys must be exactly 16 bytes in length"},
SQLInvalidConfigurationError:{code:3141,message:"The requested database configuration is not supported."},SQLCannotRekeyNonKeyedDatabase:{code:3143,message:"Unencrypted databases may not be reencrypted."},NativeWindowClosedError:{code:3200,message:"Cannot perform operation on closed window."},PDFNoReaderInstalled:{code:3201,message:"Adobe Reader cannot be found."},PDFOldReaderInstalled:{code:3202,message:"Adobe Reader 8.1 or later cannot be found."},PDFOldDefaultText:{code:3203,message:"Default Adobe Reader must be version 8.1 or later."},
PDFCannotLoadReader:{code:3204,message:"An error ocurred trying to load Adobe Reader."},ApplicationFeatureSecurityError:{code:3205,message:"Only application-sandbox content can access this feature."},LoaderInfoDoorSecurityError:{code:3206,message:"Caller %1 cannot set LoaderInfo property %2."},ApplicationNonFeatureSecurityError:{code:3207,message:"Application-sandbox content cannot access this feature."},InvalidClipboardAccess:{code:3208,message:"Attempt to access invalid clipboard."},DeadClipboardAccess:{code:3209,
message:"Attempt to access dead clipboard."},DeadJavaScriptObjectAccess:{code:3210,message:"The application attempted to reference a JavaScript object in a HTML page that is no longer loaded."},FilePromiseIOError:{code:3211,message:"Drag and Drop File Promise error: %1"},NativeProcessNotRunning:{code:3212,message:"Cannot perform operation on a NativeProcess that is not running."},NativeProcessAlreadyRunning:{code:3213,message:"Cannot perform operation on a NativeProcess that is already running."},
NativeProcessBadExecutable:{code:3214,message:"NativeProcessStartupInfo.executable does not specify a valid executable file."},NativeProcessBadWorkingDirectory:{code:3215,message:"NativeProcessStartupInfo.workingDirectory does not specify a valid directory."},NativeProcessStdOutReadError:{code:3216,message:"Error while reading data from NativeProcess.standardOutput."},NativeProcessStdErrReadError:{code:3217,message:"Error while reading data from NativeProcess.standardError."},NativeProcessStdInWriteError:{code:3218,
message:"Error while writing data to NativeProcess.standardInput."},NativeProcessNotStarted:{code:3219,message:"The NativeProcess could not be started. '%1'"},ActionNotAllowedSecurityError:{code:3220,message:"Action '%1' not allowed in current security context '%2'."},SWFNoPlayerInstalled:{code:3221,message:"Adobe Flash Player cannot be found."},SWFOldPlayerInstalled:{code:3222,message:"The installed version of Adobe Flash Player is too old."},DNSResolverLookupError:{code:3223,message:"DNS lookup error: platform error %1"},
SocketMessageTooLongError:{code:3224,message:"Socket message too long"},SocketCannotSendDataToAddressAfterConnect:{code:3225,message:"Cannot send data to a location when connected."},AllowCodeImportError:{code:3226,message:"Cannot import a SWF file when LoaderContext.allowCodeImport is false."},BackgroundLaunchError:{code:3227,message:"Cannot launch another application from background."},StageWebViewLoadError:{code:3228,message:"StageWebView encountered an error during the load operation."},StageWebViewProtocolNotSupported:{code:3229,
message:"The protocol is not supported.:"},BrowseOperationUnsupported:{code:3230,message:"The browse operation is unsupported."},InvalidVoucher:{code:3300,message:"Voucher is invalid."},AuthenticationFailed:{code:3301,message:"User authentication failed."},RequireSSLError:{code:3302,message:"Flash Access server does not support SSL."},ContentExpiredError:{code:3303,message:"Content expired."},AuthorizationFailed:{code:3304,message:"User authorization failed (for example, the user has not purchased the content)."},
ServerConnectionFailed:{code:3305,message:"Can't connect to the server."},ClientUpdateRequired:{code:3306,message:"Client update required (Flash Access server requires new client)."},InternalError:{code:3307,message:"Generic internal Flash Access failure."},WrongVoucherKey:{code:3308,message:"Wrong voucher key."},CorruptedFLV:{code:3309,message:"Video content is corrupted."},AppIDMismatch:{code:3310,message:"The AIR application or Flash Player SWF does not match the one specified in the DRM policy."},
AppVersionMismatch:{code:3311,message:"The version of the application does not match the one specified in the DRM policy."},VoucherIntegrityError:{code:3312,message:"Verification of voucher failed."},WriteFileSystemFailed:{code:3313,message:"Write to the file system failed."},FLVHeaderIntegrityFailed:{code:3314,message:"Verification of FLV/F4V header file failed."},PermissionDenied:{code:3315,message:"The current security context does not allow this operation."},LocalConnectionUserScopedLocked:{code:3316,
message:"The value of LocalConnection.isPerUser cannot be changed because it has already been locked by a call to LocalConnection.connect, .send, or .close."},LoadAdobeCPFailed:{code:3317,message:"Failed to load Flash Access module."},IncompatibleAdobeCPVersion:{code:3318,message:"Incompatible version of Flash Access module found."},MissingAdobeCPEntryPoint:{code:3319,message:"Missing Flash Access module API entry point."},InternalErrorHA:{code:3320,message:"Generic internal Flash Access failure."},
IndividualizationFailed:{code:3321,message:"Individualization failed."},DeviceBindingFailed:{code:3322,message:"Device binding failed."},CorruptStore:{code:3323,message:"The internal stores are corrupted."},MachineTokenInvalid:{code:3324,message:"Reset license files and the client will fetch a new machine token."},CorruptServerStateStore:{code:3325,message:"Internal stores are corrupt."},TamperingDetected:{code:3326,message:"Call customer support."},ClockTamperingDetected:{code:3327,message:"Clock tampering detected."},
ServerErrorTryAgain:{code:3328,message:"Server error; retry the request."},ApplicationSpecificError:{code:3329,message:"Error in application-specific namespace."},NeedAuthentication:{code:3330,message:"Need to authenticate the user and reacquire the voucher."},ContentNotYetValid:{code:3331,message:"Content is not yet valid."},CachedVoucherExpired:{code:3332,message:"Cached voucher has expired. Reacquire the voucher from the server."},PlaybackWindowExpired:{code:3333,message:"The playback window for this policy has expired."},
InvalidDRMPlatform:{code:3334,message:"This platform is not allowed to play this content."},InvalidDRMVersion:{code:3335,message:"Invalid version of Flash Access module. Upgrade AIR or Flash Access module for the Flash Player."},InvalidRuntimePlatform:{code:3336,message:"This platform is not allowed to play this content."},InvalidRuntimeVersion:{code:3337,message:"Upgrade Flash Player or AIR  and retry playback."},UnknownConnectionType:{code:3338,message:"Unknown connection type."},NoAnalogPlaybackAllowed:{code:3339,
message:"Can't play back on analog device. Connect to a digital device."},NoAnalogProtectionAvail:{code:3340,message:"Can't play back because connected analog device doesn't have the correct capabilities."},NoDigitalPlaybackAllowed:{code:3341,message:"Can't play back on digital device."},NoDigitalProtectionAvail:{code:3342,message:"The connected digital device doesn't have the correct capabilities."},InternalErrorIV:{code:3343,message:"Internal Error."},MissingAdobeCPModule:{code:3344,message:"Missing Flash Access module."},
DRMNoAccessError:{code:3345,message:"This operation is not permitted with content protected using Flash Access."},DRMDataMigrationFailed:{code:3346,message:"Failed migrating local DRM data, all locally cached DRM vouchers are lost."},DRMInsufficientDeviceCapabilites:{code:3347,message:"The device does not meet the Flash Access server's playback device constraints."},DRMHardStopIntervalExpired:{code:3348,message:"This protected content is expired."},DRMServerVersionTooHigh:{code:3349,message:"The Flash Access server is running at a version that's higher than the max supported by this runtime."},
DRMServerVersionTooLow:{code:3350,message:"The Flash Access server is running at a version that's lower than the min supported by this runtime."},DRMDeviceGroupTokenInvalid:{code:3351,message:"Device Group registration token is corrupted, please refresh the token by registering again to the DRMDeviceGroup."},DRMDeviceGroupTokenTooOld:{code:3352,message:"The server is using a newer version of the registration token for this Device Group. Please refresh the token by registering again to the DRMDeviceGroup."},
DRMDeviceGroupTokenTooNew:{code:3353,message:"the server is using an older version of the registration token for this Device Group."},DRMDeviceGroupTokenExpired:{code:3354,message:"Device Group registration is expired, please refresh the token by registering again to the DRMDeviceGroup."},JoinDRMDeviceGroupFailed:{code:3355,message:"The server denied this Device Group registration request."},DRMVoucherHasNoCorrespondingRoot:{code:3356,message:"The root voucher for this content's DRMVoucher was not found."},
NoValidEmbeddedDRMVoucher:{code:3357,message:"The DRMContentData provides no valid embedded voucher and no Flash Access server url to acquire the voucher from."},NoACPProtectionAvailable:{code:3358,message:"ACP protection is not available on the device but required to playback the content."},NoCGMSAProtectionAvailable:{code:3359,message:"CGMSA protection is not available on the device but required to playback the content."},DRMDeviceGroupRegistrationRequired:{code:3360,message:"Device Group registration is required before doing this operation."},
DeviceIsNotRegisteredToDRMDeviceGroup:{code:3361,message:"The device is not registered to this Device Group."},ScriptBridgeError:{code:3400,message:"An error occured while executing JavaScript code."},ScriptBridgeNameAccessSecurityError:{code:3401,message:"Security sandbox violation: An object with this name has already been registered from another security domain."},ScriptBridgeBrowserAccessSecurityError:{code:3402,message:"Security sandbox violation: Bridge caller %1 cannot access %2."},ExtensionContextNoSuchMethod:{code:3500,
message:"The extension context does not have a method with the name %1."},ExtensionContextAlreadyDisposed:{code:3501,message:"The extension context has already been disposed."},ExtensionContextInvalidReturnValue:{code:3502,message:"The extension returned an invalid value."},ExtensionContextInvalidState:{code:3503,message:"The extension was left in an invalid state."},NoValidProgramSet:{code:3600,message:"No valid program set."},NoValidIndexBufferSet:{code:3601,message:"No valid index buffer set."},
SanityCheckOnParametersFailed:{code:3602,message:"Sanity check on parameters failed, %1 triangles and %2 index offset."},NotEnoughIndicesInThisBuffer:{code:3603,message:"Not enough indices in this buffer. %1 triangles at offset %2, but there are only %3 indices in buffer."},SampleBindsTextureAlsoBoundToRender:{code:3604,message:"Sampler %1 binds a texture that is also bound for render to texture."},SampleBindsInvalidTexture:{code:3605,message:"Sampler %1 binds an invalid texture."},SamplerFormatDoesNotMatchTextureFormat:{code:3606,
message:"Sampler %1 format does not match texture format."},StreamIsNotUsed:{code:3607,message:"Stream %1 is set but not used by the current vertex program."},StreamIsInvalid:{code:3608,message:"Stream %1 is invalid."},StreamDoesNotHaveEnoughVertices:{code:3609,message:"Stream %1 does not have enough vertices."},StreamVertexOffsetOutOfBounds:{code:3610,message:"Stream %1 vertex offset is out of bounds"},StreamReadButNotSet:{code:3611,message:"Stream %1 is read by the current vertex program but not set."},
ProgramMustBeLittleEndian:{code:3612,message:"Programs must be in little endian format."},NativeShaderCompilationFailed:{code:3613,message:"The native shader compilation failed."},NativeShaderCompilationFailedOpenGL:{code:3614,message:"The native shader compilation failed.enGL specific: %1"},AgalProgramTooSmall:{code:3615,message:"AGAL validation failed: Program size below minimum length for %1 program."},NotAnAgalProgram:{code:3616,message:"AGAL validation failed: Not an AGAL program. Wrong magic byte for %1 program."},
BadAgalVersion:{code:3617,message:"AGAL validation failed: Bad AGAL version for %1 program. Current version is %2."},BadAgalProgramType:{code:3618,message:"AGAL validation failed: Bad AGAL program type identifier for %1 program."},BadAgalShadertype:{code:3619,message:"AGAL validation failed: Shader type must be either fragment or vertex for %1 program."},InvalidAgalOpcodeOutOfRange:{code:3620,message:"AGAL validation failed: Invalid opcode, value out of range: %2 at token %3 of %1 program."},InvalidAgalOpcodeNotImplemented:{code:3621,
message:"AGAL validation failed: Invalid opcode, %2 is not implemented in this version at token %3 of %1 program."},AgalOpcodeOnlyAllowedInFragmentProgram:{code:3622,message:"AGAL validation failed: Opcode %2 only allowed in fragment programs at token %3 of %1 program."},OpenConditionNesting:{code:3623,message:"AGAL validation failed: Open condition nesting (close without open) at token %2 of %1 program."},ConditionNestingTooDeep:{code:3624,message:"AGAL validation failed: Condition nesting (%2) too deep at token %3 of %1 program."},
BadAgalSourceOperands:{code:3625,message:"AGAL validation failed: Bad AGAL source operands. Both are constants (this must be precomputed) at token %2 of %1 program."},BothOperandsAreIndirectReads:{code:3626,message:"AGAL validation failed: Opcode %2, both operands are indirect reads at token %3 of %1 program."},OpcodeDestinationMustBeAllZero:{code:3627,message:"AGAL validation failed: Opcode %2 destination operand must be all zero at token %3 of %1 program."},OpcodeDestinationMustUseMask:{code:3628,
message:"AGAL validation failed: The destination operand for the %2 instruction must mask w (use .xyz or less) at token %3 of %1 program."},TooManyTokens:{code:3629,message:"AGAL validation failed: Too many tokens (%2) for %1 program."},FragmentShaderType:{code:3630,message:"Fragment shader type is not fragment."},VertexShaderType:{code:3631,message:"Vertex shader type is not vertex."},VaryingReadButNotWrittenTo:{code:3632,message:"AGAL linkage: Varying %1 is read in the fragment shader but not written to by the vertex shader."},
VaryingPartialWrite:{code:3633,message:"AGAL linkage: Varying %1 is only partially written to. Must write all four components."},FragmentWriteAllComponents:{code:3634,message:"AGAL linkage: Fragment output needs to write to all components."},VertexWriteAllComponents:{code:3635,message:"AGAL linkage: Vertex output needs to write to all components."},UnusedOperand:{code:3636,message:"AGAL validation failed: Unused operand is not set to zero for %2 at token %3 of %1 program."},SamplerRegisterOnlyInFragment:{code:3637,
message:"AGAL validation failed: Sampler registers only allowed in fragment programs for %2 at token %3 of %1 program."},SamplerRegisterSecondOperand:{code:3638,message:"AGAL validation failed: Sampler register only allowed as second operand in texture instructions for %2 at token %3 of %1 program."},IndirectOnlyAllowedInVertex:{code:3639,message:"AGAL validation failed: Indirect addressing only allowed in vertex programs for %2 at token %3 of %1 program."},IndirectOnlyIntoConstantRegisters:{code:3640,
message:"AGAL validation failed: Indirect addressing only allowed into constant registers for %2 at token %3 of %1 program."},IndirectNotAllowed:{code:3641,message:"AGAL validation failed: Indirect addressing not allowed for this operand in this instruction for %2 at token %3 of %1 program."},IndirectSourceType:{code:3642,message:"AGAL validation failed: Indirect source type must be attribute, constant or temporary for %2 at token %3 of %1 program."},IndirectAddressingFieldsMustBeZero:{code:3643,
message:"AGAL validation failed: Indirect addressing fields must be zero for direct adressing for %2 at token %3 of %1 program."},VaryingRegistersOnlyReadInFragment:{code:3644,message:"AGAL validation failed: Varying registers can only be read in fragment programs for %2 at token %3 of %1 program."},AttributeRegistersOnlyReadInVertex:{code:3645,message:"AGAL validation failed: Attribute registers can only be read in vertex programs for %2 at token %3 of %1 program."},CanNotReadOutputRegister:{code:3646,
message:"AGAL validation failed: Can not read from output register for %2 at token %3 of %1 program."},TempRegisterReadWithoutWrite:{code:3647,message:"AGAL validation failed: Temporary register read without being written to for %2 at token %3 of %1 program."},TempRegisterComponentReadWithoutWrite:{code:3648,message:"AGAL validation failed: Temporary register component read without being written to for %2 at token %3 of %1 program."},SamplerRegisterCannotBeWrittenTo:{code:3649,message:"AGAL validation failed: Sampler registers can not be written to for %2 at token %3 of %1 program."},
VaryingRegistersWrite:{code:3650,message:"AGAL validation failed: Varying registers can only be written in vertex programs for %2 at token %3 of %1 program."},AttributeRegisterCannotBeWrittenTo:{code:3651,message:"AGAL validation failed: Attribute registers can not be written to for %2 at token %3 of %1 program."},ConstantRegisterCannotBeWrittenTo:{code:3652,message:"AGAL validation failed: Constant registers can not be written to for %2 at token %3 of %1 program."},DestinationWritemaskIsZero:{code:3653,
message:"AGAL validation failed: Destination writemask is zero for %2 at token %3 of %1 program."},AGALReservedBitsShouldBeZero:{code:3654,message:"AGAL validation failed: Reserve bits should be zero for %2 at token %3 of %1 program."},UnknownRegisterType:{code:3655,message:"AGAL validation failed: Unknown register type for %2 at token %3 of %1 program."},SamplerRegisterOutOfBounds:{code:3656,message:"AGAL validation failed: Sampler register index out of bounds for %2 at token %3 of %1 program."},
VaryingRegisterOutOfBounds:{code:3657,message:"AGAL validation failed: Varying register index out of bounds for %2 at token %3 of %1 program."},AttributeRegisterOutOfBounds:{code:3658,message:"AGAL validation failed: Attribute register index out of bounds for %2 at token %3 of %1 program."},ConstantRegisterOutOfBounds:{code:3659,message:"AGAL validation failed: Constant register index out of bounds for %2 at token %3 of %1 program."},OutputRegisterOutOfBounds:{code:3660,message:"AGAL validation failed: Output register index out of bounds for %2 at token %3 of %1 program."},
TemporaryRegisterOutOfBounds:{code:3661,message:"AGAL validation failed: Temporary register index out of bounds for %2 at token %3 of %1 program."},CubeMapSamplerMustUseClamp:{code:3662,message:"AGAL validation failed: Cube map samplers must set wrapping to clamp mode for %2 at token %3 of %1 program."},SampleBindsUndefinedTexture:{code:3663,message:"Sampler %1 binds an undefined texture."},UnknownSamplerDimension:{code:3664,message:"AGAL validation failed: Unknown sampler dimension %4 for %2 at token %3 of %1 program."},
UnknownFilterMode:{code:3665,message:"AGAL validation failed: Unknown filter mode in sampler: %4 for %2 at token %3 of %1 program."},UnknownMipmapMode:{code:3666,message:"AGAL validation failed: Unknown mipmap mode in sampler: %4 for %2 at token %3 of %1 program."},UnknownWrappingMode:{code:3667,message:"AGAL validation failed: Unknown wrapping mode in sampler: %4 for %2 at token %3 of %1 program."},UnknownSpecialFlag:{code:3668,message:"AGAL validation failed: Unknown special flag used in sampler: %4 for %2 at token %3 of %1 program."},
BadInputSize:{code:3669,message:"Bad input size."},BufferTooBig:{code:3670,message:"Buffer too big."},BufferHasZeroSize:{code:3671,message:"Buffer has zero size."},BufferCreationFailed:{code:3672,message:"Buffer creation failed. Internal error."},InvalidCubeSide:{code:3673,message:"Cube side must be [0..5]."},MiplevelTooLarge:{code:3674,message:"Miplevel too large."},TextureFormatMismatch:{code:3675,message:"Texture format mismatch."},PlatformDoesNotSupportTextureFormat:{code:3676,message:"Platform does not support desired texture format."},
TextureDecodingFailed:{code:3677,message:"Texture decoding failed. Internal error."},TextureNeedsToBeSquare:{code:3678,message:"Texture needs to be square."},TextureSizeDoesNotMatch:{code:3679,message:"Texture size does not match."},DepthTextureNotImplemented:{code:3680,message:"Depth texture not implemented yet."},TextureSizeIsZero:{code:3681,message:"Texture size is zero."},TextureNotPowerOfTwo:{code:3682,message:"Texture size not a power of two."},TextureTooBig:{code:3683,message:"Texture too big (max is 2048x2048)."},
TextureCreationFailed:{code:3684,message:"Texture creation failed. Internal error."},CouldNotCreateRenderer:{code:3685,message:"Could not create renderer."},DisabledFormatNeedsNullVertexBuffer:{code:3686,message:"'disabled' format only valid with a null vertex buffer."},NullVertexBufferNeedsDisabledFormat:{code:3687,message:"Null vertex buffers require the 'disabled' format."},NeedListenerToRequestContext:{code:3688,message:"You must add an event listener for the context3DCreate event before requesting a new Context3D."},
CantSwizzle2ndSource:{code:3689,message:"You can not swizzle second operand for %2 at token %3 of %1 program."},TooManyDrawCalls:{code:3690,message:"Too many draw calls before calling present."},ResourceLimitExceeded:{code:3691,message:"Resource limit for this resource type exceeded."},NeedToClearBeforeDraw:{code:3692,message:"All buffers need to be cleared every frame before drawing."},SecondOperandMustBeSamplerRegister:{code:3693,message:"AGAL validation failed: Sampler register must be used for second operand in texture instructions for %2 at token %3 of %1 program."},
ObjectDisposed:{code:3694,message:"The object was disposed by an earlier call of dispose() on it."},SameTextureNeedsSameSamplerParams:{code:3695,message:"A texture can only be bound to multiple samplers if the samplers also have the exact same properties. Mismatch at samplers %1 and %2."},SecondUseOfSamplerMustHaveSameParams:{code:3696,message:"AGAL validation failed: Second use of sampler register needs to specify the exact same properties. At token %3 of %1 program."},TextureBoundButNotUsed:{code:3697,
message:"A texture is bound on sampler %1 but not used by the fragment program."},BackBufferNotConfigured:{code:3698,message:"The back buffer is not configured."},OperationFailed:{code:3699,message:"Requested Operation failed to complete"},TextureMipchainIsNotComplete:{code:3700,message:"A texture sampler binds an incomplete texture. Make sure to upload(). All miplevels are required when mipmapping is enabled."},OutputColorNotMaskable:{code:3701,message:"The output color register can not use a write mask. All components must be written."},
Context3DNotAvailable:{code:3702,message:"Context3D not available."},SwizzleMustBeScalar:{code:3703,message:"AGAL validation failed: Source swizzle must be scalar (one of: xxxx, yyyy, zzzz, wwww) for %2 at token %3 of %1 program."},CubeMapSamplerMustUseMipmap:{code:3704,message:"AGAL validation failed: Cube map samplers must enable mipmapping for %2 at token %3 of %1 program."}};
function getErrorMessage(a){if(!debuggerMode.value)return"Error #"+a;for(var b in Errors)if(Errors[b].code==a)return"Error #"+a+": "+Errors[b].message}function formatErrorMessage(a){var b=a.message;Array.prototype.slice.call(arguments,1).forEach(function(a,e){b=b.replace("%"+(e+1),a)});return"Error #"+a.code+": "+b}
function translateErrorMessage(a){if(a.type)switch(a.type){case "undefined_method":return formatErrorMessage(Errors.CallOfNonFunctionError,"value");default:throw notImplemented(a.type);}else return 0<=a.message.indexOf("is not a function")?formatErrorMessage(Errors.CallOfNonFunctionError,"value"):a.message}
var opcodeTable=[null,{name:"bkpt",operands:"",canThrow:!1,stackDelta:0},{name:"nop",operands:"",canThrow:!1,stackDelta:0},{name:"throw",operands:"",canThrow:!0,stackDelta:-1},{name:"getsuper",operands:"index:u30",canThrow:!0,stackDelta:0},{name:"setsuper",operands:"index:u30",canThrow:!0,stackDelta:-2},{name:"dxns",operands:"index:u30",canThrow:!0,stackDelta:0},{name:"dxnslate",operands:"",canThrow:!0,stackDelta:-1},{name:"kill",operands:"index:u30",canThrow:!1,stackDelta:0},{name:"label",operands:"",
canThrow:!1,stackDelta:0},{name:"lf32x4",operands:"",canThrow:!0,stackDelta:0},{name:"sf32x4",operands:"",canThrow:!0,stackDelta:-2},{name:"ifnlt",operands:"offset:s24",canThrow:!0,stackDelta:-2},{name:"ifnle",operands:"offset:s24",canThrow:!0,stackDelta:-2},{name:"ifngt",operands:"offset:s24",canThrow:!0,stackDelta:-2},{name:"ifnge",operands:"offset:s24",canThrow:!0,stackDelta:-2},{name:"jump",operands:"offset:s24",canThrow:!1,stackDelta:0},{name:"iftrue",operands:"offset:s24",canThrow:!1,stackDelta:-1},
{name:"iffalse",operands:"offset:s24",canThrow:!1,stackDelta:-1},{name:"ifeq",operands:"offset:s24",canThrow:!0,stackDelta:-2},{name:"ifne",operands:"offset:s24",canThrow:!0,stackDelta:-2},{name:"iflt",operands:"offset:s24",canThrow:!0,stackDelta:-2},{name:"ifle",operands:"offset:s24",canThrow:!0,stackDelta:-2},{name:"ifgt",operands:"offset:s24",canThrow:!0,stackDelta:-2},{name:"ifge",operands:"offset:s24",canThrow:!0,stackDelta:-2},{name:"ifstricteq",operands:"offset:s24",canThrow:!1,stackDelta:-2},
{name:"ifstrictne",operands:"offset:s24",canThrow:!1,stackDelta:-2},{name:"lookupswitch",operands:null,canThrow:!1,stackDelta:-1},{name:"pushwith",operands:"",canThrow:!1,stackDelta:-1},{name:"popscope",operands:"",canThrow:!1,stackDelta:0},{name:"nextname",operands:"",canThrow:!0,stackDelta:-1},{name:"hasnext",operands:"",canThrow:!0,stackDelta:-1},{name:"pushnull",operands:"",canThrow:!1,stackDelta:1},{name:"pushundefined",operands:"",canThrow:!1,stackDelta:1},null,{name:"nextvalue",operands:"",
canThrow:!0,stackDelta:-1},{name:"pushbyte",operands:"value:s08",canThrow:!1,stackDelta:1},{name:"pushshort",operands:"value:s16",canThrow:!1,stackDelta:1},{name:"pushtrue",operands:"",canThrow:!1,stackDelta:1},{name:"pushfalse",operands:"",canThrow:!1,stackDelta:1},{name:"pushnan",operands:"",canThrow:!1,stackDelta:1},{name:"pop",operands:"",canThrow:!1,stackDelta:-1},{name:"dup",operands:"",canThrow:!1,stackDelta:1},{name:"swap",operands:"",canThrow:!1,stackDelta:0},{name:"pushstring",operands:"index:u30S",
canThrow:!1,stackDelta:1},{name:"pushint",operands:"index:u30I",canThrow:!1,stackDelta:1},{name:"pushuint",operands:"index:u30U",canThrow:!1,stackDelta:1},{name:"pushdouble",operands:"index:u30D",canThrow:!1,stackDelta:1},{name:"pushscope",operands:"",canThrow:!1,stackDelta:-1},{name:"pushnamespace",operands:"index:u30N",canThrow:!1,stackDelta:1},{name:"hasnext2",operands:"object:u30,index:u30",canThrow:!0,stackDelta:1},{name:"lix8",operands:null,canThrow:!0,stackDelta:0,internal:!0},{name:"lix16",
operands:null,canThrow:!0,stackDelta:0,internal:!0},{name:"li8",operands:"",canThrow:!0,stackDelta:0},{name:"li16",operands:"",canThrow:!0,stackDelta:0},{name:"li32",operands:"",canThrow:!0,stackDelta:0},{name:"lf32",operands:"",canThrow:!0,stackDelta:0},{name:"lf64",operands:"",canThrow:!0,stackDelta:0},{name:"si8",operands:"",canThrow:!0,stackDelta:-2},{name:"si16",operands:"",canThrow:!0,stackDelta:-2},{name:"si32",operands:"",canThrow:!0,stackDelta:-2},{name:"sf32",operands:"",canThrow:!0,stackDelta:-2},
{name:"sf64",operands:"",canThrow:!0,stackDelta:-2},null,{name:"newfunction",operands:"index:u30MI",canThrow:!0,stackDelta:1},{name:"call",operands:"argCount:u30",canThrow:!0,stackDelta:-1},{name:"construct",operands:"argCount:u30",canThrow:!0,stackDelta:0},{name:"callmethod",operands:"index:u30,argCount:u30",canThrow:!0,stackDelta:0},{name:"callstatic",operands:"index:u30MI,argCount:u30",canThrow:!0,stackDelta:0},{name:"callsuper",operands:"index:u30M,argCount:u30",canThrow:!0,stackDelta:0},{name:"callproperty",
operands:"index:u30M,argCount:u30",canThrow:!0,stackDelta:0},{name:"returnvoid",operands:"",canThrow:!1,stackDelta:0},{name:"returnvalue",operands:"",canThrow:!0,stackDelta:-1},{name:"constructsuper",operands:"argCount:u30",canThrow:!0,stackDelta:-1},{name:"constructprop",operands:"index:u30M,argCount:u30",canThrow:!0,stackDelta:0},{name:"callsuperid",operands:null,canThrow:!0,stackDelta:0,internal:!0},{name:"callproplex",operands:"index:u30M,argCount:u30",canThrow:!0,stackDelta:0},{name:"callinterface",
operands:null,canThrow:!0,stackDelta:0,internal:!0},{name:"callsupervoid",operands:"index:u30M,argCount:u30",canThrow:!0,stackDelta:-1},{name:"callpropvoid",operands:"index:u30M,argCount:u30",canThrow:!0,stackDelta:-1},{name:"sxi1",operands:"",canThrow:!1,stackDelta:0},{name:"sxi8",operands:"",canThrow:!1,stackDelta:0},{name:"sxi16",operands:"",canThrow:!1,stackDelta:0},{name:"applytype",operands:"argCount:u30",canThrow:!0,stackDelta:0},{name:"pushfloat4",operands:null,canThrow:!1,stackDelta:1},{name:"newobject",
operands:"argCount:u30",canThrow:!0,stackDelta:1},{name:"newarray",operands:"argCount:u30",canThrow:!0,stackDelta:1},{name:"newactivation",operands:"",canThrow:!0,stackDelta:1},{name:"newclass",operands:"index:u30CI",canThrow:!0,stackDelta:0},{name:"getdescendants",operands:"index:u30M",canThrow:!0,stackDelta:0},{name:"newcatch",operands:"index:u30EI",canThrow:!0,stackDelta:1},{name:"findpropglobalstrict",operands:null,canThrow:!0,stackDelta:0,internal:!0},{name:"findpropglobal",operands:null,canThrow:!0,
stackDelta:0,internal:!0},{name:"findpropstrict",operands:"index:u30M",canThrow:!0,stackDelta:1},{name:"findproperty",operands:"index:u30M",canThrow:!0,stackDelta:1},{name:"finddef",operands:null,canThrow:!0,stackDelta:1},{name:"getlex",operands:"index:u30M",canThrow:!0,stackDelta:1},{name:"setproperty",operands:"index:u30M",canThrow:!0,stackDelta:-2},{name:"getlocal",operands:"index:u30",canThrow:!1,stackDelta:1},{name:"setlocal",operands:"index:u30",canThrow:!1,stackDelta:-1},{name:"getglobalscope",
operands:"",canThrow:!1,stackDelta:1},{name:"getscopeobject",operands:"index:u30",canThrow:!1,stackDelta:1},{name:"getproperty",operands:"index:u30M",canThrow:!0,stackDelta:0},{name:"getouterscope",operands:null,canThrow:!1,stackDelta:1},{name:"initproperty",operands:"index:u30M",canThrow:!0,stackDelta:-2},null,{name:"deleteproperty",operands:"index:u30M",canThrow:!0,stackDelta:0},null,{name:"getslot",operands:"index:u30",canThrow:!0,stackDelta:0},{name:"setslot",operands:"index:u30",canThrow:!0,
stackDelta:-2},{name:"getglobalslot",operands:"index:u30",canThrow:!1,stackDelta:1},{name:"setglobalslot",operands:"index:u30",canThrow:!1,stackDelta:-1},{name:"convert_s",operands:"",canThrow:!0,stackDelta:0},{name:"esc_xelem",operands:"",canThrow:!0,stackDelta:0},{name:"esc_xattr",operands:"",canThrow:!0,stackDelta:0},{name:"convert_i",operands:"",canThrow:!0,stackDelta:0},{name:"convert_u",operands:"",canThrow:!0,stackDelta:0},{name:"convert_d",operands:"",canThrow:!0,stackDelta:0},{name:"convert_b",
operands:"",canThrow:!0,stackDelta:0},{name:"convert_o",operands:"",canThrow:!0,stackDelta:0},{name:"checkfilter",operands:"",canThrow:!0,stackDelta:0},{name:"convert_f",operands:"",canThrow:!0,stackDelta:0},{name:"unplus",operands:"",canThrow:!0,stackDelta:0},{name:"convert_f4",operands:"",canThrow:!0,stackDelta:0},null,null,null,null,{name:"coerce",operands:"index:u30M",canThrow:!0,stackDelta:0},{name:"coerce_b",operands:"",canThrow:!0,stackDelta:0},{name:"coerce_a",operands:"",canThrow:!0,stackDelta:0},
{name:"coerce_i",operands:"",canThrow:!0,stackDelta:0},{name:"coerce_d",operands:"",canThrow:!0,stackDelta:0},{name:"coerce_s",operands:"",canThrow:!0,stackDelta:0},{name:"astype",operands:"index:u30M",canThrow:!0,stackDelta:0},{name:"astypelate",operands:"",canThrow:!0,stackDelta:-1},{name:"coerce_u",operands:"",canThrow:!0,stackDelta:0},{name:"coerce_o",operands:"",canThrow:!0,stackDelta:0},null,null,null,null,null,null,{name:"negate",operands:"",canThrow:!0,stackDelta:0},{name:"increment",operands:"",
canThrow:!0,stackDelta:0},{name:"inclocal",operands:"index:u30",canThrow:!0,stackDelta:0},{name:"decrement",operands:"",canThrow:!0,stackDelta:0},{name:"declocal",operands:"index:u30",canThrow:!0,stackDelta:0},{name:"typeof",operands:"",canThrow:!1,stackDelta:0},{name:"not",operands:"",canThrow:!1,stackDelta:0},{name:"bitnot",operands:"",canThrow:!0,stackDelta:0},null,null,null,null,null,null,null,null,{name:"add",operands:"",canThrow:!0,stackDelta:-1},{name:"subtract",operands:"",canThrow:!0,stackDelta:-1},
{name:"multiply",operands:"",canThrow:!0,stackDelta:-1},{name:"divide",operands:"",canThrow:!0,stackDelta:-1},{name:"modulo",operands:"",canThrow:!0,stackDelta:-1},{name:"lshift",operands:"",canThrow:!0,stackDelta:-1},{name:"rshift",operands:"",canThrow:!0,stackDelta:-1},{name:"urshift",operands:"",canThrow:!0,stackDelta:-1},{name:"bitand",operands:"",canThrow:!0,stackDelta:-1},{name:"bitor",operands:"",canThrow:!0,stackDelta:-1},{name:"bitxor",operands:"",canThrow:!0,stackDelta:-1},{name:"equals",
operands:"",canThrow:!0,stackDelta:-1},{name:"strictequals",operands:"",canThrow:!0,stackDelta:-1},{name:"lessthan",operands:"",canThrow:!0,stackDelta:-1},{name:"lessequals",operands:"",canThrow:!0,stackDelta:-1},{name:"greaterthan",operands:"",canThrow:!0,stackDelta:-1},{name:"greaterequals",operands:"",canThrow:!0,stackDelta:-1},{name:"instanceof",operands:"",canThrow:!0,stackDelta:-1},{name:"istype",operands:"index:u30M",canThrow:!0,stackDelta:0},{name:"istypelate",operands:"",canThrow:!0,stackDelta:-1},
{name:"in",operands:"",canThrow:!0,stackDelta:-1},null,null,null,null,null,null,null,null,null,null,null,{name:"increment_i",operands:"",canThrow:!0,stackDelta:0},{name:"decrement_i",operands:"",canThrow:!0,stackDelta:0},{name:"inclocal_i",operands:"index:u30",canThrow:!0,stackDelta:0},{name:"declocal_i",operands:"index:u30",canThrow:!0,stackDelta:0},{name:"negate_i",operands:"",canThrow:!0,stackDelta:0},{name:"add_i",operands:"",canThrow:!0,stackDelta:-1},{name:"subtract_i",operands:"",canThrow:!0,
stackDelta:-1},{name:"multiply_i",operands:"",canThrow:!0,stackDelta:-1},null,null,null,null,null,null,null,null,{name:"getlocal0",operands:"",canThrow:!1,stackDelta:1},{name:"getlocal1",operands:"",canThrow:!1,stackDelta:1},{name:"getlocal2",operands:"",canThrow:!1,stackDelta:1},{name:"getlocal3",operands:"",canThrow:!1,stackDelta:1},{name:"setlocal0",operands:"",canThrow:!1,stackDelta:-1},{name:"setlocal1",operands:"",canThrow:!1,stackDelta:-1},{name:"setlocal2",operands:"",canThrow:!1,stackDelta:-1},
{name:"setlocal3",operands:"",canThrow:!1,stackDelta:-1},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,{name:"invalid",operands:"",canThrow:!1,stackDelta:0},null,{name:"debug",operands:"debugType:u08,index:u30S,reg:u08,extra:u30",canThrow:!0,stackDelta:0},{name:"debugline",operands:"lineNumber:u30",canThrow:!0,stackDelta:0},{name:"debugfile",operands:"index:u30S",canThrow:!0,stackDelta:0},null,null,null,null,null,null,null,null,null,null,
null,null,null,null];(function(){function a(a){a=a.split(":");return{name:a[0],size:a[1].substring(0,3),type:a[1].substring(3)}}for(var b=0;b<opcodeTable.length;b++){var d=opcodeTable[b];d&&null!==d.operands&&(d.operands=""===d.operands?[]:d.operands.split(",").map(a))}})();function opcodeName(a){return opcodeTable[a].name}
var AbcStream=function(){function a(a){this.bytes=a;this.view=new DataView(a.buffer,a.byteOffset);this.pos=0}var b=new Int32Array(256);a.prototype={get position(){return this.pos},remaining:function(){return this.bytes.length-this.pos},seek:function(a){this.pos=a},readU8:function(){return this.bytes[this.pos++]},readU8s:function(a){var b=new Uint8Array(a);b.set(this.bytes.subarray(this.pos,this.pos+a),0);this.pos+=a;return b},readS8:function(){return this.bytes[this.pos++]<<24>>24},readU32:function(){return this.readS32()>>>
0},readU30:function(){return this.readU32()},readU30Unsafe:function(){return this.readU32()},readS16:function(){return this.readU30Unsafe()<<16>>16},readS32:function(){var a=this.readU8();a&128&&(a=a&127|this.readU8()<<7,a&16384&&(a=a&16383|this.readU8()<<14,a&2097152&&(a=a&2097151|this.readU8()<<21,a&268435456&&(a=a&268435455|this.readU8()<<28,a&=4294967295))));return a},readWord:function(){var a=this.view.getUint32(this.pos,!0);this.pos+=4;return a},readS24:function(){return(this.readU8()|this.readU8()<<
8|this.readU8()<<16)<<8>>8},readDouble:function(){var a=this.view.getFloat64(this.pos,!0);this.pos+=8;return a},readUTFString:function(a){var d=this.pos,g=d+a,m=this.bytes,l=0;if(!b||b.length<a)b=new Int32Array(2*a);for(a=b;d<g;){var p=m[d++];if(127>=p)a[l++]=p;else if(192<=p){var r=0;224>p?r=(p&31)<<6|m[d++]&63:240>p?r=(p&15)<<12|(m[d++]&63)<<6|m[d++]&63:(r=((p&7)<<18|(m[d++]&63)<<12|(m[d++]&63)<<6|m[d++]&63)-65536,a[l++]=((r&1047552)>>>10)+55296,r=(r&1023)+56320);a[l++]=r}}this.pos=d;return fromCharCodeArray(a.subarray(0,
l))}};if("undefined"!==typeof TextDecoder){var d=new TextDecoder;a.prototype.readUTFString=function(a){var b=this.pos;this.pos+=a;return d.decode(this.bytes.subarray(b,b+a))}}return a}();function parseTraits(a,b,d){for(var e=b.readU30(),f=[],g=0;g<e;g++)f.push(new Trait(a,b,d));return f}
var Trait=function(){function a(a,d,e){var f=a.constantPool,g=a.methods,m=a.classes,l=a.metadata;this.holder=e;this.name=f.multinames[d.readU30()];e=d.readU8();this.kind=e&15;this.attributes=e>>4&15;!0;switch(this.kind){case 0:case 6:this.slotId=d.readU30();this.typeName=f.multinames[d.readU30()];a=d.readU30();this.value=void 0;0!==a&&(this.hasDefaultValue=!0,this.value=f.getValue(d.readU8(),a));break;case 1:case 3:case 2:this.dispId=d.readU30();this.methodInfo=g[d.readU30()];this.methodInfo.name=
this.name;attachHolder(this.methodInfo,this.holder);this.methodInfo.abc=a;break;case 4:this.slotId=d.readU30();!0;this.classInfo=m[d.readU30()];break;case 5:!0}if(this.attributes&4){var p,f=0;for(a=d.readU30();f<a;f++)g=l[d.readU30()],"__go_to_definition_help"===g.name||"__go_to_ctor_definition_help"===g.name||(p||(p={}),p[g.name]=g);p&&(this.isClass()&&(this.classInfo.metadata=p),this.metadata=p)}}a.prototype.isSlot=function(){return 0===this.kind};a.prototype.isConst=function(){return 6===this.kind};
a.prototype.isMethod=function(){return 1===this.kind};a.prototype.isClass=function(){return 4===this.kind};a.prototype.isGetter=function(){return 2===this.kind};a.prototype.isSetter=function(){return 3===this.kind};a.prototype.isProtected=function(){!0;return this.name.namespaces[0].isProtected()};a.prototype.kindName=function(){switch(this.kind){case 0:return"Slot";case 6:return"Const";case 1:return"Method";case 3:return"Setter";case 2:return"Getter";case 4:return"Class";case 5:return"Function"}unexpected()};
a.prototype.isOverride=function(){return this.attributes&2};a.prototype.isFinal=function(){return this.attributes&1};a.prototype.toString=function(){var a=getFlags(this.attributes,["final","override","metadata"]);a&&(a+=" ");a+=Multiname.getQualifiedName(this.name);switch(this.kind){case 0:case 6:return a+", typeName: "+this.typeName+", slotId: "+this.slotId+", value: "+this.value;case 1:case 3:case 2:return a+", "+this.kindName()+": "+this.methodInfo.name;case 4:return a+", slotId: "+this.slotId+
", class: "+this.classInfo}};return a}(),ShumwayNamespace=function(){function a(a,d,e,f){void 0!==a&&(void 0===d&&(d=""),void 0!==e&&(this.prefix=e),this.kind=a,this.originalURI=this.uri=d,b.call(this,f))}function b(a){if(this.isPublic()&&this.uri){var b=this.uri.length-1;58004<this.uri.charCodeAt(b)&&(this.uri=this.uri.substring(0,b-1))}else this.isUnique()&&(this.uri=String(this.uri+g++));a?a=this.uri:(a=this.uri,""===a?a="":(b=m[a],b||(b=String(l.length),l.push(b),m[a]=b),a=b));this.uri=a;!0;this.qualifiedName=
d[this.kind]+"$"+this.uri}var d={};d[CONSTANT_Namespace]="public";d[CONSTANT_PackageNamespace]="public";d[CONSTANT_PackageInternalNs]="packageInternal";d[CONSTANT_PrivateNs]="private";d[CONSTANT_ProtectedNamespace]="protected";d[CONSTANT_ExplicitNamespace]="explicit";d[CONSTANT_StaticProtectedNs]="staticProtected";var e={},f;for(f in d)e[d[f]]=!0;a.PREFIXES=e;var g=0,m=createEmptyObject();createEmptyObject();var l=[];a.fromQualifiedName=function(b){var d=b.indexOf("$"),e=b.indexOf("$",d+1),f=b.substring(0,
d),g=a.kindFromString(f),f=b.substring(d+1,e);b=""===f?f:l[Number(f)];!0;!0;return new a(g,b,void 0,!0)};a.kindFromString=function(a){for(var b in d)if(d[b]===a)return b;return!0};a.createNamespace=function(b,d){return new a(8,b,d)};a.prototype=Object.create({parse:function(a,d){this.kind=d.readU8();this.originalURI=this.uri=a.strings[d.readU30()];b.call(this)},isPublic:function(){return 8===this.kind||22===this.kind},isProtected:function(){return 24===this.kind},isUnique:function(){return 5===this.kind&&
!this.originalURI},isDynamic:function(){return this.isPublic()&&!this.uri},getURI:function(){return this.uri},toString:function(){return d[this.kind]+(this.originalURI?" "+this.originalURI:"")},clone:function(){var b=new a;b.kind=this.kind;b.uri=this.uri;b.originalURI=this.originalURI;b.qualifiedName=this.qualifiedName;return b},isEqualTo:function(a){return this.qualifiedName===a.qualifiedName},inNamespaceSet:function(a){for(var b=0;b<a.length;b++)if(a[b].qualifiedName===this.qualifiedName)return!0;
return!1},getAccessModifier:function(){return d[this.kind]},getQualifiedName:function(){return this.qualifiedName}});a.PUBLIC=new a(8);a.PROTECTED=new a(24);a.PROXY=new a(8,"http://www.adobe.com/2006/actionscript/flash/proxy");var p={};a.fromSimpleName=function(b){if(b in p)return p[b];var e;0===b.indexOf("[")?(!0,e=b.substring(1,b.length-1).split(",")):e=[b];return p[b]=e.map(function(b){b=b.trim();var e;0<b.indexOf(" ")?(e=b.substring(0,b.indexOf(" ")).trim(),b=b.substring(b.indexOf(" ")+1).trim()):
b===d[8]||b===d[23]||b===d[5]||b===d[24]||b===d[25]||b===d[26]?(e=b,b=""):e="public";return new a(a.kindFromString(e),b)})};return a}(),Multiname=function(){function a(a,b,e){void 0!==b&&!0;this.id=d++;this.namespaces=a;this.name=b;this.flags=e||0}function b(a,b){!0;return a?a+"$"+b:b}var d=0;a.TEMPORARY=new a;!0;a.RUNTIME_NAME=4;a.ATTRIBUTE=1;a.parse=function(a,b,d,e){var p=0,r=b.readU8(),s,v=[],w=0;switch(r){case 7:case 13:(p=b.readU30())?v=[a.namespaces[p]]:w&=-5;(p=b.readU30())&&(s=a.strings[p]);
break;case 15:case 16:(p=b.readU30())?s=a.strings[p]:w&=-5;w|=2;break;case 17:case 18:w|=6;break;case 9:case 14:(p=b.readU30())?s=a.strings[p]:w&=-5;p=b.readU30();!0;v=a.namespaceSets[p];break;case 27:case 28:w|=4;p=b.readU30();!0;v=a.namespaceSets[p];break;case 29:return a=b.readU32(),d[a]&&(v=d[a].namespaces,s=d[a].name),b.readU32(),!0,b=b.readU32(),s=new Multiname(v,s,w),s.typeParameter=d[b],d[a]||e.push({multiname:s,index:a}),s;default:unexpected()}switch(r){case 13:case 16:case 18:case 14:case 28:w|=
1}return new Multiname(v,s,w)};a.isMultiname=function(a){return"number"===typeof a||"string"===typeof a||a instanceof Multiname||a instanceof Number};a.needsResolution=function(b){return b instanceof a&&1<b.namespaces.length};a.isQName=function(b){return b instanceof a?b.namespaces&&1===b.namespaces.length:!0};a.isRuntimeName=function(a){return a instanceof Multiname&&a.isRuntimeName()};a.isRuntimeNamespace=function(a){return a instanceof Multiname&&a.isRuntimeNamespace()};a.isRuntime=function(a){return a instanceof
Multiname&&a.isRuntimeName()||a.isRuntimeNamespace()};a.getQualifiedName=function(a){!0;if(a instanceof Multiname){if(void 0!==a.qualifiedName)return a.qualifiedName;var d=String(a.name);if(isNumeric(d))return!0,a.qualifiedName=d;a=a.qualifiedName=b(a.namespaces[0].qualifiedName,d)}return a};a.qualifyName=function(a,d){return b(a.qualifiedName,d)};a.stripPublicQualifier=function(a){return 0!==a.indexOf("public$$")?void 0:a.substring(8)};a.fromQualifiedName=function(a){if(a instanceof Multiname)return a;
!0;var b=a.indexOf("$");if(!(0>b)&&ShumwayNamespace.PREFIXES[a.substring(0,b)]){var d=ShumwayNamespace.fromQualifiedName(a),b=a.indexOf("$",b+1);return new Multiname([d],a.substring(b+1))}};a.getFullQualifiedName=function(b){var d=a.getQualifiedName(b);b instanceof Multiname&&b.typeParameter&&(d+="$"+a.getFullQualifiedName(b.typeParameter));return d};a.PUBLIC_QUALIFIED_NAME_PREFIX="public$$";a.getPublicQualifiedName=function(a){return isNumeric(a)?toNumber(a):null!==a&&isObject(a)?a:"public$$"+a};
a.isPublicQualifiedName=function(a){return"number"===typeof a||isNumeric(a)||0===a.indexOf("public$$")};a.getAccessModifier=function(a){!0;if("number"===typeof a||"string"===typeof a||a instanceof Number)return"public";!0;return a.namespaces[0].getAccessModifier()};a.isNumeric=function(b){if("number"===typeof b)return!0;if("string"===typeof b)return isNumeric(b);!0;return!isNaN(parseInt(a.getName(b),10))};a.getName=function(a){!0;!0;return a.getName()};a.isAnyName=function(a){return"object"===typeof a&&
!a.isRuntimeName()&&!a.name};var e={};a.fromSimpleName=function(a){!0;if(a in e)return e[a];var b,d;b=a.lastIndexOf(".");0>=b&&(b=a.lastIndexOf(" "));0<b&&b<a.length-1?(d=a.substring(b+1).trim(),b=a.substring(0,b).trim()):(d=a,b="");return e[a]=new Multiname(ShumwayNamespace.fromSimpleName(b),d)};a.prototype.getQName=function(a){!0;!0;this.cache||(this.cache=[]);var b=this.cache[a];b||(b=this.cache[a]=new Multiname([this.namespaces[a]],this.name,this.flags));return b};a.prototype.hasQName=function(a){!0;
if(this.name!==a.name)return!1;for(var b=0;b<this.namespaces.length;b++)if(this.namespaces[b].isEqualTo(a.namespaces[0]))return!0;return!1};a.prototype.isAttribute=function(){return this.flags&1};a.prototype.isAnyName=function(){return Multiname.isAnyName(this)};a.prototype.isAnyNamespace=function(){return!this.isRuntimeNamespace()&&(0===this.namespaces.length||this.isAnyName()&&1!==this.namespaces.length)};a.prototype.isRuntimeName=function(){return this.flags&4};a.prototype.isRuntimeNamespace=function(){return this.flags&
2};a.prototype.isRuntime=function(){return this.flags&6};a.prototype.isQName=function(){return 1===this.namespaces.length&&!this.isAnyName()};a.prototype.hasTypeParameter=function(){return!!this.typeParameter};a.prototype.getName=function(){return this.name};a.prototype.getOriginalName=function(){!0;var a=this.namespaces[0].originalURI;a&&(a+=".");return a+this.name};a.prototype.getNamespace=function(){!0;!0;return this.namespaces[0]};a.prototype.nameToString=function(){if(this.isAnyName())return"*";
var a=this.getName();return this.isRuntimeName()?"[]":a};a.prototype.hasObjectName=function(){return"object"===typeof this.name};a.prototype.toString=function(){var a=this.isAttribute()?"@":"";if(this.isAnyNamespace())a+="*::"+this.nameToString();else if(this.isRuntimeNamespace())a+="[]::"+this.nameToString();else if(1===this.namespaces.length&&this.isQName())a+=this.namespaces[0].toString()+"::",a+=this.nameToString();else{for(var a=a+"{",b=0,d=this.namespaces.length;b<d;b++)a+=this.namespaces[b].toString(),
b+1<d&&(a+=",");a+="}::"+this.nameToString()}this.hasTypeParameter()&&(a+="<"+this.typeParameter.toString()+">");return a};a.Int=a.getPublicQualifiedName("int");a.Uint=a.getPublicQualifiedName("uint");a.Class=a.getPublicQualifiedName("Class");a.Array=a.getPublicQualifiedName("Array");a.Object=a.getPublicQualifiedName("Object");a.String=a.getPublicQualifiedName("String");a.Number=a.getPublicQualifiedName("Number");a.Boolean=a.getPublicQualifiedName("Boolean");a.Function=a.getPublicQualifiedName("Function");
a.XML=a.getPublicQualifiedName("XML");a.XMLList=a.getPublicQualifiedName("XMLList");return a}(),ConstantPool=function(){function a(a){var e,f,g=[0];f=a.readU30();for(e=1;e<f;++e)g.push(a.readS32());var m=[0];f=a.readU30();for(e=1;e<f;++e)m.push(a.readU32());var l=[NaN];f=a.readU30();for(e=1;e<f;++e)l.push(a.readDouble());var p=[""];f=a.readU30();for(e=1;e<f;++e)p.push(a.readUTFString(a.readU30()));this.positionAfterUTFStrings=a.pos;this.ints=g;this.uints=m;this.doubles=l;this.strings=p;g=[void 0];
f=a.readU30();for(e=1;e<f;++e)m=new ShumwayNamespace,m.parse(this,a),g.push(m);m=[void 0];f=a.readU30();for(e=1;e<f;++e){l=a.readU30();p=[];p.id=b++;for(var r=0;r<l;++r)p.push(g[a.readU30()]);m.push(p)}this.namespaces=g;this.namespaceSets=m;var s=[void 0],g=[];f=a.readU30();for(e=1;e<f;++e)s.push(Multiname.parse(this,a,s,g));g.forEach(function(a){var b=s[a.index];!0;a.multiname.name=b.name;a.multiname.namespaces=b.namespaces});this.multinames=s}var b=1;a.prototype.getValue=function(a,b){switch(a){case 3:return this.ints[b];
case 4:return this.uints[b];case 6:return this.doubles[b];case 1:return this.strings[b];case 11:return!0;case 10:return!1;case 12:return null;case 0:break;case 8:case 23:return this.namespaces[b];case 7:case 14:case 15:case 16:case 17:case 18:case 19:case 20:return this.multinames[b];case 2:warning("TODO: CONSTANT_Float may be deprecated?");break;default:!0}};return a}(),MethodInfo=function(){function a(a){!0;return"p"+String.fromCharCode(65+a)}function b(b,d){for(var g=b.constantPool,m=d.readU30(),
l=g.multinames[d.readU30()],p=[],r=0;r<m;r++)p.push({type:g.multinames[d.readU30()]});var s=g.strings[d.readU30()],v=d.readU8(),r=0;if(v&8){r=d.readU30();!0;for(r=m-r;r<m;r++){var w=d.readU30();p[r].value=g.getValue(d.readU8(),w)}}if(v&128)for(r=0;r<m;r++)d.readU30(),p[r].name=a(r);else for(r=0;r<m;r++)p[r].name=a(r);this.abc=b;this.flags=v;this.optionals=null;this.debugName=s;this.parameters=p;this.returnType=l}function d(a,b){var d=a.constantPool.multinames,d={start:b.readU30(),end:b.readU30(),
target:b.readU30(),typeName:d[b.readU30()],varName:d[b.readU30()]};!0;!0;return d}b.prototype={toString:function(){var a=getFlags(this.flags,"NEED_ARGUMENTS NEED_ACTIVATION NEED_REST HAS_OPTIONAL   SET_DXN HAS_PARAM_NAMES".split(" "));return(a?a+" ":"")+this.name},hasOptional:function(){return!!(this.flags&8)},needsActivation:function(){return!!(this.flags&2)},needsRest:function(){return!!(this.flags&4)},needsArguments:function(){return!!(this.flags&1)},isNative:function(){return!!(this.flags&32)},
isClassMember:function(){return this.holder instanceof ClassInfo},isInstanceMember:function(){return this.holder instanceof InstanceInfo},isScriptMember:function(){return this.holder instanceof ScriptInfo}};b.parseBody=function(a,b){var g=a.methods[b.readU30()];g.hasBody=!0;!0;g.maxStack=b.readU30();g.localCount=b.readU30();g.initScopeDepth=b.readU30();g.maxScopeDepth=b.readU30();g.code=b.readU8s(b.readU30());for(var m=[],l=b.readU30(),p=0;p<l;++p)m.push(d(a,b));g.exceptions=m;g.traits=parseTraits(a,
b,g)};b.prototype.hasExceptions=function(){return 0<this.exceptions.length};return b}(),MetaDataInfo=function(){function a(a,d){for(var e=a.constantPool.strings,f=this.name=e[d.readU30()],g=d.readU30(),m=[],l=[],p=0;p<g;p++)m[p]=e[d.readU30()];for(p=0;p<g;p++){var r=m[p];l[p]={key:r,value:e[d.readU30()]};r&&"native"===f&&(!0,this[r]=l[p].value)}this.value=l}a.prototype={toString:function(){return"["+this.name+"]"}};return a}();function attachHolder(a,b){!0;a.holder=b}
var InstanceInfo=function(){function a(a,e){this.id=b++;this.abc=a;var f=a.constantPool,g=a.methods;this.name=f.multinames[e.readU30()];!0;this.superName=f.multinames[e.readU30()];this.flags=e.readU8();this.protectedNs=void 0;this.flags&8&&(this.protectedNs=f.namespaces[e.readU30()]);var m=e.readU30();this.interfaces=[];for(var l=0;l<m;l++)this.interfaces[l]=f.multinames[e.readU30()];this.init=g[e.readU30()];this.init.isInstanceInitializer=!0;this.init.name=this.name;attachHolder(this.init,this);
this.traits=parseTraits(a,e,this)}var b=1;a.prototype={toString:function(){var a=getFlags(this.flags&8,["sealed","final","interface","protected"]),a=(a?a+" ":"")+this.name;this.superName&&(a+=" extends "+this.superName);return a},isFinal:function(){return this.flags&2},isSealed:function(){return this.flags&1},isInterface:function(){return this.flags&4}};return a}(),ClassInfo=function(){function a(a,e,f){this.id=b++;this.abc=a;this.init=a.methods[f.readU30()];this.init.isClassInitializer=!0;attachHolder(this.init,
this);this.traits=parseTraits(a,f,this);this.instanceInfo=e;this.instanceInfo.classInfo=this;this.defaultValue=Multiname.getQualifiedName(this.instanceInfo.name)===Multiname.Int||Multiname.getQualifiedName(this.instanceInfo.name)===Multiname.Uint?0:Multiname.getQualifiedName(this.instanceInfo.name)===Multiname.Number?NaN:Multiname.getQualifiedName(this.instanceInfo.name)===Multiname.Boolean?!1:null}var b=1;a.prototype.toString=function(){return this.instanceInfo.name.toString()};return a}();
function isClassOrInstanceInfo(a){return a instanceof ClassInfo||a instanceof InstanceInfo}
var ScriptInfo=function(){function a(a,e,f){this.id=b++;this.abc=a;this.name=a.name+"$script"+e;this.init=a.methods[f.readU30()];this.init.isScriptInitializer=!0;this.index=e;attachHolder(this.init,this);this.traits=parseTraits(a,f,this);this.traits.verified=!0}var b=1;a.prototype={get entryPoint(){return this.init},toString:function(){return this.name}};return a}(),AbcFile=function(){function a(a,d){var e=performance.now();this.name=d;var f,g,m=new AbcStream(a);f=m.readWord();if(3014671>f)throw Error("Invalid ABC File (magic = "+
Number(f).toString(16)+")");this.constantPool=new ConstantPool(m,d);this.methods=[];f=m.readU30();for(g=0;g<f;++g)this.methods.push(new MethodInfo(this,m));this.metadata=[];f=m.readU30();for(g=0;g<f;++g)this.metadata.push(new MetaDataInfo(this,m));this.instances=[];f=m.readU30();for(g=0;g<f;++g)this.instances.push(new InstanceInfo(this,m));this.classes=[];for(g=0;g<f;++g)this.classes.push(new ClassInfo(this,this.instances[g],m));this.scripts=[];f=m.readU30();for(g=0;g<f;++g)this.scripts.push(new ScriptInfo(this,
g,m));f=m.readU30();for(g=0;g<f;++g)MethodInfo.parseBody(this,m);console.info("Parse ABC: "+d+":"+(performance.now()-e))}a.prototype={get lastScript(){!0;return this.scripts[this.scripts.length-1]},toString:function(){return this.name}};return a}(),Bytecode=function(){function a(a){var d=a.readU8();this.op=d;this.originalPosition=a.position;var e=opcodeTable[d];e||unexpected("Unknown Op "+d);this.canThrow=e.canThrow;var f;switch(d){case 27:e=a.readS24();this.offsets=[];f=a.readU30()+1;for(d=0;d<f;d++)this.offsets.push(a.readS24());
this.offsets.push(e);break;default:d=0;for(f=e.operands.length;d<f;d++){var g=e.operands[d];switch(g.size){case "u08":this[g.name]=a.readU8();break;case "s08":this[g.name]=a.readS8();break;case "s16":this[g.name]=a.readS16();break;case "s24":this[g.name]=a.readS24();break;case "u30":this[g.name]=a.readU30();break;case "u32":this[g.name]=a.readU32();break;default:unexpected()}}}}a.prototype={makeBlockHead:function(a){if(this.succs)return a;this.bid=a;this.succs=[];this.preds=[];this.dominatees=[];
return a+1},trace:function(a){this.succs&&a.writeLn("#"+this.bid)},toString:function(a){var d=opcodeTable[this.op],e=d.name.padRight(" ",20),f,g;if(27===this.op){e+="targets:";f=0;for(g=this.targets.length;f<g;f++)e+=(0<f?",":"")+this.targets[f].position}else{f=0;for(g=d.operands.length;f<g;f++){var m=d.operands[f];if("offset"===m.name)e+="target:"+this.target.position;else{var e=e+(m.name+": "),l=this[m.name];if(a)switch(m.type){case "":e+=l;break;case "I":e+=a.constantPool.ints[l];break;case "U":e+=
a.constantPool.uints[l];break;case "D":e+=a.constantPool.doubles[l];break;case "S":e+=a.constantPool.strings[l];break;case "N":e+=a.constantPool.namespaces[l];break;case "CI":e+=a.classes[l];break;case "M":e+=a.constantPool.multinames[l];break;default:e+="?"}else e+=l}f<g-1&&(e+=", ")}}return e}};return a}(),Analysis=function(){function a(a){Counter.count("Analysis");this.method=a;this.method.code&&(Timer.start("Normalize"),this.normalizeBytecode(),Timer.stop())}a.prototype={normalizeBytecode:function(){function a(b,
d){if(b&&b[d])return b[d];var e=Object.create(Bytecode.prototype);e.op=237;e.position=d;b&&(b[d]=e);return e}function d(a){0!==a--&&a<e.parameters.length&&(e.parameters[a].isUsed=!0)}for(var e=this.method,f=[],g=[],m=new AbcStream(this.method.code),l;0<m.remaining();){var p=m.position;l=new Bytecode(m);switch(l.op){case 2:case 9:f[p]=g.length;continue;case 27:this.method.hasLookupSwitches=!0;l.targets=[];for(var r=l.offsets,s=0,v=r.length;s<v;s++)r[s]+=p;break;case 16:case 21:case 12:case 22:case 13:case 23:case 14:case 24:case 15:case 19:case 20:case 25:case 26:case 17:case 18:l.offset+=
m.position;break;case 208:case 209:case 210:case 211:d(l.op-208);break;case 98:d(l.index)}l.position=g.length;f[p]=g.length;g.push(l)}for(var m={},w=0,z=g.length;w<z;w++)switch(l=g[w],l.op){case 27:r=l.offsets;s=0;for(v=r.length;s<v;s++)p=f[r[s]],l.targets.push(g[p]||a(m,r[s])),r[s]=p;break;case 16:case 21:case 12:case 22:case 13:case 23:case 14:case 24:case 15:case 19:case 20:case 25:case 26:case 17:case 18:p=f[l.offset],l.target=g[p]||a(m,l.offset),l.offset=p}this.bytecodes=g;l=this.method.exceptions;
s=0;for(v=l.length;s<v;s++)r=l[s],r.start=f[r.start],r.end=f[r.end],r.offset=f[r.target],r.target=g[r.offset],r.target.exception=r},detectBasicBlocks:function(){var a=this.bytecodes,d=this.method.exceptions,e=0<d.length,f={},g,m,l,p;p=a[0].makeBlockHead(0);m=0;for(l=a.length-1;m<l;m++)switch(g=a[m],g.op){case 71:case 72:case 3:p=a[m+1].makeBlockHead(p);break;case 27:g=g.targets;for(var r=0,s=g.length;r<s;r++)p=g[r].makeBlockHead(p);p=a[m+1].makeBlockHead(p);break;case 16:case 21:case 12:case 22:case 13:case 23:case 14:case 24:case 15:case 19:case 20:case 25:case 26:case 17:case 18:p=
g.target.makeBlockHead(p),p=a[m+1].makeBlockHead(p)}g=a[l];switch(g.op){case 27:g=g.targets;r=0;for(s=g.length;r<s;r++)p=g[r].makeBlockHead(p);break;case 16:p=g.target.makeBlockHead(p);break;case 21:case 12:case 22:case 13:case 23:case 14:case 24:case 15:case 19:case 20:case 25:case 26:case 17:case 18:p=g.target.makeBlockHead(p),a[m+1]=getInvalidTarget(null,m+1),p=a[m+1].makeBlockHead(p)}if(e){r=0;for(s=d.length;r<s;r++)m=d[r],l=a[m.end+1],p=a[m.start].makeBlockHead(p),l&&(p=l.makeBlockHead(p)),p=
m.target.makeBlockHead(p)}var v=a[0];m=1;for(l=a.length;m<l;m++)if(a[m].succs){!0;f[v.bid]=v;g=a[m-1];v.end=g;var w=a[m];switch(g.op){case 71:case 72:case 3:break;case 27:r=0;for(s=g.targets.length;r<s;r++)v.succs.push(g.targets[r]);break;case 16:v.succs.push(g.target);break;case 21:case 12:case 22:case 13:case 23:case 14:case 24:case 15:case 19:case 20:case 25:case 26:case 17:case 18:v.succs.push(g.target);g.target!==w&&v.succs.push(w);break;default:v.succs.push(w)}if(e){r=v;s=[];g=0;for(var z=d.length;g<
z;g++){var A=d[g];r.position>=A.start&&r.end.position<=A.end&&s.push(A.target)}g=s;v.hasCatches=0<g.length;v.succs.push.apply(v.succs,g)}v=w}f[v.bid]=v;g=a[l-1];switch(g.op){case 27:r=0;for(s=g.targets.length;r<s;r++)v.succs.push(g.targets[r]);break;case 16:v.succs.push(g.target)}v.end=g;var C=BitSetFunctor(p),u=C.ADDRESS_BITS_PER_WORD,y=C.BITS_PER_WORD,D=C.BIT_INDEX_MASK;C.singleton=function(a){var b=new C;b.set(a.bid);b.count=1;b.dirty=0;return b};C.fromBlocks=function(a){var b=new C;b.setBlocks(a);
return b};a=C.prototype;C.singleword?(a.forEachBlock=function(a){!0;var b=this.bits;if(b)for(var d=0;d<y;d++)b&1<<d&&a(f[d])},a.choose=function(){var a=this.bits;if(a)for(var b=0;b<y;b++)if(a&1<<b)return f[b]},a.members=function(){var a=[],b=this.bits;if(b)for(var d=0;d<y;d++)b&1<<d&&a.push(f[d]);return a},a.setBlocks=function(a){for(var b=this.bits,d=0,e=a.length;d<e;d++)b|=1<<(a[d].bid&D);this.bits=b}):(a.forEachBlock=function(a){!0;for(var b=this.bits,d=0,e=b.length;d<e;d++){var g=b[d];if(g)for(var r=
0;r<y;r++)g&1<<r&&a(f[d*y+r])}},a.choose=function(){for(var a=this.bits,b=0,d=a.length;b<d;b++){var e=a[b];if(e)for(var g=0;g<y;g++)if(e&1<<g)return f[b*y+g]}},a.members=function(){for(var a=[],b=this.bits,d=0,e=b.length;d<e;d++){var g=b[d];if(g)for(var r=0;r<y;r++)g&1<<r&&a.push(f[d*y+r])}return a},a.setBlocks=function(a){for(var b=this.bits,d=0,e=a.length;d<e;d++){var f=a[d].bid;b[f>>u]|=1<<(f&D)}});this.BlockSet=C},normalizeReachableBlocks:function(){var a=this.bytecodes[0];!0;var d=this.BlockSet,
e=[],f={},g={},m=[a];for(g[a.bid]=!0;a=m.top();)if(f[a.bid]){if(1===f[a.bid]){f[a.bid]=2;e.push(a);for(var l=a.succs,p=0,r=l.length;p<r;p++)l[p].preds.push(a)}g[a.bid]=!1;m.pop()}else{f[a.bid]=1;g[a.bid]=!0;l=a.succs;p=0;for(r=l.length;p<r;p++){var s=l[p];g[s.bid]&&(a.spbacks||(a.spbacks=new d),a.spbacks.set(s.bid));!f[s.bid]&&m.push(s)}}this.blocks=e.reverse()},computeDominance:function(){var a=this.blocks,d=a.length,e=Array(d);e[0]=0;for(var f={},g=0;g<d;g++)f[a[g].bid]=g;for(var m=!0;m;){m=!1;
for(g=1;g<d;g++){var l=a[g].preds,p=l.length,r=f[l[0].bid];if(!(r in e))for(var s=1;s<p&&!(r=f[l[s].bid],r in e);s++);!0;for(s=0;s<p;s++){var v=f[l[s].bid];if(v!==r&&v in e){for(;v!==r;){for(;v>r;)v=e[v];for(;r>v;)r=e[r]}r=v}}e[g]!==r&&(e[g]=r,m=!0)}}a[0].dominator=a[0];for(g=1;g<d;g++)f=a[g],p=a[e[g]],f.dominator=p,p.dominatees.push(f),f.npreds=f.preds.length;d=[a[0]];for(a[0].level||(a[0].level=0);f=d.shift();){a=f.dominatees;s=0;for(p=a.length;s<p;s++)a[s].level=f.level+1;d.push.apply(d,a)}},analyzeControlFlow:function(){!0;
this.detectBasicBlocks();this.normalizeReachableBlocks();this.computeDominance();return this.analyzedControlFlow=!0},markLoops:function(){function a(b,e){var f=new d;f.setBlocks(b);f.recount();this.id=e;this.body=f;this.exit=new d;this.save={};this.head=new d;this.npreds=0}if(!this.analyzedControlFlow&&!this.analyzeControlFlow())return!1;var d=this.BlockSet,e;e=this.blocks;for(var f=new d,g=0,m=e.length;g<m;g++){var l=e[g],p=l.spbacks;if(p)for(var l=l.succs,r=0,s=l.length;r<s;r++){var v=l[r];p.get(v.bid)&&
f.set(v.dominator.bid)}}e=f.members();if(0>=e.length)return this.markedLoops=!0;e=e.sort(function(a,b){return a.level-b.level});f=0;for(g=e.length-1;0<=g;g--){for(var m=e[g],p=1,l={},r={},s=[],v=[],w=[],z=m.level+1,A=[m],C=void 0,u=void 0,C=void 0;C=A.top();)if(l[C.bid]){if(v.peek()===C){v.pop();var y=[];do u=s.pop(),r[u.bid]=!0,y.push(u);while(u!==C);(1<y.length||u.spbacks&&u.spbacks.get(u.bid))&&w.push(y)}A.pop()}else{l[C.bid]=p++;s.push(C);v.push(C);for(var u=C.succs,y=0,D=u.length;y<D;y++)if(C=
u[y],!(C.level<z)){var B=C.bid;if(l[B]){if(!r[B])for(;l[v.peek().bid]>l[B];)v.pop()}else A.push(C)}}p=w;if(0!==p.length){l=0;for(r=p.length;l<r;l++){s=p[l];v=new a(s,f++);w=0;for(z=s.length;w<z;w++)if(A=s[w],A.level===m.level+1&&!A.loop){A.loop=v;v.head.set(A.bid);C=A.preds;u=0;for(y=C.length;u<y;u++)v.body.get(C[u].bid)&&A.npreds--;v.npreds+=A.npreds}w=0;for(z=s.length;w<z;w++)A=s[w],A.level===m.level+1&&(A.npreds=v.npreds);v.head.recount()}}}return this.markedLoops=!0}};return a}();
(function(a){function b(a){for(var b=["leadingComments","loc"];a;)a.fields&&(b=a.fields.concat(b)),a=a.extends?f[a.extends]:null;return b}function d(a){return"_"+a}function e(g,l){if(!a[g]){for(var p=b(l),r=[],s=['this.type = "'+g+'";'],v=0,w=p.length;v<w;v++){var z=p[v];"@"===z.charAt(0)&&(p[v]=z=z.substr(1),r.push(z));s.push("this."+z+" = _"+z+";")}p=new Function(p.map(d),s.join("\n"));l.extends&&(s=e(l.extends,f[l.extends]),p.prototype=Object.create(s.prototype));Object.defineProperty(p.prototype,
"_children",{value:r,writable:!0,configurable:!0,enumerable:!1});a[g]=p}return a[g]}var f=a.lang={Node:{},Program:{"extends":"Node",fields:["@body"]},Statement:{"extends":"Node"},EmptyStatement:{"extends":"Statement"},BlockStatement:{"extends":"Statement",fields:["@body"]},ExpressionStatement:{"extends":"Statement",fields:["@expression"]},IfStatement:{"extends":"Statement",fields:["@test","@consequent","@alternate"]},LabeledStatement:{"extends":"Statement",fields:["@label","@body"]},BreakStatement:{"extends":"Statement",
fields:["@label"]},ContinueStatement:{"extends":"Statement",fields:["@label"]},WithStatement:{"extends":"Statement",fields:["@object","@body"]},SwitchStatement:{"extends":"Statement",fields:["@discriminant","@cases","lexical"]},ReturnStatement:{"extends":"Statement",fields:["@argument"]},ThrowStatement:{"extends":"Statement",fields:["@argument"]},TryStatement:{"extends":"Statement",fields:["@block","@handlers","@finalizer"]},WhileStatement:{"extends":"Statement",fields:["@test","@body"]},DoWhileStatement:{"extends":"Statement",
fields:["@body","@test"]},ForStatement:{"extends":"Statement",fields:["@init","@test","@update","@body"]},ForInStatement:{"extends":"Statement",fields:["@left","@right","@body","each"]},LetStatement:{"extends":"Statement",fields:["@head","@body"]},DebuggerStatement:{"extends":"Statement"},Declaration:{"extends":"Statement"},FunctionDeclaration:{"extends":"Declaration",fields:"@id @params @body @decltype generator expression @modifiers".split(" ")},VariableDeclaration:{"extends":"Declaration",fields:["kind",
"@declarations"]},VariableDeclarator:{"extends":"Node",fields:["@id","@init","@decltype","@arguments"]},Expression:{"extends":"Pattern"},ThisExpression:{"extends":"Expression"},ArrayExpression:{"extends":"Expression",fields:["@elements"]},ObjectExpression:{"extends":"Expression",fields:["@properties"]},Property:{"extends":"Node",fields:["@key","@value","kind"]},FunctionExpression:{"extends":"Expression",fields:"@id @params @body @decltype generator expression".split(" ")},SequenceExpression:{"extends":"Expression",
fields:["@expressions"]},UnaryExpression:{"extends":"Expression",fields:["operator","@argument","prefix"]},BinaryExpression:{"extends":"Expression",fields:["operator","@left","@right"]},AssignmentExpression:{"extends":"Expression",fields:["@left","operator","@right"]},UpdateExpression:{"extends":"Expression",fields:["operator","@argument","prefix"]},LogicalExpression:{"extends":"Expression",fields:["operator","@left","@right"]},ConditionalExpression:{"extends":"Expression",fields:["@test","@consequent",
"@alternate"]},NewExpression:{"extends":"Expression",fields:["@callee","@arguments"]},CallExpression:{"extends":"Expression",fields:["@callee","@arguments"]},MemberExpression:{"extends":"Expression",fields:["@object","@property","computed","kind"]},YieldExpression:{"extends":"Expression",fields:["@argument"]},ComprehensionExpression:{"extends":"Expression",fields:["@blocks","@filter"]},GeneratorExpression:{"extends":"Expression",fields:["@blocks","@filter"]},LetExpression:{"extends":"Expression",
fields:["@head","@body"]},Pattern:{"extends":"Node"},ObjectPattern:{"extends":"Pattern",fields:["@properties"]},ArrayPattern:{"extends":"Pattern",fields:["@elements"]},SwitchCase:{"extends":"Node",fields:["@test","@consequent"]},CatchClause:{"extends":"Node",fields:["@param","@guard","@body"]},Identifier:{"extends":"Expression",fields:["name","kind"]},Literal:{"extends":"Expression",fields:["value"]},Type:{"extends":"Node"},PointerType:{"extends":"Type",fields:["@base"]},ArrayType:{"extends":"PointerType",
fields:["length"]},StructType:{"extends":"Type",fields:["@id","@members","isUnion"]},MemberDeclarator:{"extends":"Node",fields:["modifiers","@declarator"]},ArrowType:{"extends":"Type",fields:["@params","@return"]},TypeIdentifier:{"extends":"Type",fields:["name"]},TypeAliasDirective:{"extends":"Node",fields:["@original","@alias"]},CastExpression:{"extends":"Expression",fields:["@as","@argument"]}};a.allFields=b;for(var g in f)e(g,f[g]);a.makePass=function(a,b){return function(d){for(var e,f,g,w=this._children,
z=0,A=w.length;z<A;z++)if(g=this[w[z]])if(g instanceof Array){f=this[w[z]]=[];for(var C=0,u=g.length;C<u;C++)g[C]?"function"===typeof g[C][a]&&(e=g[C][a](d),null!==e&&f.push(e)):f.push(g[C])}else"function"===typeof g[a]&&(e=g[a](d),this[w[z]]=null===e?void 0:e);return"function"===typeof this[b]?(d.logger&&"undefined"!==typeof this.loc?(d.logger.push(this),e=this[b](d),d.logger.pop()):e=this[b](d),null===e?null:e?e:this):this}};a.makePass=function(a,b,d){return function(e){for(var f,g,w,z=this._children,
A=0,C=z.length;A<C;A++)if(g=d?z.length-1-A:A,w=this[z[g]])if(w instanceof Array){g=this[z[g]]=[];var u;u=0;for(var y=w.length;u<y;u++)f=d?w.length-1-u:u,w[f]?"function"===typeof w[f][a]&&(f=w[f][a](e),null!==f&&(d?g.unshift(f):g.push(f))):d?g.unshift(w[f]):g.push(w[f])}else"function"===typeof w[a]&&(f=w[a](e),this[z[g]]=null===f?void 0:f);return"function"===typeof this[b]?(e.logger&&"undefined"!==typeof this.loc?(e.logger.push(this),f=this[b](e),e.logger.pop()):f=this[b](e),null===f?null:f?f:this):
this}};a.lift=function l(d){if(!d)return d;if(d instanceof Array)return d.map(function(a){return a?l(a):a});var e=d.type,g=a[e];if(!g)throw Error("unknown node type `"+e+"'");g=new g;g.loc=d.loc;for(var e=b(f[e]),v=0,w=e.length;v<w;v++){var z;"@"===e[v].charAt(0)?(z=e[v].substr(1),d[z]&&(g[z]=l(d[z]))):(z=e[v],g[z]=d[z])}return g};a.flatten=function p(a){if(!a)return a;if(a instanceof Array)return a.map(function(a){return p(a)});for(var d=a.type,e={type:d},d=b(f[d]),g=0,z=d.length;g<z;g++){var A;
"@"===d[g].charAt(0)?(A=d[g].substr(1),e[A]=a[A]?p(a[A]):null):(A=d[g],e[A]=a[A])}return e}})("undefined"===typeof exports?estransform={}:exports);
(function(a){function b(a){var b=a.length,d=[],e;for(e=0;e<b;e+=1)d[e]=a.charAt(e);return d}function d(a,b){var d="";for(b|=0;0<b;b>>>=1,a+=a)b&1&&(d+=a);return d}function e(a){a=a.charAt(a.length-1);return"\r"===a||"\n"===a}function f(a){var b={},d,e;for(d in a)a.hasOwnProperty(d)&&(e=a[d],b[d]="object"===typeof e&&null!==e?f(e):e);return b}function g(a,b){function d(a){return"object"===typeof a&&a instanceof Object&&!(a instanceof RegExp)}var e,f;for(e in b)b.hasOwnProperty(e)&&(f=b[e],d(f)?d(a[e])?
g(a[e],f):a[e]=g({},f):a[e]=f);return a}function m(a){return 0<="\t\v\f \u00a0".indexOf(a)||5760<=a.charCodeAt(0)&&0<="\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\ufeff".indexOf(a)}function l(a){return 0<="\n\r\u2028\u2029".indexOf(a)}function p(a){return"$"===a||"_"===a||"\\"===a||"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"0"<=a&&"9">=a||128<=a.charCodeAt(0)&&P.NonAsciiIdentifierPart.test(a)}function r(a,b){var d=a.charAt(a.length-1),e=b.charAt(0);return("+"===
d||"-"===d)&&d===e||p(d)&&p(e)?a+" "+b:m(d)||l(d)||m(e)||l(e)?a+b:a+N+b}function s(a){return F+a}function v(a,b){if("Line"===a.type)return e(a.value)?"//"+a.value:"//"+a.value+"\n";if(da.format.indent.adjustMultilineComment&&/[\n\r]/.test(a.value)){var d=b,f,g,r,l,p,w;f=("/*"+a.value+"*/").split(/\r\n|[\r\n]/);w=Number.MAX_VALUE;g=1;for(r=f.length;g<r;g+=1){l=f[g];for(p=0;p<l.length&&m(l[p]);)p+=1;w>p&&(w=p)}"undefined"!==typeof d?(l=F,"*"===f[1][w]&&(d+=" "),F=d):(1===w%2&&(w-=1),l=F);g=1;for(r=
f.length;g<r;g+=1)f[g]=s(f[g].slice(w));F=l;return f.join("\n")}return"/*"+a.value+"*/"}function w(a,b,d){return b<d?"("+a+")":a}function z(a,b){var d,e;d=!da.comment||!a.leadingComments;if(a.type===E.BlockStatement&&d)return N+y(a);if(a.type===E.EmptyStatement&&d)return";";d=F;F+=H;e=L+s(y(a,{semicolonOptional:b}));F=d;return e}function A(a,b){return a.type===E.BlockStatement&&(!da.comment||!a.leadingComments)&&!e(b)?N:e(b)?F+"":(""===L?" ":L)+(F+"")}function C(a){var b,d,e;b="(";d=0;for(e=a.params.length;d<
e;d+=1)b+=a.params[d].name,d+1<e&&(b+=","+N);return b+")"+z(a.body)}function u(a,d){var f,g,l,m,p,A;g=d.precedence;p=d.allowIn;A=d.allowCall;switch(a.type){case E.SequenceExpression:f="";p|=G.Sequence<g;m=0;for(l=a.expressions.length;m<l;m+=1)f+=u(a.expressions[m],{precedence:G.Assignment,allowIn:p,allowCall:!0}),m+1<l&&(f+=","+N);f=w(f,G.Sequence,g);break;case E.AssignmentExpression:p|=G.Assignment<g;f=w(u(a.left,{precedence:G.Call,allowIn:p,allowCall:!0})+N+a.operator+N+u(a.right,{precedence:G.Assignment,
allowIn:p,allowCall:!0}),G.Assignment,g);break;case E.ConditionalExpression:p|=G.Conditional<g;f=w(u(a.test,{precedence:G.LogicalOR,allowIn:p,allowCall:!0})+N+"?"+N+u(a.consequent,{precedence:G.Assignment,allowIn:p,allowCall:!0})+N+":"+N+u(a.alternate,{precedence:G.Assignment,allowIn:p,allowCall:!0}),G.Conditional,g);break;case E.LogicalExpression:case E.BinaryExpression:l=J[a.operator];p|=l<g;f=r(u(a.left,{precedence:l,allowIn:p,allowCall:!0}),a.operator);m=u(a.right,{precedence:l+1,allowIn:p,allowCall:!0});
f="/"===a.operator&&"/"===f.charAt(f.length-1)?f+(" "+m):r(f,m);f="in"===a.operator&&!p?"("+f+")":w(f,l,g);break;case E.CallExpression:f=u(a.callee,{precedence:G.Call,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!1});f+="(";m=0;for(l=a.arguments.length;m<l;m+=1)f+=u(a.arguments[m],{precedence:G.Assignment,allowIn:!0,allowCall:!0}),m+1<l&&(f+=","+N);f+=")";f=A?w(f,G.Call,g):"("+f+")";break;case E.NewExpression:l=a.arguments.length;p=void 0===d.allowUnparenthesizedNew||d.allowUnparenthesizedNew;
f=r("new",u(a.callee,{precedence:G.New,allowIn:!0,allowCall:!1,allowUnparenthesizedNew:p&&!V&&0===l}));if(!p||V||0<l){f+="(";for(m=0;m<l;m+=1)f+=u(a.arguments[m],{precedence:G.Assignment,allowIn:!0,allowCall:!0}),m+1<l&&(f+=","+N);f+=")"}f=w(f,G.New,g);break;case E.MemberExpression:f=u(a.object,{precedence:G.Call,allowIn:!0,allowCall:A,allowUnparenthesizedNew:!1});a.computed?f+="["+u(a.property,{precedence:G.Sequence,allowIn:!0,allowCall:A})+"]":(a.object.type===E.Literal&&"number"===typeof a.object.value&&
0>f.indexOf(".")&&!/[eExX]/.test(f)&&!(2<=f.length&&"0"===f[0])&&(f+="."),f+="."+a.property.name);f=w(f,G.Member,g);break;case E.UnaryExpression:m=u(a.argument,{precedence:G.Unary+(a.argument.type===E.UnaryExpression&&3>a.operator.length&&a.argument.operator===a.operator?1:0),allowIn:!0,allowCall:!0});""===N?f=r(a.operator,m):(f=a.operator,2<f.length&&(f+=" "),f+=m);f=w(f,G.Unary,g);break;case E.UpdateExpression:f=a.prefix?w(a.operator+u(a.argument,{precedence:G.Unary,allowIn:!0,allowCall:!0}),G.Unary,
g):w(u(a.argument,{precedence:G.Postfix,allowIn:!0,allowCall:!0})+a.operator,G.Postfix,g);break;case E.FunctionExpression:f="function";f=a.id?f+(" "+a.id.name):f+N;f+=C(a);break;case E.ArrayExpression:if(!a.elements.length){f="[]";break}f="["+L;g=F;F+=H;m=0;for(l=a.elements.length;m<l;m+=1)a.elements[m]?f+=s(u(a.elements[m],{precedence:G.Assignment,allowIn:!0,allowCall:!0})):(f+=F+"",m+1===l&&(f+=",")),m+1<l&&(f+=","+L);F=g;e(f)||(f+=L);f+=F+"]";break;case E.Property:f="get"===a.kind||"set"===a.kind?
a.kind+" "+u(a.key,{precedence:G.Sequence,allowIn:!0,allowCall:!0})+C(a.value):u(a.key,{precedence:G.Sequence,allowIn:!0,allowCall:!0})+":"+N+u(a.value,{precedence:G.Assignment,allowIn:!0,allowCall:!0});break;case E.ObjectExpression:if(!a.properties.length){f="{}";break}f="{"+L;g=F;F+=H;m=0;for(l=a.properties.length;m<l;m+=1)f+=s(u(a.properties[m],{precedence:G.Sequence,allowIn:!0,allowCall:!0})),m+1<l&&(f+=","+L);F=g;e(f)||(f+=L);f+=F+"}";break;case E.ThisExpression:f="this";break;case E.Identifier:f=
a.name;break;case E.Literal:if(a.hasOwnProperty("raw")&&ea)try{if(l=ea(a.raw).body[0].expression,l.type===E.Literal&&l.value===a.value){f=a.raw;break}}catch(z){}if(null===a.value){f="null";break}if("string"===typeof a.value){f=a.value;A="";var v;m=l=0;"undefined"===typeof f[0]&&(f=b(f));g=0;for(p=f.length;g<p;g+=1){v=f[g];if("'"===v)l+=1;else if('"'===v)m+=1;else if("/"===v&&R)A+="\\";else if(0<="\\\n\r\u2028\u2029".indexOf(v)){var y="\\";switch(v){case "\\":y+="\\";break;case "\n":y+="n";break;case "\r":y+=
"r";break;case "\u2028":y+="u2028";break;case "\u2029":y+="u2029";break;default:throw Error("Incorrectly classified character");}A+=y;continue}else if(R&&" ">v||!R&&!(T||" "<=v&&"~">=v)){var y=f[g+1],D=v.charCodeAt(0),B=D.toString(16),P="\\";switch(v){case "\b":P+="b";break;case "\f":P+="f";break;case "\t":P+="t";break;default:P=R||255<D?P+("u"+"0000".slice(B.length)+B):"\x00"===v&&0>"0123456789".indexOf(y)?P+"0":"\v"===v?P+"v":P+("x"+"00".slice(B.length)+B)}A+=P;continue}A+=v}l=!("double"===M||"auto"===
M&&m<l);f=A;A=l?"'":'"';"undefined"===typeof f[0]&&(f=b(f));g=0;for(p=f.length;g<p;g+=1){v=f[g];if("'"===v&&l||'"'===v&&!l)A+="\\";A+=v}f=A+(l?"'":'"');break}if("number"===typeof a.value){f=a.value;if(f!==f)throw Error("Numeric literal whose value is NaN");if(0>1/f)throw Error("Numeric literal whose value is negative");if(f===1/0)f=R?"null":K?"1e400":"1e+400";else{g=""+f;if(K&&!(3>g.length)){p=g.indexOf(".");!R&&("0"===g.charAt(0)&&1===p)&&(p=0,g=g.slice(1));l=g;g=g.replace("e+","e");m=0;if(0<(A=
l.indexOf("e")))m=+l.slice(A+1),l=l.slice(0,A);0<=p&&(m-=l.length-p-1,l=+(l.slice(0,p)+l.slice(p+1))+"");for(A=0;"0"===l.charAt(l.length+A-1);)A-=1;0!==A&&(m-=A,l=l.slice(0,A));0!==m&&(l+="e"+m);if((l.length<g.length||I&&1E12<f&&Math.floor(f)===f&&(l="0x"+f.toString(16)).length<g.length)&&+l===f)g=l}f=g}break}f=a.value.toString()}if(void 0===f)throw Error("Unknown expression type: "+a.type);return f}function y(a,b){var f,g,m,p,w,D,B;D=!0;B=";";b&&(D=void 0===b.allowIn||b.allowIn,!ca&&!0===b.semicolonOptional&&
(B=""));switch(a.type){case E.BlockStatement:m="{"+L;p=F;F+=H;f=0;for(g=a.body.length;f<g;f+=1)w=s(y(a.body[f],{semicolonOptional:f===g-1})),m+=w,e(w)||(m+=L);F=p;m+=F+"}";break;case E.BreakStatement:m=a.label?"break "+a.label.name+B:"break"+B;break;case E.ContinueStatement:m=a.label?"continue "+a.label.name+B:"continue"+B;break;case E.DoWhileStatement:m=r("do",z(a.body));m+=A(a.body,m);m+="while"+N+"("+u(a.test,{precedence:G.Sequence,allowIn:!0,allowCall:!0})+")"+B;break;case E.CatchClause:p=F;F+=
H;m="catch"+N+"("+u(a.param,{precedence:G.Sequence,allowIn:!0,allowCall:!0})+")";F=p;m+=z(a.body);break;case E.DebuggerStatement:m="debugger"+B;break;case E.EmptyStatement:m=";";break;case E.ExpressionStatement:m=u(a.expression,{precedence:G.Sequence,allowIn:!0,allowCall:!0});m="{"===m.charAt(0)||"function"===m.slice(0,8)&&0<=" (".indexOf(m.charAt(8))?"("+m+")"+B:m+B;break;case E.VariableDeclarator:m=a.init?a.id.name+N+"="+N+u(a.init,{precedence:G.Assignment,allowIn:D,allowCall:!0}):a.id.name;break;
case E.VariableDeclaration:m=a.kind;if(1===a.declarations.length&&a.declarations[0].init&&a.declarations[0].init.type===E.FunctionExpression)m+=" "+y(a.declarations[0],{allowIn:D});else{p=F;F+=H;w=a.declarations[0];m=da.comment&&w.leadingComments?m+("\n"+s(y(w,{allowIn:D}))):m+(" "+y(w,{allowIn:D}));f=1;for(g=a.declarations.length;f<g;f+=1)w=a.declarations[f],m=da.comment&&w.leadingComments?m+(","+L+s(y(w,{allowIn:D}))):m+(","+N+y(w,{allowIn:D}));F=p}m+=B;break;case E.ThrowStatement:m=r("throw",u(a.argument,
{precedence:G.Sequence,allowIn:!0,allowCall:!0}))+B;break;case E.TryStatement:m="try"+z(a.block);m+=A(a.block,m);f=0;for(g=a.handlers.length;f<g;f+=1)if(m+=y(a.handlers[f]),a.finalizer||f+1!==g)m+=A(a.handlers[f].body,m);a.finalizer&&(m+="finally"+z(a.finalizer));break;case E.SwitchStatement:p=F;F+=H;m="switch"+N+"("+u(a.discriminant,{precedence:G.Sequence,allowIn:!0,allowCall:!0})+")"+N+"{"+L;F=p;if(a.cases){f=0;for(g=a.cases.length;f<g;f+=1)w=s(y(a.cases[f],{semicolonOptional:f===g-1})),m+=w,e(w)||
(m+=L)}m+=F+"}";break;case E.SwitchCase:p=F;F+=H;m=a.test?r("case",u(a.test,{precedence:G.Sequence,allowIn:!0,allowCall:!0}))+":":"default:";f=0;if((g=a.consequent.length)&&a.consequent[0].type===E.BlockStatement)w=z(a.consequent[0]),m+=w,f=1;for(f!==g&&!e(m)&&(m+=L);f<g;f+=1)w=s(y(a.consequent[f],{semicolonOptional:f===g-1&&""===B})),m+=w,f+1!==g&&!e(w)&&(m+=L);F=p;break;case E.IfStatement:p=F;F+=H;a.alternate?a.alternate.type===E.IfStatement?(m="if"+N+"("+u(a.test,{precedence:G.Sequence,allowIn:!0,
allowCall:!0})+")",F=p,m+=z(a.consequent),m+=A(a.consequent,m),m+="else "+y(a.alternate)):(m="if"+N+"("+u(a.test,{precedence:G.Sequence,allowIn:!0,allowCall:!0})+")",F=p,m+=z(a.consequent),m+=A(a.consequent,m),m=r(m+"else",z(a.alternate,""===B))):(m="if"+N+"("+u(a.test,{precedence:G.Sequence,allowIn:!0,allowCall:!0})+")",F=p,m+=z(a.consequent,""===B));break;case E.ForStatement:p=F;F+=H;m="for"+N+"(";m=a.init?a.init.type===E.VariableDeclaration?m+y(a.init,{allowIn:!1}):m+(u(a.init,{precedence:G.Sequence,
allowIn:!1,allowCall:!0})+";"):m+";";m=a.test?m+(N+u(a.test,{precedence:G.Sequence,allowIn:!0,allowCall:!0})+";"):m+";";m=a.update?m+(N+u(a.update,{precedence:G.Sequence,allowIn:!0,allowCall:!0})+")"):m+")";F=p;m+=z(a.body,""===B);break;case E.ForInStatement:m="for"+N+"(";a.left.type===E.VariableDeclaration?(p=F,F+=H+H,m+=a.left.kind+" "+y(a.left.declarations[0],{allowIn:!1})):(p=F,F+=H,m+=u(a.left,{precedence:G.Call,allowIn:!0,allowCall:!0}));p=F=p;F+=H;m=r(m,"in");m=r(m,u(a.right,{precedence:G.Sequence,
allowIn:!0,allowCall:!0}))+")";F=p;m+=z(a.body,""===B);break;case E.LabeledStatement:m=a.label.name+":"+z(a.body,""===B);break;case E.Program:m="";f=0;for(g=a.body.length;f<g;f+=1)w=s(y(a.body[f],{semicolonOptional:f===g-1})),m+=w,f+1<g&&!e(w)&&(m+=L);break;case E.FunctionDeclaration:m="function"+N;a.id&&(m+=(""===N?" ":"")+a.id.name);m+=C(a);break;case E.ReturnStatement:m=a.argument?r("return",u(a.argument,{precedence:G.Sequence,allowIn:!0,allowCall:!0}))+B:"return"+B;break;case E.WhileStatement:p=
F;F+=H;m="while"+N+"("+u(a.test,{precedence:G.Sequence,allowIn:!0,allowCall:!0})+")";F=p;m+=z(a.body,""===B);break;case E.WithStatement:p=F,F+=H,m="with"+N+"("+u(a.object,{precedence:G.Sequence,allowIn:!0,allowCall:!0})+")",F=p,m+=z(a.body,""===B)}if(void 0===m)throw Error("Unknown statement type: "+a.type);if(da.comment){f=m;if(a.leadingComments){p=f;B=a.leadingComments[0];f=v(B);e(f)||(f+="\n");g=1;for(m=a.leadingComments.length;g<m;g+=1)B=a.leadingComments[g],B=v(B),e(B)||(B+="\n"),f+=F+B;f+=F+
p}if(a.trailingComments){p=!e(f);g=F+f+H;for(m=g.length-1;0<=m&&!l(g.charAt(m));m-=1);w=d(" ",g.length-1-m);g=0;for(m=a.trailingComments.length;g<m;g+=1)B=a.trailingComments[g],p?(f=0===g?f+H:f+w,f+=v(B,w)):f+=s(v(B)),g!==m-1&&!e(f)&&(f+="\n")}return f}return m}function D(a,b){var d,e,f,g,l,m,r;d=[a];for(e=[];d.length;)if(f=d.pop()){g=b.enter?b.enter(f):void 0;if(g===S.Break)break;d.push(null);e.push(f);if(g!==S.Skip){m=Q[f.type];for(g=m.length;0<=(g-=1);)if(r=f[m[g]])if(O(r))for(l=r.length;0<=(l-=
1);)r[l]&&d.push(r[l]);else d.push(r)}}else if(f=e.pop(),g=b.leave?b.leave(f):void 0,g===S.Break)break}function B(a,b){var d,e,f,g;e=b.length;for(f=0;e;)d=e>>>1,g=f+d,b[g].range[0]>a.range[0]?e=d:(f=g+1,e-=d+1);d=f;a.extendedRange=[a.range[0],a.range[1]];d!==b.length&&(a.extendedRange[1]=b[d].range[0]);d-=1;0<=d&&(d<b.length?a.extendedRange[0]=b[d].range[1]:(void 0).length&&(a.extendedRange[1]=b[b.length-1].range[0]));return a}var E,G,J,P,Q,S,O,F,H,R,K,I,M,T,L,N,V,ca,da,ea;E={AssignmentExpression:"AssignmentExpression",
ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",
FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",
TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"};G={Sequence:0,Assignment:1,Conditional:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Unary:13,Postfix:14,Call:15,New:16,Member:17,Primary:18};J={"||":G.LogicalOR,"&&":G.LogicalAND,
"|":G.BitwiseOR,"^":G.BitwiseXOR,"&":G.BitwiseAND,"==":G.Equality,"!=":G.Equality,"===":G.Equality,"!==":G.Equality,"<":G.Relational,">":G.Relational,"<=":G.Relational,">=":G.Relational,"in":G.Relational,"instanceof":G.Relational,"<<":G.BitwiseSHIFT,">>":G.BitwiseSHIFT,">>>":G.BitwiseSHIFT,"+":G.Additive,"-":G.Additive,"*":G.Multiplicative,"%":G.Multiplicative,"/":G.Multiplicative};P={NonAsciiIdentifierPart:RegExp("[\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0\u08a2-\u08ac\u08e4-\u08fe\u0900-\u0963\u0966-\u096f\u0971-\u0977\u0979-\u097f\u0981-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2\u0d02\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191c\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19d9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1d00-\u1de6\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200c\u200d\u203f\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua697\ua69f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua827\ua840-\ua873\ua880-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua900-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a\uaa7b\uaa80-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabea\uabec\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]")};
(O=Array.isArray)||(O=function(a){return"[object Array]"===Object.prototype.toString.call(a)});Q={AssignmentExpression:["left","right"],ArrayExpression:["elements"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DoWhileStatement:["body","test"],DebuggerStatement:[],EmptyStatement:[],ExpressionStatement:["expression"],
ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],Identifier:[],IfStatement:["test","consequent","alternate"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],NewExpression:["callee","arguments"],ObjectExpression:["properties"],Program:["body"],Property:["key","value"],ReturnStatement:["argument"],SequenceExpression:["expressions"],
SwitchStatement:["descriminant","cases"],SwitchCase:["test","consequent"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handlers","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],PointerType:["base"],StructType:["id","fields"],FieldDeclarator:["id","decltype"],ArrowType:["params","return"],TypeIdentifier:[],TypeAliasDirective:["original",
"alias"],CastExpression:["as","argument"]};S={Break:1,Skip:2};a.version="0.0.6-dev";a.generate=function(a,b){var e={indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0}};"undefined"!==typeof b?("string"===typeof b.indent&&(e.format.indent.style=b.indent),"number"===typeof b.base&&(e.format.indent.base=b.base),b=g(e,b),H=b.format.indent.style,
F="string"===typeof b.base?b.base:d(H,b.format.indent.base)):(b=e,H=b.format.indent.style,F=d(H,b.format.indent.base));R=b.format.json;K=b.format.renumber;I=R?!1:b.format.hexadecimal;M=R?"double":b.format.quotes;T=b.format.escapeless;b.format.compact?L=N=H=F="":(L="\n",N=" ");V=b.format.parentheses;ca=b.format.semicolons;ea=R?null:b.parse;da=b;switch(a.type){case E.BlockStatement:case E.BreakStatement:case E.CatchClause:case E.ContinueStatement:case E.DoWhileStatement:case E.DebuggerStatement:case E.EmptyStatement:case E.ExpressionStatement:case E.ForStatement:case E.ForInStatement:case E.FunctionDeclaration:case E.IfStatement:case E.LabeledStatement:case E.Program:case E.ReturnStatement:case E.SwitchStatement:case E.SwitchCase:case E.ThrowStatement:case E.TryStatement:case E.VariableDeclaration:case E.VariableDeclarator:case E.WhileStatement:case E.WithStatement:return y(a);
case E.AssignmentExpression:case E.ArrayExpression:case E.BinaryExpression:case E.CallExpression:case E.ConditionalExpression:case E.FunctionExpression:case E.Identifier:case E.Literal:case E.LogicalExpression:case E.MemberExpression:case E.NewExpression:case E.ObjectExpression:case E.Property:case E.SequenceExpression:case E.ThisExpression:case E.UnaryExpression:case E.UpdateExpression:return u(a,{precedence:G.Sequence,allowIn:!0,allowCall:!0})}throw Error("Unknown node type: "+a.type);};a.traverse=
D;a.attachComments=function(a,b,d){var e=[],g,l;if(!a.range)throw Error("attachComments needs range information");if(!d.length){if(b.length){l=0;for(g=b.length;l<g;l+=1)d=f(b[l]),d.extendedRange=[0,a.range[0]],e.push(d);a.leadingComments=e}return a}l=0;for(g=b.length;l<g;l+=1)e.push(B(f(b[l]),d));D(a,{cursor:0,enter:function(a){for(var b;this.cursor<e.length;){b=e[this.cursor];if(b.extendedRange[1]>a.range[0])break;b.extendedRange[1]===a.range[0]?(a.leadingComments||(a.leadingComments=[]),a.leadingComments.push(b),
e.splice(this.cursor,1)):this.cursor+=1}if(this.cursor===e.length)return S.Break;if(e[this.cursor].extendedRange[0]>a.range[1])return S.Skip}});D(a,{cursor:0,leave:function(a){for(var b;this.cursor<e.length;){b=e[this.cursor];if(a.range[1]<b.extendedRange[0])break;a.range[1]===b.extendedRange[0]?(a.trailingComments||(a.trailingComments=[]),a.trailingComments.push(b),e.splice(this.cursor,1)):this.cursor+=1}if(this.cursor===e.length)return S.Break;if(e[this.cursor].extendedRange[0]>a.range[1])return S.Skip}});
return a}})("undefined"===typeof exports?escodegen={}:exports);
var verifierOptions=systemOptions.register(new OptionSet("Verifier Options")),verifierTraceLevel=verifierOptions.register(new Option("tv","tv","number",0,"Verifier Trace Level")),Type=function(){function a(){unexpected("Type is Abstract")}a.prototype.equals=function(a){return this===a};a.prototype.merge=function(a){unexpected("Merging "+this+" with "+a)};a.cache={name:{},classInfo:[],instanceInfo:[],scriptInfo:[],methodInfo:[]};a.from=function(b,e){var f=null;b instanceof ClassInfo?f=a.cache.classInfo:
b instanceof InstanceInfo?f=a.cache.instanceInfo:b instanceof ScriptInfo&&(f=a.cache.scriptInfo);return f?f[b.id]||(f[b.id]=new TraitsType(b,e)):b instanceof Activation?new TraitsType(b.methodInfo):b instanceof Global?new TraitsType(b.scriptInfo):b instanceof Interface?new TraitsType(b.classInfo,e):b instanceof MethodInfo?new MethodType(b):e&&b instanceof Class?a.from(b.classInfo,e):Type.Any};a.fromSimpleName=function(a,b){return Type.fromName(Multiname.fromSimpleName(a),b)};a.fromName=function(b,
e){if(void 0===b)return Type.Undefined;var f=Multiname.isQName(b)?Multiname.getFullQualifiedName(b):void 0;if(f){var g=a.cache.name[f];if(g)return g}if(f===Multiname.getPublicQualifiedName("void"))return Type.Void;!0;g=(g=e.findClassInfo(b))?a.from(g,e):Type.Any;b.hasTypeParameter()&&(g=new ParameterizedType(g,a.fromName(b.typeParameter,e)));return a.cache.name[f]=g};a.prototype.applyType=function(a){return new ParameterizedType(this,a)};a.prototype.toString=function(){return"[type]"};a.prototype.isNumeric=
function(){return this===Type.Int||this===Type.Uint||this===Type.Number};a.prototype.isString=function(){return this===Type.String};a.prototype.isDirectlyReadable=function(){return this===Type.Array};a.prototype.isIndexedReadable=function(){return this.isParameterizedType()};a.prototype.isDirectlyWriteable=function(){return this===Type.Array};a.prototype.isIndexedWriteable=function(){return this.isParameterizedType()};a.prototype.isVector=function(){return this.isParameterizedType()};a.prototype.isNotDirectlyIndexable=
function(){return this===Type.Any||this===Type.XML||this===Type.XMLList||this===Type.Dictionary};a.prototype.isParameterizedType=function(){return this instanceof ParameterizedType};a.prototype.instanceType=function(){return this};a.prototype.getTrait=function(){return null};a.prototype.super=function(){unexpected("Can't call super on "+this)};a.prototype.isSubtypeOf=function(a){return this===a||this.equals(a)?!0:this.merge(a)===this};var b=!1;a.initializeTypes=function(d){b||(a.Any=new AtomType("Any"),
a.Null=new AtomType("Null"),a.Undefined=new AtomType("Undefined"),a.Void=new AtomType("Void"),a.Int=Type.fromSimpleName("int",d).instanceType(),a.Uint=Type.fromSimpleName("uint",d).instanceType(),a.Class=Type.fromSimpleName("Class",d).instanceType(),a.Array=Type.fromSimpleName("Array",d).instanceType(),a.Object=Type.fromSimpleName("Object",d).instanceType(),a.String=Type.fromSimpleName("String",d).instanceType(),a.Number=Type.fromSimpleName("Number",d).instanceType(),a.Boolean=Type.fromSimpleName("Boolean",
d).instanceType(),a.Function=Type.fromSimpleName("Function",d).instanceType(),a.XML=Type.fromSimpleName("XML",d).instanceType(),a.XMLList=Type.fromSimpleName("XMLList",d).instanceType(),a.Dictionary=Type.fromSimpleName("flash.utils.Dictionary",d).instanceType(),b=!0)};return a}(),AtomType=function(){function a(a){this.name=a}a.prototype=Object.create(Type.prototype);a.prototype.toString=function(){if(this===Type.Any)return"?";if(this===Type.Undefined)return"_";if(this===Type.Null)return"X";if(this===
Type.Void)return"V";unexpected()};a.prototype.merge=function(a){return a instanceof TraitsType?Type.Any:this===a?this:Type.Any};return a}(),MethodType=function(){function a(a){this.methodInfo=a}a.prototype=Object.create(Type.prototype);a.prototype.toString=function(){return"MT "+this.methodInfo};return a}(),TraitsType=function(){function a(a,b){!0;this.object=a;this.traits=a.traits;this.domain=b;this.object instanceof InstanceInfo&&!0}function b(a){if(a instanceof ScriptInfo)return"SI";if(a instanceof
ClassInfo)return"CI:"+a.instanceInfo.name.name;if(a instanceof InstanceInfo)return"II:"+a.name.name;if(a instanceof MethodInfo)return"MI";if(a instanceof Activation)return"AC";!0}function d(a,b,g){var m=!g,l;if(Multiname.isQName(b)){v=Multiname.getQualifiedName(b);r=0;for(s=a.length;r<s;r++)if(l=a[r],Multiname.getQualifiedName(l.name)===v&&!(g&&l.isGetter()||m&&l.isSetter()))return l}else if(!(b instanceof MultinameType)){!0;for(var p,r=0,s=b.namespaces.length;r<s;r++){var v=b.getQName(r);if(b.namespaces[r].isDynamic())p=
v;else if(l=d(a,v,g))return l}if(p)return d(a,p,g)}}a.prototype=Object.create(Type.prototype);a.prototype.getTrait=function(a,b,g){if(a instanceof MultinameType)return null;if(g&&(this.isInstanceInfo()||this.isClassInfo())){g=this;do{var m=g.getTrait(a,b,!1);m||(g=g.super())}while(!m&&g);return m}return d(this.traits,a,b)};a.prototype.getTraitAt=function(a){if(this.object instanceof ScriptInfo||this.object instanceof MethodInfo){a:{for(var b=this.traits,d=b.length-1;0<=d;d--)if(b[d].slotId===a){a=
b[d];break a}unexpected("Cannot find trait with slotId: "+a+" in "+b);a=void 0}return a}};a.prototype.toString=function(){switch(this){case Type.Int:return"I";case Type.Uint:return"U";case Type.Array:return"A";case Type.Object:return"O";case Type.String:return"S";case Type.Number:return"N";case Type.Boolean:return"B";case Type.Function:return"F"}return b(this.object)};a.prototype.instanceType=function(){!0;return this.instanceCache||(this.instanceCache=Type.from(this.object.instanceInfo,this.domain))};
a.prototype.classType=function(){!0;return this.instanceCache||(this.instanceCache=Type.from(this.object.classInfo,this.domain))};a.prototype.super=function(){if(this.object instanceof ClassInfo)return Type.Class;!0;if(this.object.superName){var a=Type.fromName(this.object.superName,this.domain).instanceType();!0;return a}return null};a.prototype.isClassInfo=function(){return this.object instanceof ClassInfo};a.prototype.isInstanceInfo=function(){return this.object instanceof InstanceInfo};a.prototype.isInstanceOrClassInfo=
function(){return this.isInstanceInfo()||this.isClassInfo()};a.prototype.equals=function(a){return this.traits===a.traits};a.prototype.merge=function(a){if(a instanceof TraitsType){if(this.equals(a))return this;if(this.isNumeric()&&a.isNumeric())return Type.Number;if(this.isInstanceInfo()&&a.isInstanceInfo()){for(var b=[],d=this;d;d=d.super())b.push(d);for(d=a;d;d=d.super())for(a=0;a<b.length;a++)if(b[a].equals(d))return d;return Type.Object}}return Type.Any};return a}(),MultinameType=function(){function a(a,
d,e){this.namespaces=a;this.name=d;this.flags=e}a.prototype=Object.create(Type.prototype);a.prototype.toString=function(){return"MN"};return a}(),ParameterizedType=function(){function a(a,d){this.type=a;this.parameter=d}a.prototype=Object.create(Type.prototype);a.prototype.toString=function(){return this.type+"<"+this.parameter+">"};a.prototype.instanceType=function(){!0;return new ParameterizedType(this.type.instanceType(),this.parameter.instanceType())};a.prototype.equals=function(a){return a instanceof
ParameterizedType?this.type.equals(a.type)&&this.parameter.equals(a.parameter):!1};a.prototype.merge=function(a){return a instanceof TraitsType&&this.equals(a)?this:Type.Any};return a}(),TypeInformation=function(){function a(){}a.prototype.toString=function(){return toKeyValueArray(this).map(function(a){return a[0]+": "+a[1]}).join(" | ")};return a}(),Verifier=function(){function a(a){this.name="VerifierError";this.message=a||""}function b(){this.writer=new IndentingWriter}var d,e=function(){this.id=
l+=1;this.stack=[];this.scope=[];this.local=[]},f=function(a,b){if(a.length!=b.length)return!1;for(var d=a.length-1;0<=d;d--)if(!a[d].equals(b[d]))return!1;return!0},g=function(a,b){if(a.length!=b.length)return!1;for(var d=a.length-1;0<=d;d--)if(!(a[d]===b[d]||a[d].equals(b[d]))&&a[d].merge(b[d])!==a[d])return!1;return!0},m=function(a,b){!0;for(var d=a.length-1;0<=d;d--)!0,a[d]!==b[d]&&(a[d]=a[d].merge(b[d]))},l=0;e.prototype.clone=function(){var a=new d;a.originalId=this.id;a.stack=this.stack.slice(0);
a.scope=this.scope.slice(0);a.local=this.local.slice(0);return a};e.prototype.trace=function(a){a.writeLn(this.toString())};e.prototype.toString=function(){return"<"+this.id+(this.originalId?":"+this.originalId:"")+", L["+this.local.join(", ")+"], S["+this.stack.join(", ")+"], $["+this.scope.join(", ")+"]>"};e.prototype.equals=function(a){return f(this.stack,a.stack)&&f(this.scope,a.scope)&&f(this.local,a.local)};e.prototype.isSubset=function(a){return g(this.stack,a.stack)&&g(this.scope,a.scope)&&
g(this.local,a.local)};e.prototype.merge=function(a){m(this.local,a.local);m(this.stack,a.stack);m(this.scope,a.scope)};d=e;var p=function(a,b){this.scope=b;this.methodInfo=a;this.domain=a.abc.domain;this.writer=new IndentingWriter;this.returnType=Type.Undefined};p.prototype.verify=function(){var a=this.methodInfo,b=verifierTraceLevel.value?this.writer:null,e=a.analysis.blocks;e.forEach(function(a){a.entryState=a.exitState=null});b&&this.methodInfo.trace(b);var f=new d;!0;this.thisType=a.holder?Type.from(a.holder,
this.domain):Type.Any;f.local.push(this.thisType);for(var g=0;g<a.parameters.length;g++)f.local.push(Type.fromName(a.parameters[g].type,this.domain).instanceType());var l=a.localCount-a.parameters.length-1;if(a.needsRest()||a.needsArguments())f.local.push(Type.Array),l-=1;for(g=0;g<l;g++)f.local.push(Type.Undefined);!0;b&&f.trace(b);a=0;for(g=e.length;a<g;a++)e[a].bdo=a;var m=new SortedList(function(a,b){return a.bdo-b.bdo});e[0].entryState=f;for(m.push(e[0]);m.peek();){var p=m.pop(),y=p.exitState=
p.entryState.clone();this.verifyBlock(p,y);p.succs.forEach(function(a){m.contains(a)?(b&&b.writeLn("Forward Merged Block: "+a.bid+" "+y.toString()+" with "+a.entryState.toString()),a.entryState.merge(y),b&&b.writeLn("Merged State: "+a.entryState)):a.entryState?a.entryState.isSubset(y)||(b&&b.writeLn("Backward Merged Block: "+p.bid+" with "+a.bid+" "+y.toString()+" with "+a.entryState.toString()),a.entryState.merge(y),m.push(a),b&&b.writeLn("Merged State: "+a.entryState)):(a.entryState=y.clone(),m.push(a),
b&&b.writeLn("Added Block: "+a.bid+" to worklist: "+a.entryState.toString()))})}b&&b.writeLn("Inferred return type: "+this.returnType);this.methodInfo.inferredReturnType=this.returnType};p.prototype.verifyBlock=function(b,d){function e(a){return a instanceof TraitsType||a instanceof ParameterizedType?a===Type.Function||a===Type.Class||a===Type.Object?Type.Object:a.instanceType():Type.Any}function f(){return K.ti||(K.ti=new TypeInformation)}function g(a){!0;f().type=a;P.push(a)}function l(){return P.pop()}
function m(a,b){if(a instanceof MultinameType)return Type.Any;for(var d=Q.length-1;0<=d;d--)if(Q[d]instanceof TraitsType){var e=Q[d].getTrait(a,!1,!0);if(e)return f().scopeDepth=Q.length-d-1,Q[d]}else return Type.Any;if(isClassOrInstanceInfo(R.holder)){var g;R.holder instanceof ClassInfo?g=Type.from(R.holder,F):R.holder instanceof InstanceInfo&&(g=Type.from(R.holder,F).classType());if(e=g.getTrait(a,!1,!0))return f().object=LazyInitializer.create(g.object),g}return G&&(G.object&&a instanceof Multiname)&&
(d=G.findScopeProperty(a.namespaces,a.name,a.flags,F,b,!0))?(e=G.findDepth(d),!0,f().scopeDepth=e+Q.length,Type.from(d,F)):(d=F.findDefiningScript(a,!1))?(f().object=LazyInitializer.create(d.script),Type.from(d.script,F)):Type.Any}function p(){var a=H[K.index];if(a.isRuntime()){var b=a.namespaces,d=a.name;a.isRuntimeName()&&(d=l());a.isRuntimeNamespace()&&(b=[l()]);return new MultinameType(b,d,a.flags)}return a}function y(a){if(a instanceof TraitsType&&(a=a.getTraitAt(K.index),S&&S.debugLn("accessSlot() -> "+
a),a)){f().trait=a;if(a.isSlot())return Type.fromName(a.typeName,F).instanceType();if(a.isClass())return Type.from(a.classInfo,F)}return Type.Any}function D(a){return a instanceof Multiname&&isNumeric(a.name)||a instanceof MultinameType&&(a.name instanceof TraitsType&&a.name.isNumeric()||isNumeric(a.name))}function B(a,b){if(a instanceof TraitsType||a instanceof ParameterizedType){var d=a.getTrait(b,!1,!0);S&&S.debugLn("getProperty("+b+") -> "+d);if(d){f().trait=d;if(d.isSlot()||d.isConst())return Type.fromName(d.typeName,
F).instanceType();if(d.isGetter())return Type.fromName(d.methodInfo.returnType,F).instanceType();if(d.isClass())return Type.from(d.classInfo,F);if(d.isMethod())return Type.from(d.methodInfo,F)}else a.isDirectlyReadable()&&b instanceof Multiname?f().propertyQName=Multiname.getPublicQualifiedName(b.name):a===Type.Object&&b instanceof Multiname&&(f().propertyQName=Multiname.getPublicQualifiedName(b.name));if(D(b))if(a.isIndexedReadable()){if(f().isIndexedReadable=!0,a.isVector())return a.parameter}else a.isDirectlyReadable()&&
(f().isDirectlyReadable=!0)}return Type.Any}function E(a,b){if(a instanceof TraitsType||a instanceof ParameterizedType){var d=a.getTrait(b,!0,!0);S&&S.debugLn("setProperty("+b+") -> "+d);d?f().trait=d:a.isDirectlyWriteable()&&b instanceof Multiname&&(f().propertyQName=Multiname.getPublicQualifiedName(b.name));D(b)&&(a.isDirectlyWriteable()?f().isDirectlyWriteable=!0:a.isVector()&&(f().isIndexedWriteable=!0))}}var G=this.scope,J=d.local,P=d.stack,Q=d.scope,S=verifierTraceLevel.value?this.writer:null,
O=this.methodInfo.analysis.bytecodes,F=this.methodInfo.abc.domain,H=this.methodInfo.abc.constantPool.multinames,R=this.methodInfo,K,I,M,T;S&&S.enter("verifyBlock: "+b.bid+", range: ["+b.position+", "+b.end.position+"], entryState: "+d.toString()+" {");for(var L=b.position,N=b.end.position;L<=N;L++){K=O[L];T=K.op;S&&1<verifierTraceLevel.value&&S.writeLn(("stateBefore: "+d.toString()).padRight(" ",100)+" : "+L+", "+K.toString(R.abc));switch(T){case 1:break;case 3:l();break;case 4:M=p();I=l();!0;g(B(I.super(),
M));break;case 5:T=l();M=p();I=l();!0;E(I.super(),M,T);break;case 6:notImplemented(K);break;case 7:notImplemented(K);break;case 8:d.local[K.index]=Type.Undefined;break;case 10:notImplemented(K);break;case 11:notImplemented(K);break;case 12:case 24:case 13:case 23:case 14:case 22:case 15:case 21:case 19:case 20:case 25:case 26:l();l();break;case 16:break;case 17:case 18:l();break;case 27:l(Type.Int);break;case 29:Q.pop();break;case 30:case 35:l(Type.Int);l();g(Type.Any);break;case 31:g(Type.Boolean);
break;case 50:g(Type.Boolean);break;case 32:g(Type.Null);break;case 33:g(Type.Undefined);break;case 34:notImplemented(K);break;case 36:g(Type.Int);break;case 37:g(Type.Int);break;case 44:g(Type.String);break;case 45:g(Type.Int);break;case 46:g(Type.Uint);break;case 47:g(Type.Number);break;case 38:g(Type.Boolean);break;case 39:g(Type.Boolean);break;case 40:g(Type.Number);break;case 41:l();break;case 42:T=l();g(T);g(T);break;case 43:I=l();M=l();g(I);g(M);break;case 28:l();Q.push(Type.Any);break;case 48:Q.push(l());
break;case 49:notImplemented(K);break;case 53:case 54:case 55:g(Type.Int);break;case 56:case 57:g(Type.Number);break;case 58:case 59:case 60:l(Type.Int);break;case 61:case 62:l(Type.Number);break;case 64:g(Type.Function);break;case 65:P.popMany(K.argCount);I=l();l();g(Type.Any);break;case 67:throw new a("callmethod");case 68:notImplemented(K);break;case 69:P.popMany(K.argCount);M=p();I=l();B(I,M);g(Type.Any);break;case 79:case 70:case 76:P.popMany(K.argCount);M=p();I=l();I=B(I,M);if(79===T)break;
I=I instanceof MethodType?Type.fromName(I.methodInfo.returnType,F).instanceType():I instanceof TraitsType&&I.isClassInfo()?I.instanceType():Type.Any;g(I);break;case 71:this.returnType.merge(Type.Undefined);break;case 72:I=l();R.returnType&&(M=Type.fromName(R.returnType,this.domain).instanceType(),M.isSubtypeOf(I)&&(f().noCoercionNeeded=!0));break;case 73:P.popMany(K.argCount);P.pop();this.thisType.isInstanceInfo()&&this.thisType.super()===Type.Object&&(f().noCallSuperNeeded=!0);break;case 66:P.popMany(K.argCount);
g(e(l()));break;case 74:P.popMany(K.argCount);M=p();g(e(B(P.pop(),M)));break;case 75:notImplemented(K);break;case 77:notImplemented(K);break;case 78:P.popMany(K.argCount);p();l();break;case 80:case 81:case 82:break;case 83:!0;T=l();I=l();g(I.applyType(T));break;case 84:notImplemented(K);break;case 85:P.popMany(2*K.argCount);g(Type.Object);break;case 86:P.popMany(K.argCount);g(Type.Array);break;case 87:g(Type.from(new Activation(this.methodInfo)));break;case 88:g(Type.Any);break;case 89:g(Type.XMLList);
break;case 90:g(Type.Any);break;case 93:g(m(p(),!0));break;case 94:g(m(p(),!1));break;case 95:notImplemented(K);break;case 96:M=p();g(B(m(M,!0),M));break;case 104:case 97:T=l();M=p();I=l();E(I,M,T,K);break;case 98:g(J[K.index]);break;case 99:J[K.index]=l();break;case 100:g(Type.from(G.global.object));break;case 101:g(Q[K.index]);break;case 102:M=p();I=l();g(B(I,M));break;case 103:notImplemented(K);break;case 105:notImplemented(K);break;case 106:p();l();g(Type.Boolean);break;case 107:notImplemented(K);
break;case 108:g(y(l()));break;case 109:T=l();I=l();y(I);break;case 110:notImplemented(K);break;case 111:notImplemented(K);break;case 112:l();g(Type.String);break;case 113:l();g(Type.String);break;case 114:l();g(Type.String);break;case 131:case 115:l();g(Type.Int);break;case 136:case 116:l();g(Type.Uint);break;case 132:case 117:l();g(Type.Number);break;case 129:case 118:l();g(Type.Boolean);break;case 119:notImplemented(K);break;case 120:break;case 121:l();g(Type.Number);break;case 122:notImplemented(K);
break;case 123:notImplemented(K);break;case 128:I=l();M=Type.fromName(H[K.index],this.domain).instanceType();M.isSubtypeOf(I)&&(f().noCoercionNeeded=!0);g(M);break;case 130:break;case 133:l();g(Type.String);break;case 134:notImplemented(K);break;case 135:I=l();l();I instanceof TraitsType?g(I.instanceType()):g(Type.Any);break;case 137:notImplemented(K);break;case 144:case 145:case 147:l();g(Type.Number);break;case 146:case 148:J[K.index]=Type.Number;break;case 149:l();g(Type.String);break;case 150:l();
g(Type.Boolean);break;case 160:M=l();I=l();I.isNumeric()&&M.isNumeric()?g(Type.Number):I===Type.String||M===Type.String?g(Type.String):g(Type.Any);break;case 161:case 162:case 163:case 164:l();l();g(Type.Number);break;case 168:case 169:case 170:case 165:case 166:case 167:l();l();g(Type.Int);break;case 151:l();g(Type.Int);break;case 171:case 172:case 173:case 174:case 175:case 176:case 177:case 180:l();l();g(Type.Boolean);break;case 178:l();g(Type.Boolean);break;case 179:l();l();g(Type.Boolean);break;
case 194:case 195:J[K.index]=Type.Int;break;case 193:case 192:case 196:l();g(Type.Int);break;case 197:case 198:case 199:l();l();g(Type.Int);break;case 208:case 209:case 210:case 211:g(J[T-208]);break;case 212:case 213:case 214:case 215:J[T-OP_setlocal0]=l();break;case 239:break;case 240:break;case 241:break;case 242:break;case 243:break;default:console.info("Not Implemented: "+K)}S&&K.ti&&S.debugLn("> TI: "+K.ti)}S&&(S.leave("}"),S.writeLn("verifiedBlock: "+b.bid+", range: ["+b.position+", "+b.end.position+
"], exitState: "+d.toString()))};b.prototype.verifyMethod=function(b,d){try{(new p(b,d)).verify(),b.verified=!0,Counter.count("Verifier: Methods")}catch(e){if(!(e instanceof a))throw e;}};return b}();
(function(a){function b(a,b){!0;return Object.create(a.prototype,{nodeName:{value:b}})}function d(a){var b;if(a instanceof ha)return a.value instanceof Multiname?a.value.name:a.value;if(a instanceof L)return a.name;if(a instanceof T)return b="|"+a.id+"|",b;if(a instanceof s)return b="{"+a.id+"}",b;if(a instanceof V)return a.type===V.Type.STORE?(b="["+a.id+"->"+a.argument.id+"]",b):(b="("+a.id+")",b);if(a instanceof D)return b="("+a.id+")",b;if(a instanceof p)return a.id;unexpected(a+" "+typeof a)}
function e(a){return a.id}function f(a,b){for(var d=0;d<a.length;d++)b(a[d])}function g(a){return a instanceof ha}var m=!1,l=[],p,r=function(){!0;this.id=l[l.length-1]+=1};r.prototype.nodeName="Node";r.prototype.visitInputs=function(){};p=r;var s,r=function(){!0;this.id=l[l.length-1]+=1};r.prototype=b(p,"Control");r.prototype.nodeName="Control";r.prototype.visitInputs=function(){};s=r;var v,r=function(a){!0;this.predecessors=a?[a]:[];this.id=l[l.length-1]+=1};r.prototype=b(s,"Region");r.prototype.nodeName=
"Region";r.prototype.visitInputs=function(a){f(this.predecessors,a)};v=r;var w,r=function(a){!0;this.control=this;this.predecessors=a?[a]:[];this.domain=this.scope=void 0;this.id=l[l.length-1]+=1};r.prototype=b(v,"Start");r.prototype.nodeName="Start";r.prototype.visitInputs=function(a){f(this.predecessors,a);a(this.scope);a(this.domain)};w=r;var z,r=function(a){!0;!0;this.control=a;this.id=l[l.length-1]+=1};r.prototype=b(s,"End");r.prototype.nodeName="End";r.prototype.visitInputs=function(a){a(this.control)};
z=r;r=function(a,b,d){!0;!0;!0;!0;this.control=a;this.store=b;this.argument=d;this.id=l[l.length-1]+=1};r.prototype=b(z,"Stop");r.prototype.nodeName="Stop";r.prototype.visitInputs=function(a){a(this.control);a(this.store);a(this.argument)};var A=function(a,b){!0;!0;!0;this.control=a;this.predicate=b;this.id=l[l.length-1]+=1};A.prototype=b(z,"If");A.prototype.nodeName="If";A.prototype.visitInputs=function(a){a(this.control);a(this.predicate)};var C,u=function(a,b){!0;!0;!0;this.control=a;this.determinant=
b;this.id=l[l.length-1]+=1};u.prototype=b(z,"Switch");u.prototype.nodeName="Switch";u.prototype.visitInputs=function(a){a(this.control);a(this.determinant)};C=u;var y,u=function(a){!0;!0;this.control=a;this.id=l[l.length-1]+=1};u.prototype=b(z,"Jump");u.prototype.nodeName="Jump";u.prototype.visitInputs=function(a){a(this.control)};y=u;var D,u=function(){!0;this.id=l[l.length-1]+=1};u.prototype=b(p,"Value");u.prototype.nodeName="Value";u.prototype.visitInputs=function(){};D=u;var B=function(a,b){!0;
!0;!0;this.control=a;this.store=b;this.loads=void 0;this.id=l[l.length-1]+=1};B.prototype=b(D,"StoreDependent");B.prototype.nodeName="StoreDependent";B.prototype.visitInputs=function(a){this.control&&a(this.control);this.store&&a(this.store);this.loads&&f(this.loads,a)};u=function(a,b,d,e,f,g){!0;!0;!0;!0;!0;!0;!0;this.control=a;this.store=b;this.loads=void 0;this.callee=d;this.object=e;this.args=f;this.flags=g;this.id=l[l.length-1]+=1};u.prototype=b(B,"Call");u.prototype.nodeName="Call";u.prototype.visitInputs=
function(a){this.control&&a(this.control);this.store&&a(this.store);this.loads&&f(this.loads,a);a(this.callee);this.object&&a(this.object);f(this.args,a)};var E=function(a,b,d,e,f,g){!0;!0;!0;!0;!0;!0;!0;this.control=a;this.store=b;this.loads=void 0;this.object=d;this.name=e;this.args=f;this.flags=g;this.id=l[l.length-1]+=1};E.prototype=b(B,"CallProperty");E.prototype.nodeName="CallProperty";E.prototype.visitInputs=function(a){this.control&&a(this.control);this.store&&a(this.store);this.loads&&f(this.loads,
a);a(this.object);a(this.name);f(this.args,a)};var G=function(a,b,d,e,f,g,m){!0;!0;!0;!0;!0;!0;!0;!0;this.control=a;this.store=b;this.loads=void 0;this.object=d;this.name=e;this.args=f;this.flags=g;this.isLex=m;this.id=l[l.length-1]+=1};G.prototype=b(E,"ASCallProperty");G.prototype.nodeName="ASCallProperty";G.prototype.visitInputs=function(a){this.control&&a(this.control);this.store&&a(this.store);this.loads&&f(this.loads,a);a(this.object);a(this.name);f(this.args,a)};var J=function(a,b,d,e){!0;!0;
!0;!0;!0;this.control=a;this.store=b;this.loads=void 0;this.callee=d;this.args=e;this.id=l[l.length-1]+=1};J.prototype=b(B,"New");J.prototype.nodeName="New";J.prototype.visitInputs=function(a){this.control&&a(this.control);this.store&&a(this.store);this.loads&&f(this.loads,a);a(this.callee);f(this.args,a)};var P=function(a,b,d,e){!0;!0;!0;!0;!0;this.control=a;this.store=b;this.loads=void 0;this.callee=d;this.args=e;this.id=l[l.length-1]+=1};P.prototype=b(J,"ASNew");P.prototype.nodeName="ASNew";P.prototype.visitInputs=
function(a){this.control&&a(this.control);this.store&&a(this.store);this.loads&&f(this.loads,a);a(this.callee);f(this.args,a)};J=function(a,b,d,e){!0;!0;!0;!0;!0;this.control=a;this.store=b;this.loads=void 0;this.object=d;this.name=e;this.id=l[l.length-1]+=1};J.prototype=b(B,"GetProperty");J.prototype.nodeName="GetProperty";J.prototype.visitInputs=function(a){this.control&&a(this.control);this.store&&a(this.store);this.loads&&f(this.loads,a);a(this.object);a(this.name)};var Q=function(a,b,d,e,f){!0;
!0;!0;!0;!0;!0;this.control=a;this.store=b;this.loads=void 0;this.object=d;this.name=e;this.flags=f;this.id=l[l.length-1]+=1};Q.prototype=b(J,"ASGetProperty");Q.prototype.nodeName="ASGetProperty";Q.prototype.visitInputs=function(a){this.control&&a(this.control);this.store&&a(this.store);this.loads&&f(this.loads,a);a(this.object);a(this.name)};var S=function(a,b,d,e){!0;!0;!0;!0;!0;this.control=a;this.store=b;this.loads=void 0;this.object=d;this.name=e;this.id=l[l.length-1]+=1};S.prototype=b(J,"ASGetDescendants");
S.prototype.nodeName="ASGetDescendants";S.prototype.visitInputs=function(a){this.control&&a(this.control);this.store&&a(this.store);this.loads&&f(this.loads,a);a(this.object);a(this.name)};var O=function(a,b,d,e){!0;!0;!0;!0;!0;this.control=a;this.store=b;this.loads=void 0;this.object=d;this.name=e;this.id=l[l.length-1]+=1};O.prototype=b(J,"ASHasProperty");O.prototype.nodeName="ASHasProperty";O.prototype.visitInputs=function(a){this.control&&a(this.control);this.store&&a(this.store);this.loads&&f(this.loads,
a);a(this.object);a(this.name)};var F=function(a,b,d,e){!0;!0;!0;!0;!0;this.control=a;this.store=b;this.loads=void 0;this.object=d;this.name=e;this.id=l[l.length-1]+=1};F.prototype=b(J,"ASGetSlot");F.prototype.nodeName="ASGetSlot";F.prototype.visitInputs=function(a){this.control&&a(this.control);this.store&&a(this.store);this.loads&&f(this.loads,a);a(this.object);a(this.name)};var H,R=function(a,b,d,e,f){!0;!0;!0;!0;!0;!0;this.control=a;this.store=b;this.loads=void 0;this.object=d;this.name=e;this.value=
f;this.id=l[l.length-1]+=1};R.prototype=b(B,"SetProperty");R.prototype.nodeName="SetProperty";R.prototype.visitInputs=function(a){this.control&&a(this.control);this.store&&a(this.store);this.loads&&f(this.loads,a);a(this.object);a(this.name);a(this.value)};H=R;R=function(a,b,d,e,f,g){!0;!0;!0;!0;!0;!0;this.control=a;this.store=b;this.loads=void 0;this.object=d;this.name=e;this.value=f;this.flags=g;this.id=l[l.length-1]+=1};R.prototype=b(H,"ASSetProperty");R.prototype.nodeName="ASSetProperty";R.prototype.visitInputs=
function(a){this.control&&a(this.control);this.store&&a(this.store);this.loads&&f(this.loads,a);a(this.object);a(this.name);a(this.value)};var K=function(a,b,d,e,f){!0;!0;!0;!0;!0;!0;this.control=a;this.store=b;this.loads=void 0;this.object=d;this.name=e;this.value=f;this.id=l[l.length-1]+=1};K.prototype=b(H,"ASSetSlot");K.prototype.nodeName="ASSetSlot";K.prototype.visitInputs=function(a){this.control&&a(this.control);this.store&&a(this.store);this.loads&&f(this.loads,a);a(this.object);a(this.name);
a(this.value)};var I=function(a,b,d,e){!0;!0;!0;!0;!0;this.control=a;this.store=b;this.loads=void 0;this.object=d;this.name=e;this.id=l[l.length-1]+=1};I.prototype=b(B,"DeleteProperty");I.prototype.nodeName="DeleteProperty";I.prototype.visitInputs=function(a){this.control&&a(this.control);this.store&&a(this.store);this.loads&&f(this.loads,a);a(this.object);a(this.name)};var M=function(a,b,d,e){!0;!0;!0;!0;!0;this.control=a;this.store=b;this.loads=void 0;this.object=d;this.name=e;this.id=l[l.length-
1]+=1};M.prototype=b(I,"ASDeleteProperty");M.prototype.nodeName="ASDeleteProperty";M.prototype.visitInputs=function(a){this.control&&a(this.control);this.store&&a(this.store);this.loads&&f(this.loads,a);a(this.object);a(this.name)};I=function(a,b,d,e,f,g){!0;!0;!0;!0;!0;!0;this.control=a;this.store=b;this.loads=void 0;this.scope=d;this.name=e;this.domain=f;this.strict=g;this.id=l[l.length-1]+=1};I.prototype=b(B,"ASFindProperty");I.prototype.nodeName="ASFindProperty";I.prototype.visitInputs=function(a){this.control&&
a(this.control);this.store&&a(this.store);this.loads&&f(this.loads,a);a(this.scope);a(this.name);a(this.domain)};b(D,"Store");var T,B=function(a,b){!0;!0;this.control=a;this.args=b?[b]:[];this.id=l[l.length-1]+=1};B.prototype=b(D,"Phi");B.prototype.nodeName="Phi";B.prototype.visitInputs=function(a){this.control&&a(this.control);f(this.args,a)};T=B;var L,B=function(a){!0;this.name=a;this.id=l[l.length-1]+=1};B.prototype=b(D,"Variable");B.prototype.nodeName="Variable";B.prototype.visitInputs=function(){};
L=B;B=function(a){!0;this.argument=a;this.id=l[l.length-1]+=1};B.prototype=b(D,"Copy");B.prototype.nodeName="Copy";B.prototype.visitInputs=function(a){a(this.argument)};var N=function(a,b){!0;this.to=a;this.from=b;this.id=l[l.length-1]+=1};N.prototype=b(D,"Move");N.prototype.nodeName="Move";N.prototype.visitInputs=function(a){a(this.to);a(this.from)};var V,ca=function(a,b,d){!0;this.argument=a;this.type=b;this.selector=d;this.id=l[l.length-1]+=1};ca.prototype=b(D,"Projection");ca.prototype.nodeName=
"Projection";ca.prototype.visitInputs=function(a){a(this.argument)};V=ca;ca=function(a,b,d,e){!0;!0;this.control=a;this.condition=b;this.left=d;this.right=e;this.id=l[l.length-1]+=1};ca.prototype=b(D,"Latch");ca.prototype.nodeName="Latch";ca.prototype.visitInputs=function(a){this.control&&a(this.control);a(this.condition);a(this.left);a(this.right)};var da,ea=function(a,b,d){!0;this.operator=a;this.left=b;this.right=d;this.id=l[l.length-1]+=1};ea.prototype=b(D,"Binary");ea.prototype.nodeName="Binary";
ea.prototype.visitInputs=function(a){a(this.left);a(this.right)};da=ea;var ka,ea=function(a,b){!0;this.operator=a;this.argument=b;this.id=l[l.length-1]+=1};ea.prototype=b(D,"Unary");ea.prototype.nodeName="Unary";ea.prototype.visitInputs=function(a){a(this.argument)};ka=ea;var ha,ea=function(a){!0;this.value=a;this.id=l[l.length-1]+=1};ea.prototype=b(D,"Constant");ea.prototype.nodeName="Constant";ea.prototype.visitInputs=function(){};ha=ea;ea=function(a){!0;this.name=a;this.id=l[l.length-1]+=1};ea.prototype=
b(D,"GlobalProperty");ea.prototype.nodeName="GlobalProperty";ea.prototype.visitInputs=function(){};var la,fa=function(a){!0;!0;this.control=a;this.id=l[l.length-1]+=1};fa.prototype=b(D,"This");fa.prototype.nodeName="This";fa.prototype.visitInputs=function(a){a(this.control)};la=fa;fa=function(a,b){!0;!0;this.control=a;this.argument=b;this.id=l[l.length-1]+=1};fa.prototype=b(D,"Throw");fa.prototype.nodeName="Throw";fa.prototype.visitInputs=function(a){a(this.control);a(this.argument)};var ba,Z=function(a){!0;
!0;this.control=a;this.id=l[l.length-1]+=1};Z.prototype=b(D,"Arguments");Z.prototype.nodeName="Arguments";Z.prototype.visitInputs=function(a){a(this.control)};ba=Z;var oa,Z=function(a,b,d){!0;!0;this.control=a;this.index=b;this.name=d;this.id=l[l.length-1]+=1};Z.prototype=b(D,"Parameter");Z.prototype.nodeName="Parameter";Z.prototype.visitInputs=function(a){a(this.control)};oa=Z;Z=function(a,b){!0;!0;this.control=a;this.elements=b;this.id=l[l.length-1]+=1};Z.prototype=b(D,"NewArray");Z.prototype.nodeName=
"NewArray";Z.prototype.visitInputs=function(a){a(this.control);f(this.elements,a)};var ia=function(a,b){!0;!0;this.control=a;this.properties=b;this.id=l[l.length-1]+=1};ia.prototype=b(D,"NewObject");ia.prototype.nodeName="NewObject";ia.prototype.visitInputs=function(a){a(this.control);f(this.properties,a)};var sa=function(a,b){!0;this.key=a;this.value=b;this.id=l[l.length-1]+=1};sa.prototype=b(D,"KeyValuePair");sa.prototype.nodeName="KeyValuePair";sa.prototype.visitInputs=function(a){a(this.key);
a(this.value)};var ya=function(a,b,d){!0;this.parent=a;this.object=b;this.isWith=d;this.id=l[l.length-1]+=1};ya.prototype=b(D,"ASScope");ya.prototype.nodeName="ASScope";ya.prototype.visitInputs=function(a){a(this.parent);a(this.object)};var aa=function(a,b){!0;!0;!0;this.control=a;this.scope=b;this.id=l[l.length-1]+=1};aa.prototype=b(D,"ASGlobal");aa.prototype.nodeName="ASGlobal";aa.prototype.visitInputs=function(a){this.control&&a(this.control);a(this.scope)};var qa=function(a){!0;this.methodInfo=
a;this.id=l[l.length-1]+=1};qa.prototype=b(D,"ASNewActivation");qa.prototype.nodeName="ASNewActivation";qa.prototype.visitInputs=function(){};var Aa=function(a,b,d){!0;this.namespaces=a;this.name=b;this.flags=d;this.id=l[l.length-1]+=1};Aa.prototype=b(D,"ASMultiname");Aa.prototype.nodeName="ASMultiname";Aa.prototype.visitInputs=function(a){a(this.namespaces);a(this.name)};p.startNumbering=function(){l.push(0)};p.stopNumbering=function(){l.pop()};p.prototype.toString=function(a){if(a)return d(this);
var b=[];this.visitInputs(function(a){b.push(d(a))},!0);a=d(this)+" = "+this.nodeName.toUpperCase();this.toStringDetails&&(a+=" "+this.toStringDetails());b.length&&(a+=" "+b.join(", "));return a};p.prototype.visitInputsNoConstants=function(a){this.visitInputs(function(b){g(b)||a(b)})};p.prototype.replaceInput=function(a,b){var d=0,e;for(e in this){var f=this[e];f instanceof p&&f===a&&(this[e]=b,d++);f instanceof Array&&(d+=f.replace(a,b))}return d};V.Type={CASE:"case",TRUE:"true",FALSE:"false",STORE:"store",
SCOPE:"scope"};V.prototype.project=function(){return this.argument};T.prototype.seal=function(){this.sealed=!0};T.prototype.pushValue=function(a){!0;!0;this.args.push(a)};sa.prototype.mustFloat=!0;Aa.prototype.mustFloat=!0;Aa.prototype.isAttribute=function(){return this.flags&1};var W=function(a,b,d){this.name=a;this.binary=d;this.evaluate=b;ra[a]=this},ra={};W.ADD=new W("+",function(a,b){return a+b},!0);W.SUB=new W("-",function(a,b){return a-b},!0);W.MUL=new W("*",function(a,b){return a*b},!0);W.DIV=
new W("/",function(a,b){return a/b},!0);W.MOD=new W("%",function(a,b){return a%b},!0);W.AND=new W("&",function(a,b){return a&b},!0);W.OR=new W("|",function(a,b){return a|b},!0);W.XOR=new W("^",function(a,b){return a^b},!0);W.LSH=new W("<<",function(a,b){return a<<b},!0);W.RSH=new W(">>",function(a,b){return a>>b},!0);W.URSH=new W(">>>",function(a,b){return a>>>b},!0);W.SEQ=new W("===",function(a,b){return a===b},!0);W.SNE=new W("!==",function(a,b){return a!==b},!0);W.EQ=new W("==",function(a,b){return a==
b},!0);W.NE=new W("!=",function(a,b){return a!=b},!0);W.LE=new W("<=",function(a,b){return a<=b},!0);W.GT=new W(">",function(a,b){return a>b},!0);W.LT=new W("<",function(a,b){return a<b},!0);W.GE=new W(">=",function(a,b){return a>=b},!0);W.BITWISE_NOT=new W("~",function(a){return~a},!1);W.PLUS=new W("+",function(a){return+a},!1);W.NEG=new W("-",function(a){return-a},!1);W.TRUE=new W("!!",function(a){return!!a},!1);W.FALSE=new W("!",function(a){return!a},!1);W.AS_ADD=new W("+",function(a,b){return"string"===
typeof a||"string"===typeof b?String(a)+String(b):a+b},!0);var pa=W.SEQ,za=W.SNE;pa.not=za;za.not=pa;pa=W.EQ;za=W.NE;pa.not=za;za.not=pa;pa=W.TRUE;za=W.FALSE;pa.not=za;za.not=pa;W.fromName=function(a){return ra[a]};W.prototype.isBinary=function(){return this.binary};W.prototype.toString=function(){return this.name};pa=new ha(null);za=new ha(void 0);za.toString=function(){return"_"};var Ha,va=function(a,b,d){b&&!0;this.region=b;this.id=a;this.successors=[];this.predecessors=[];this.nodes=[b,d]};va.prototype.pushSuccessorAt=
function(a,b,d){!0;!0;this.successors[b]=a;d&&a.pushPredecessor(this)};va.prototype.pushSuccessor=function(a,b){!0;this.successors.push(a);b&&a.pushPredecessor(this)};va.prototype.pushPredecessor=function(a){!0;this.predecessors.push(a)};va.prototype.visitNodes=function(a){for(var b=this.nodes,d=0,e=b.length;d<e;d++)a(b[d])};va.prototype.visitSuccessors=function(a){for(var b=this.successors,d=0,e=b.length;d<e;d++)a(b[d])};va.prototype.visitPredecessors=function(a){for(var b=this.predecessors,d=0,
e=b.length;d<e;d++)a(b[d])};va.prototype.append=function(a){!0;!0;!0;!0;a.mustFloat||this.nodes.splice(this.nodes.length-1,0,a)};va.prototype.toString=function(){return"B"+this.id+(this.name?" ("+this.name+")":"")};va.prototype.trace=function(a){a.writeLn(this)};Ha=va;var va=function(a){this.exit=a},Sa=function(a,b,d){var e=[];a=[a];for(var f=a.push.bind(a),g;g=a.pop();)1!==e[g.id]&&(e[g.id]=1,d(g),a.push(g),b(g,f))},Ta=function(a,b,d){function e(a){f[a.id]||g.push(a)}for(var f=[],g=[a];a=g.top();)f[a.id]?
(1===f[a.id]&&(f[a.id]=2,d(a)),g.pop()):(f[a.id]=1,b(a,e))};va.prototype.buildCFG=function(){return Ma.fromDFG(this)};va.prototype.forEachInPreOrderDepthFirstSearch=function(a){function b(a){g(a)||(!0,e.push(a))}for(var d=Array(1024),e=[this.exit],f;f=e.pop();)d[f.id]||(d[f.id]=1,a&&a(f),e.push(f),f.visitInputs(b))};va.prototype.forEach=function(a,b){(b?Ta:Sa)(this.exit,function(a,b){a.visitInputsNoConstants(b)},a)};va.prototype.traceMetrics=function(a){var b=new metrics.Counter(!0);Sa(this.exit,
function(a,b){a.visitInputsNoConstants(b)},function(a){b.count(a.nodeName)});b.trace(a)};va.prototype.trace=function(a){function b(a){return a instanceof s?"yellow":a instanceof T?"purple":a instanceof D?"green":"white"}function d(a){return a instanceof V?a.project():a}function e(a){a=d(a);g[a.id]||(g[a.id]=!0,a.block&&l.push(a.block),f.push(a),a.visitInputsNoConstants(e))}var f=[],g={},l=[];e(this.exit);a.writeLn("");a.enter("digraph DFG {");a.writeLn("graph [bgcolor = gray10];");a.writeLn("edge [color = white];");
a.writeLn("node [shape = box, fontname = Consolas, fontsize = 11, color = white, fontcolor = white];");a.writeLn("rankdir = BT;");l.forEach(function(b){a.enter("subgraph cluster"+b.nodes[0].id+" { bgcolor = gray20;");b.visitNodes(function(b){b=d(b);a.writeLn("N"+b.id+";")});a.leave("}")});f.forEach(function(d){a.writeLn("N"+d.id+' [label = "'+d.toString()+'", color = "'+b(d)+'"];')});f.forEach(function(e){e.visitInputsNoConstants(function(f){f=d(f);a.writeLn("N"+e.id+" -> N"+f.id+" [color="+b(f)+
"];")})});a.leave("}");a.writeLn("")};var Ma,ja=function(){this.nextBlockID=0;this.blocks=[];this.exit;this.root};ja.fromDFG=function(a){function b(a){a instanceof V&&(a=a.project());!0;if(!e[a.id]){e[a.id]=!0;var f=a.control;f instanceof v||(f=a.control=new v(f));a=f.block=d.buildBlock(f,a);f instanceof w&&(d.root=a);for(var g=0;g<f.predecessors.length;g++){var l=f.predecessors[g],m,r=!1;l instanceof V?(m=l.project(),r=l.type===V.Type.TRUE):m=l;m instanceof v&&(m=new y(l),m=new V(m,V.Type.TRUE),
f.predecessors[g]=m,m=m.project(),r=!0);b(m);var p=m.control.block;m instanceof C?(!0,p.pushSuccessorAt(a,l.selector.value,!0)):r&&0<p.successors.length?(p.pushSuccessor(a,!0),p.hasFlippedSuccessors=!0):p.pushSuccessor(a,!0)}}}var d=new Ma;!0;d.dfg=a;var e=[];b(a.exit);d.splitCriticalEdges();d.exit=a.exit.control.block;d.computeDominators(!0);return d};ja.prototype.buildRootAndExit=function(){!0;0<this.blocks[0].predecessors.length?(this.root=new Ha(this.nextBlockID++),this.blocks.push(this.root),
this.root.pushSuccessor(this.blocks[0],!0)):this.root=this.blocks[0];for(var a=[],b=0;b<this.blocks.length;b++){var d=this.blocks[b];0===d.successors.length&&a.push(d)}if(0===a.length)unexpected("Must have an exit block.");else if(1===a.length&&a[0]!==this.root)this.exit=a[0];else{this.exit=new Ha(this.nextBlockID++);this.blocks.push(this.exit);for(b=0;b<a.length;b++)a[b].pushSuccessor(this.exit,!0)}!0;!0};ja.prototype.fromString=function(a,b){function d(a){var b=f[a];if(b)return b;f[a]=b=new Ha(e.nextBlockID++);
b.name=a;g.push(b);return b}var e=this,f=e.blockNames||(e.blockNames={}),g=e.blocks;a.replace(/\ /g,"").split(",").forEach(function(a){a=a.split("->");for(var b=null,e=0;e<a.length;e++){var f=a[e];if(b){var g=f;d(b).pushSuccessor(d(g),!0)}else d(f);b=f}});!0;this.root=f[b]};ja.prototype.buildBlock=function(a,b){var d=new Ha(this.nextBlockID++,a,b);this.blocks.push(d);return d};ja.prototype.createBlockSet=function(){this.setConstructor||(this.setConstructor=BitSetFunctor(this.blocks.length));return new this.setConstructor};
ja.prototype.computeReversePostOrder=function(){if(this.order)return this.order;var a=this.order=[];this.depthFirstSearch(null,a.push.bind(a));a.reverse();for(var b=0;b<a.length;b++)a[b].rpo=b;return a};ja.prototype.depthFirstSearch=function(a,b){function d(f){e.set(f.id);a&&a(f);for(var g=f.successors,l=0,m=g.length;l<m;l++){var r=g[l];e.get(r.id)||d(r)}b&&b(f)}var e=this.createBlockSet();d(this.root)};ja.prototype.computeDominators=function(a){!0;for(var b=new Int32Array(this.blocks.length),d=0;d<
b.length;d++)b[d]=-1;var e=this.createBlockSet();this.depthFirstSearch(function(a){for(var d=a.successors,f=0,g=d.length;f<g;f++){var l=d[f].id,m=a.id,r=b,p=l;if(!(0>b[l])){l=b[l];for(e.clearAll();0<=l;)e.set(l),l=b[l];for(;0<=m&&!e.get(m);)m=b[m]}r[p]=m}});if(a){d=0;for(a=this.blocks.length;d<a;d++)this.blocks[d].dominator=this.blocks[b[d]];var f=function(a){var b;if(void 0!==a.dominatorDepth)return a.dominatorDepth;b=a.dominator?f(a.dominator)+1:0;return a.dominatorDepth=b},d=0;for(a=this.blocks.length;d<
a;d++)f(this.blocks[d])}return b};ja.prototype.computeLoops=function(){function a(f){if(d.get(f.id))return b.get(f.id)&&!f.isLoopHeader&&(f.isLoopHeader=!0,f.loops=1<<e,e+=1),f.loops;d.set(f.id);b.set(f.id);for(var g=0,l=0,m=f.successors.length;l<m;l++)g|=a(f.successors[l]);f.isLoopHeader&&(g&=~f.loops);f.loops=g;b.clear(f.id);return g}var b=this.createBlockSet(),d=this.createBlockSet(),e=0;a(this.root)};var Ia=function(){this.entries=[]};Ia.prototype.addUse=function(a,b){var d=this.entries[a.id];
d||(d=this.entries[a.id]={def:a,uses:[]});d.uses.pushUnique(b)};Ia.prototype.trace=function(a){a.enter("> Uses");this.entries.forEach(function(b){a.writeLn(b.def.id+" -> ["+b.uses.map(e).join(", ")+"] "+b.def)});a.leave("<")};Ia.prototype.replace=function(a,b){var d=this.entries[a.id];if(0===d.uses.length)return!1;var e=0;d.uses.forEach(function(d){e+=d.replaceInput(a,b)});!0;d.uses=[];return!0};ja.prototype.computeUses=function(){Timer.start("computeUses");var a=m&&new IndentingWriter;m&&a.enter("> Compute Uses");
var b=this.dfg,d=new Ia;b.forEachInPreOrderDepthFirstSearch(function(a){a.visitInputs(function(b){d.addUse(b,a)})});m&&(a.enter("> Uses"),d.entries.forEach(function(b){a.writeLn(b.def.id+" -> ["+b.uses.map(e).join(", ")+"] "+b.def)}),a.leave("<"),a.leave("<"));Timer.stop();return d};ja.prototype.verify=function(){var a=m&&new IndentingWriter;m&&a.enter("> Verify");this.computeReversePostOrder().forEach(function(a){a.phis&&a.phis.forEach(function(){!0;!0})});m&&a.leave("<")};ja.prototype.optimizePhis=
function(){function a(b,d){d=d.unique();if(1===d.length)return d[0];if(2===d.length){if(d[0]===b)return d[1];if(d[1]===b)return d[0]}return b}var b=m&&new IndentingWriter;m&&b.enter("> Optimize Phis");var d=[],f=this.computeUses().entries;f.forEach(function(a){a.def instanceof T&&d.push(a.def)});m&&b.writeLn("Trying to optimize "+d.length+" phis.");for(var g=0,l=0,r=!0;r;)l++,r=!1,d.forEach(function(d){var l=a(d,d.args),p;if(p=l!==d)if(m&&b.writeLn("Update "+d+" with "+l),p=f[d.id],0===p.uses.length)p=
!1;else{m&&b.writeLn("Replacing: "+d.id+" in ["+p.uses.map(e).join(", ")+"] with "+l.id);for(var w=0,u=p.uses,s=0,A=u.length;s<A;s++)w+=u[s].replaceInput(d,l);!0;p.uses=[];p=!0}p&&(r=!0,g++)});m&&(b.writeLn("Simplified "+g+" phis, in "+l+" iterations."),b.leave("<"))};ja.prototype.splitCriticalEdges=function(){var a=m&&new IndentingWriter,b=this.blocks,d=[];m&&a.enter("> Splitting Critical Edges");for(var e=0;e<b.length;e++){var f=b[e].successors;if(1<f.length)for(var g=0;g<f.length;g++)1<f[g].predecessors.length&&
d.push({from:b[e],to:f[g]})}if((b=d.length)&&m)a.writeLn("Splitting: "+b),this.trace(a);for(var l;l=d.pop();){e=l.from.successors.indexOf(l.to);f=l.to.predecessors.indexOf(l.from);!0;m&&a.writeLn("Splitting critical edge: "+l.from+" -> "+l.to);var g=l.to,r=g.region,p=new v(r.predecessors[f]),w=new y(p),p=this.buildBlock(p,w);r.predecessors[f]=new V(w,V.Type.TRUE);l=l.from;l.successors[e]=p;p.pushPredecessor(l);p.pushSuccessor(g);g.predecessors[f]=p}b&&m&&this.trace(a);m&&a.leave("<");return b};ja.prototype.allocateVariables=
function(){function a(d){if(!(d instanceof V&&(!V.Type.STORE||d.type===V.Type.STORE))&&!(d instanceof H)&&d instanceof D)d.variable=new L("l"+d.id),m&&b.writeLn("Allocated: "+d.variable+" to "+d)}var b=m&&new IndentingWriter;m&&b.enter("> Allocating Virtual Registers");var d=this.computeReversePostOrder();d.forEach(function(b){b.nodes.forEach(a);b.phis&&b.phis.forEach(a)});for(var e=[],f=0;f<d.length;f++){var g=d[f],l=g.phis,g=g.predecessors;if(l)for(var r=0;r<l.length;r++){var p=l[r];m&&b.writeLn("Emitting moves for: "+
p);arguments=p.args;!0;for(var w=0;w<g.length;w++){var u=g[w],s=arguments[w];if(!s.abstract&&!(s instanceof V&&(!V.Type.STORE||s.type===V.Type.STORE)))u=e[u.id]||(e[u.id]=[]),s=s.variable||s,p.variable!==s&&u.push(new N(p.variable,s))}}}var A=this.blocks;e.forEach(function(a,d){var e=A[d],f=0;for(m&&b.writeLn(e+" Moves: "+a);a.length;){for(var g=0;g<a.length;g++){for(var l=a[g],r=0;r<a.length;r++)if(g!==r&&a[r].from===l.to){l=null;break}l&&(a.splice(g--,1),e.append(l))}if(a.length){m&&b.writeLn("Breaking Cycle");
l=a[0];r=new L("t"+f++);A[d].append(new N(r,l.to));for(g=1;g<a.length;g++)a[g].from===l.to&&(a[g].from=r)}}});m&&b.leave("<")};ja.prototype.scheduleEarly=function(){function a(b){return b.mustNotFloat||b.shouldNotFloat?!1:b.mustFloat||b.shouldFloat||b instanceof oa||b instanceof la||b instanceof ba?!0:b instanceof da||b instanceof ka||b instanceof oa}function b(d){!0;u[d.id]=!0;!0;a(d)||d.control.block.append(d)}function d(a,e){!0;!0;!0;l&&m.writeLn("Scheduled: "+a+" in "+e);a.control=e;b(a)}function f(a){l&&
m.enter("> Schedule: "+a);var p=[];a.visitInputs(function(a){g(a)||a instanceof D&&p.push(a instanceof V?a.project():a)});l&&m.writeLn("Inputs: ["+p.map(e)+"], length: "+p.length);for(var s=0;s<p.length;s++){var A=p[s];!(A instanceof T)&&!u[A.id]&&f(A)}if(a.control)a instanceof z||(a instanceof T||a instanceof w||u[a.id])||b(a);else if(p.length){A=p[0].control;for(s=1;s<p.length;s++){var v=p[s].control;A.block.dominatorDepth<v.block.dominatorDepth&&(A=v)}d(a,A)}else d(a,r.root.region);l&&m.leave("<")}
var l=!1,m=l&&new IndentingWriter;l&&m.enter("> Schedule Early");var r=this,p=this.dfg,u=[],s=[];p.forEachInPreOrderDepthFirstSearch(function(b){b instanceof v||b instanceof y||(b.control&&s.push(b),b instanceof T&&b.args.forEach(function(b){a(b)&&(b.mustNotFloat=!0)}))},!0);l&&s.forEach(function(a){print("Root: "+a)});for(var A=0;A<s.length;A++){var E=s[A];if(E instanceof T){var B=E.control.block;(B.phis||(B.phis=[])).push(E)}E.control&&f(E)}l&&m.leave("<");s.forEach(function(a){a=a instanceof V?
a.project():a;a===p.start||a instanceof v||!0})};ja.prototype.trace=function(a){function b(a){e[a.id]||(e[a.id]=!0,f.push(a),a.visitSuccessors(b))}function d(a){!0;return a===g?"house":a===l?"invhouse":"box"}var e=[],f=[],g=this.root,l=this.exit;b(g);a.writeLn("");a.enter("digraph CFG {");a.writeLn("graph [bgcolor = gray10];");a.writeLn("edge [fontname = Consolas, fontsize = 11, color = white, fontcolor = white];");a.writeLn("node [shape = box, fontname = Consolas, fontsize = 11, color = white, fontcolor = white, style = filled];");
a.writeLn("rankdir = TB;");f.forEach(function(b){var e="";void 0!==b.name&&(e+=" "+b.name);void 0!==b.rpo&&(e+=" O: "+b.rpo);a.writeLn("B"+b.id+' [label = "B'+b.id+e+'", fillcolor = "black", shape='+d(b)+", style=filled];")});f.forEach(function(b){b.visitSuccessors(function(d){a.writeLn("B"+b.id+" -> B"+d.id)});b.dominator&&a.writeLn("B"+b.id+" -> B"+b.dominator.id+" [color = orange];");b.follow&&a.writeLn("B"+b.id+" -> B"+b.follow.id+" [color = purple];")});a.leave("}");a.writeLn("")};Ma=ja;var ja=
function(){},Ba=function(a,b){!0;if(g(a.argument))return new ha(a.operator.evaluate(a.argument.value));if(b){var d=Ca(a.argument,!0);if(a.operator===W.TRUE)return d;if(d instanceof ka){if(a.operator===W.FALSE&&d.operator===W.FALSE)return d.argument}else return new ka(a.operator,d)}return a},Ca=function(a,b){var d;a instanceof ka?d=Ba(a,b):a instanceof da?(!0,d=g(a.left)&&g(a.right)?new ha(a.operator.evaluate(a.left.value,a.right.value)):a):d=a;return d};ja.prototype.tryFold=Ca;a.isConstant=g;a.Block=
Ha;a.Node=p;a.Start=w;a.Null=pa;a.Undefined=za;a.This=la;a.Throw=fa;a.Arguments=ba;a.ASGlobal=aa;a.Projection=V;a.Region=v;a.Latch=ca;a.Binary=da;a.Unary=ka;a.Constant=ha;a.ASFindProperty=I;a.GlobalProperty=ea;a.GetProperty=J;a.SetProperty=H;a.CallProperty=E;a.ASCallProperty=G;a.ASGetProperty=Q;a.ASHasProperty=O;a.ASDeleteProperty=M;a.ASGetDescendants=S;a.ASSetProperty=R;a.ASGetSlot=F;a.ASSetSlot=K;a.Call=u;a.ASNew=P;a.Phi=T;a.Stop=r;a.If=A;a.Switch=C;a.End=z;a.Jump=y;a.ASScope=ya;a.Operator=W;a.Variable=
L;a.Move=N;a.Copy=B;a.Parameter=oa;a.NewArray=Z;a.NewObject=ia;a.ASNewActivation=qa;a.KeyValuePair=sa;a.ASMultiname=Aa;a.DFG=va;a.CFG=Ma;a.Flags={INDEXED:1,RESOLVED:2,PRISTINE:4,IS_METHOD:8};a.PeepholeOptimizer=ja})("undefined"===typeof exports?IR={}:exports);
var c4Options=systemOptions.register(new OptionSet("C4 Options")),enableC4=c4Options.register(new Option("c4","c4","boolean",!1,"Enable the C4 compiler.")),c4TraceLevel=c4Options.register(new Option("tc4","tc4","number",0,"Compiler Trace Level")),enableRegisterAllocator=c4Options.register(new Option("ra","ra","boolean",!1,"Enable register allocator.")),getPublicQualifiedName=Multiname.getPublicQualifiedName,createName=function(a,b){return isNumeric(b)||isObject(b)?b:new Multiname(a,b)};
(function(a){function b(a){return a instanceof Q&&isString(a.value)}function d(a){return a instanceof Q&&isNumeric(a.value)?!0:a.ty&&a.ty.isNumeric()}function e(a){return new Q(a)}function f(a,b,d){!0;d=d.split(".");for(var f=0;f<d.length;f++)b=new IR.GetProperty(null,a.store,b,e(d[f])),b.shouldFloat=!0,a.loads.push(b);return b}function g(a){a=new IR.GlobalProperty(a);a.mustFloat=!0;return a}function m(a,b){var d=new P(a,b);V&&(d=V.tryFold(d));return d}function l(a,b,d){var e=new J(a,b,d);b.ty&&(b.ty!==
Type.Any&&b.ty===d.ty)&&(a===H.EQ?e.operator=H.SEQ:a===H.NE&&(e.operator=H.SNE));V&&(e=V.tryFold(e));return e}function p(a){return l(H.OR,a,e(0))}function r(a){return l(H.URSH,a,e(0))}function s(a){return d(a)?a:m(H.PLUS,a)}function v(a){return m(H.FALSE,m(H.FALSE,a))}function w(a,b,d){return new S(null,null,a,b,d,IR.Flags.PRISTINE)}function z(a,b){return w(g(a),null,[b])}function A(a){!0;return ba[Multiname.getQualifiedName(a)]}var C=IR.Node,u=IR.Start,y=IR.Null,D=IR.Undefined,B=IR.This,E=IR.Projection,
G=IR.Region,J=IR.Binary,P=IR.Unary,Q=IR.Constant,S=IR.Call,O=IR.Phi,F=IR.Stop,H=IR.Operator,R=IR.Parameter,K=IR.NewArray,I=IR.NewObject,M=IR.KeyValuePair,T=IR.isConstant,L=IR.DFG,N=new IndentingWriter,V=new IR.PeepholeOptimizer,ca,da=function(a){this.id=la+=1;this.index=a;this.local=[];this.stack=[];this.scope=[];this.store=D;this.loads=[];this.saved=D},ea=function(a,b,d){a=b instanceof O&&b.control===a?b:new O(a,b);a.pushValue(d);return a},ka=function(a,b,d){for(var e=0;e<b.length;e++)b[e]=ea(a,
b[e],d[e])},ha=function(a){return a instanceof C?a.toString(!0):a},la=0;da.prototype.clone=function(a){var b=new ca;b.index=void 0!==a?a:this.index;b.local=this.local.slice(0);b.stack=this.stack.slice(0);b.scope=this.scope.slice(0);b.loads=this.loads.slice(0);b.saved=this.saved;b.store=this.store;return b};da.prototype.matches=function(a){return this.stack.length===a.stack.length&&this.scope.length===a.scope.length&&this.local.length===a.local.length};da.prototype.makeLoopPhis=function(a){function b(d){d=
new O(a,d);d.isLoop=!0;return d}var d=new ca;!0;d.index=this.index;d.local=this.local.map(b);d.stack=this.stack.map(b);d.scope=this.scope.map(b);d.loads=this.loads.slice(0);d.saved=this.saved;d.store=b(this.store);return d};da.prototype.optimize=function(){function a(b){if(b instanceof O&&!b.isLoop){var d=b.args.unique();if(1===d.length)return b.seal(),Counter.count("Builder: OptimizedPhi"),d[0]}return b}this.local=this.local.map(a);this.stack=this.stack.map(a);this.scope=this.scope.map(a);this.saved=
a(this.saved);this.store=a(this.store)};da.prototype.merge=function(a,b){!0;!0;ka(a,this.local,b.local);ka(a,this.stack,b.stack);ka(a,this.scope,b.scope);this.store=ea(a,this.store,b.store);this.store.abstract=!0};da.prototype.trace=function(a){a.writeLn(this.toString())};da.prototype.toString=function(){return"<"+String(this.id+" @ "+this.index).padRight(" ",10)+(" M: "+ha(this.store)).padRight(" ",14)+(" X: "+ha(this.saved)).padRight(" ",14)+(" $: "+this.scope.map(ha).join(", ")).padRight(" ",20)+
(" L: "+this.local.map(ha).join(", ")).padRight(" ",40)+(" S: "+this.stack.map(ha).join(", ")).padRight(" ",60)};ca=da;var fa=z.bind(null,"asCoerceString"),da=z.bind(null,"asCoerceObject"),ba=createEmptyObject();ba[Multiname.Int]=p;ba[Multiname.Uint]=r;ba[Multiname.Number]=s;ba[Multiname.String]=fa;ba[Multiname.Object]=da;ba[Multiname.Boolean]=v;var Z=createEmptyObject();Z[Multiname.Int]=p;Z[Multiname.Uint]=r;Z[Multiname.Number]=z.bind(null,"Number");Z[Multiname.String]=z.bind(null,"String");Z[Multiname.Object]=
z.bind(null,"Object");Z[Multiname.Boolean]=z.bind(null,"Boolean");var oa=function(a,b,d){!0;this.abc=a.abc;this.scope=b;this.methodInfo=a;this.hasDynamicScope=d};oa.prototype.buildStart=function(a){var b=this.methodInfo,d=a.entryState=new ca(0);d.local.push(new B(a));for(var l=this.hasDynamicScope?1:0,m=b.parameters.length,r=0;r<m;r++)d.local.push(new R(a,l+r,PARAMETER_PREFIX+b.parameters[r].name));for(r=m;r<b.localCount;r++)d.local.push(D);d.store=new E(a,E.Type.STORE);a.scope=this.hasDynamicScope?
new R(a,0,SAVED_SCOPE_NAME):new Q(this.scope);d.saved=new E(a,E.Type.SCOPE);a.domain=new Q(this.domain);r=new IR.Arguments(a);if(b.needsRest()||b.needsArguments()){var p=e(l+(b.needsRest()?m:0));d.local[m+1]=new S(a,d.store,g("sliceArguments"),null,[r,p],IR.Flags.PRISTINE)}p=f(d,r,"length");for(r=0;r<m;r++){var w=b.parameters[r],u=r+1,s=d.local[u];if(void 0!==w.value)var v=new IR.Binary(H.LT,p,e(l+r+1)),s=new IR.Latch(null,v,e(w.value),s);w.type&&!w.type.isAnyName()&&((v=A(w.type))?s=v(s):c4CoerceNonPrimitiveParameters&&
(s=new S(a,d.store,g("asCoerceByMultiname"),null,[e(this.abc.domain),e(w.type),s],!0)));d.local[u]=s}return a};oa.prototype.buildGraph=function(){function a(u,z,B){function G(a){if(void 0!==a){if(a<Fa.length)return Fa[Fa.length-1-a];if(a===Fa.length)return B.saved;var b=B.saved;a-=Fa.length;for(var d=0;d<a;d++)b=f(B,b,"parent");return b}return 0<Fa.length?Fa.top():B.saved}function O(a){!0;X.ti&&!a.ty&&(a.ty=X.ti.type);Ea.push(a)}function F(){return Ea.pop()}function L(a){var b=Da,d=F();d.shouldNotFloat=
!0;b[a]=d}function ia(a){var b=da[a],d=b.flags;a=b.isRuntimeName()?Ea.pop():e(b.name);b.isRuntimeNamespace()?(b=new K(u,[F()]),!0,b.shouldFloat=!0):b=e(b.namespaces);return new IR.ASMultiname(b,a,d)}function sa(a,b,d){b=new IR.ASFindProperty(u,B.store,G(),a,ca,b);if(d){if(d.object)return d.object instanceof Global&&!d.object.isExecuting()?(console.info("Can't optimize findProperty "+a+", global object is not yet executed or executing."),b):e(d.object);if(void 0!==d.scopeDepth)return ya(G(d.scopeDepth))}console.info("Can't optimize findProperty "+
a);return b}function ja(a,b){var d=A(a);return d?d(b):c4CoerceNonPrimitive?wa(g("asCoerceByMultiname"),null,[ca,e(a),b]):b}function ya(a){return a instanceof IR.ASScope?a.object:f(B,a,"object")}function ma(a){B.store=new E(a,E.Type.STORE);a.loads=B.loads.slice(0);B.loads.length=0;return a}function Ca(a){var b=a.namespaces,d=a.name;if(globalMultinameAnalysis.value)if(!T(b)||!T(d)||a.isAttribute())Counter.count("GlobalMultinameResolver: Cannot resolve runtime multiname or attribute.");else return isNumeric(d.value)||
!isString(d.value)||!d.value?(Counter.count("GlobalMultinameResolver: Cannot resolve numeric or any names."),!1):GlobalMultinameResolver.resolveMultiname(new Multiname(b.value,d.value,a.flags))}function Ba(a,b,d,f){!0;f=!!f;if(d){if(d.trait){if(d.trait.isConst()&&d.trait.hasDefaultValue)return e(d.trait.value);a=new IR.GetProperty(u,B.store,a,e(Multiname.getQualifiedName(d.trait.name)));d.trait.isGetter()?a=ma(a):B.loads.push(a);return a}if(d.propertyQName)return ma(new IR.GetProperty(u,B.store,a,
e(d.propertyQName)));if(d.isDirectlyReadable)return ma(new IR.GetProperty(u,B.store,a,b.name));if(d.isIndexedReadable)return ma(new IR.ASGetProperty(u,B.store,a,b,IR.Flags.INDEXED|(f?IR.Flagas.IS_METHOD:0)))}console.info("Can't optimize getProperty "+b);if(d=Ca(b))return ma(new IR.ASGetProperty(u,B.store,a,e(Multiname.getQualifiedName(d)),IR.Flags.RESOLVED|(f?IR.Flagas.IS_METHOD:0)));Counter.count("Compiler: Slow ASGetProperty");return ma(new IR.ASGetProperty(u,B.store,a,b,f?IR.Flagas.IS_METHOD:0))}
function wa(a,b,d){return ma(new S(u,B.store,a,b,d,IR.Flags.PRISTINE))}function ua(a){var b;a.isBinary()&&(b=F());var d=F();a=b?l(a,d,b):m(a,d);V&&(a=V.tryFold(a,!0));return a}function Ka(a){a=m(H.FALSE,ua(a));V&&(a=V.tryFold(a,!0));return a}function na(a,b){var d,e;a.isBinary()?(e=F(),d=F(),b&&(e=p(e),d=p(d)),O(l(a,d,e))):(d=F(),b&&(d=p(d)),O(m(a,d)))}function xa(a){!0;a=new IR.If(u,a);Ga=[{control:new E(a,E.Type.FALSE),target:C[X.position+1],state:B},{control:new E(a,E.Type.TRUE),target:X.target,
state:B}]}!0;B.optimize();var Ja=z.entryState;if(Ja){ea&&N.writeLn("Type State: "+Ja);for(var $=0;$<Ja.local.length;$++){var Y=Ja.local[$],Da=B.local[$];Da.ty||(Da.ty=Y)}}var Da=B.local,Ea=B.stack,Fa=B.scope,U,ga,Ga=null;ea&&(N.writeLn("Processing Region: "+u+", Block: "+z.bid),N.enter(("> state: "+u.entryState.toString()).padRight(" ",100)));u.processed=!0;var X,Ja=z.position;for(z=z.end.position;Ja<=z;Ja++){X=C[Ja];var ta=X.op;B.index=Ja;switch(ta){case 3:ma(new IR.Throw(u,F()));oa.push({region:u,
store:B.store,value:D});!0;Ga=[];break;case 98:O(Da[X.index]);break;case 208:case 209:case 210:case 211:O(Da[ta-208]);break;case 99:L(X.index);break;case 212:case 213:case 214:case 215:L(ta-212);break;case 28:Fa.push(new IR.ASScope(G(),F(),!0));break;case 48:Fa.push(new IR.ASScope(G(),F(),!1));break;case 29:Fa.pop();break;case 100:O(new IR.ASGlobal(null,B.saved));break;case 101:O(ya(B.scope[X.index]));break;case 93:O(sa(ia(X.index),!0,X.ti));break;case 94:O(sa(ia(X.index),!1,X.ti));break;case 102:$=
ia(X.index);Y=F();O(Ba(Y,$,X.ti,!1,ic(X)));break;case 89:$=ia(X.index);U=Y=F();$=$ instanceof Q&&$.value instanceof Multiname&&Multiname.isQName($.value)?e(Multiname.getQualifiedName($.value)):$;U=new IR.ASGetDescendants(u,B.store,U,$);O(U);break;case 96:$=ia(X.index);O(Ba(sa($,!0,X.ti),$,X.ti,!1,ic(X)));break;case 104:case 97:U=F();$=ia(X.index);Y=F();a:{ga=X.ti;ic(X);!0;if(ga){if(ga.trait){ma(new IR.SetProperty(u,B.store,Y,e(Multiname.getQualifiedName(ga.trait.name)),U));break a}if(ga.propertyQName){ma(new IR.SetProperty(u,
B.store,Y,e(ga.propertyQName),U));break a}if(ga.isDirectlyWriteable){ma(new IR.SetProperty(u,B.store,Y,$.name,U));break a}if(ga.isIndexedWriteable){ma(new IR.ASSetProperty(u,B.store,Y,$,U,IR.Flags.INDEXED));break a}}console.info("Can't optimize setProperty "+$);Ca($);ma(new IR.ASSetProperty(u,B.store,Y,$,U,0))}break;case 106:$=ia(X.index);Y=F();O(ma(new IR.ASDeleteProperty(u,B.store,Y,$)));break;case 108:Y=F();a:{U=Y;$=e(X.index);if(Y=X.ti)if(ga=Y.trait){if(ga.isConst()&&Y.trait.hasDefaultValue){U=
e(ga.value);break a}$=Multiname.getQualifiedName(ga.name);U=ma(new IR.GetProperty(u,B.store,U,e($)));break a}console.info("Can't optimize getSlot "+$);U=ma(new IR.ASGetSlot(null,B.store,U,$))}O(U);break;case 109:U=F();Y=F();a:{$=Y;Y=e(X.index);if(ga=X.ti)if(ga=ga.trait){Y=Multiname.getQualifiedName(ga.name);ma(new IR.SetProperty(u,B.store,$,e(Y),U));break a}console.info("Can't optimize setSlot "+Y);ma(new IR.ASSetSlot(u,B.store,$,Y,U))}break;case 4:$=ia(X.index);Y=F();O(wa(g("getSuper"),null,[B.saved,
Y,$]));break;case 5:U=F();$=ia(X.index);Y=F();ma(wa(g("setSuper"),null,[B.saved,Y,$,U]));break;case 241:case 240:break;case 64:O(w(Ia,null,[e(ba[X.index]),G(),e(!0)]));break;case 65:ga=Ea.popMany(X.argCount);Y=F();U=F();O(ma(new S(u,B.store,U,Y,ga,0)));break;case 70:case 79:case 76:ga=Ea.popMany(X.argCount);$=ia(X.index);Y=F();a:{U=Y;var La=$,$=ga;ga=76===ta;if((Y=X.ti)&&Y.trait){if(Y.trait.isMethod()){ga=void 0;ga=Y.trait.holder instanceof InstanceInfo&&Y.trait.holder.isInterface()?Multiname.getPublicQualifiedName(Multiname.getName(Y.trait.name)):
Multiname.getQualifiedName(Y.trait.name);ga=VM_OPEN_METHOD_PREFIX+ga;U=ma(new IR.CallProperty(u,B.store,U,e(ga),$,IR.Flags.PRISTINE));break a}if(Y.trait.isClass()){ga=Y.trait.name;!0;if(ga=Z[Multiname.getQualifiedName(ga)]){U=ga($[0]);break a}Y=Multiname.getQualifiedName(Y.trait.name);U=ma(new IR.CallProperty(u,B.store,U,e(Y),$,0));break a}}else if(Y&&Y.propertyQName){U=ma(new IR.CallProperty(u,B.store,U,e(Y.propertyQName),$,IR.Flags.PRISTINE));break a}U=(Y=Ca(La))?ma(new IR.ASCallProperty(u,B.store,
U,e(Multiname.getQualifiedName(Y)),$,IR.Flags.PRISTINE|IR.Flags.RESOLVED,ga)):ma(new IR.ASCallProperty(u,B.store,U,La,$,IR.Flags.PRISTINE,ga))}79!==ta&&O(U);break;case 69:case 78:$=ia(X.index);ga=Ea.popMany(X.argCount);Y=F();U=wa(g("getSuper"),null,[B.saved,Y,$]);U=wa(U,Y,ga);78!==ta&&O(U);break;case 66:ga=Ea.popMany(X.argCount);Y=F();O(ma(new IR.ASNew(u,B.store,Y,ga)));break;case 73:ga=Ea.popMany(X.argCount);Y=F();if(!X.ti||!X.ti.noCallSuperNeeded)U=f(B,B.saved,"object.baseClass.instanceConstructorNoInitialize"),
wa(U,Y,ga);break;case 74:ga=Ea.popMany(X.argCount);$=ia(X.index);Y=F();U=Ba(Y,$,X.ti,!1,ic(X));O(ma(new IR.ASNew(u,B.store,U,ga)));break;case 128:if(X.ti&&X.ti.noCoercionNeeded){Counter.count("Compiler: NoCoercionNeeded");break}else Counter.count("Compiler: CoercionNeeded");U=F();O(ja(da[X.index],U));break;case 131:case 115:O(p(F()));break;case 136:case 116:O(r(F()));break;case 132:case 117:O(s(F()));break;case 129:case 118:O(v(F()));break;case 120:O(wa(g("checkFilter"),null,[F()]));break;case 130:break;
case 133:O(fa(F()));break;case 112:U=F();U=b(U)?U:w(g("String"),null,[U]);O(U);break;case 135:Y=F();c4AsTypeLate&&(U=F(),O(wa(g("asAsType"),null,[Y,U])));break;case 72:case 71:U=D;if(72===ta&&(U=F(),P.returnType&&(!X.ti||!X.ti.noCoercionNeeded)))U=ja(P.returnType,U);oa.push({region:u,store:B.store,value:U});!0;Ga=[];break;case 30:case 35:U=F();Y=F();O(new IR.CallProperty(u,B.store,Y,e(30===ta?"asNextName":"asNextValue"),[U],IR.Flags.PRISTINE));break;case 50:U=wa(g("asHasNext2"),null,[Da[X.object],
Da[X.index]]);Da[X.object]=f(B,U,"object");O(Da[X.index]=f(B,U,"index"));break;case 32:O(y);break;case 33:O(D);break;case 34:notImplemented();break;case 36:O(e(X.value));break;case 37:O(e(X.value));break;case 44:O(e(ha[X.index]));break;case 45:O(e(J[X.index]));break;case 46:O(e(ka[X.index]));break;case 47:O(e(R[X.index]));break;case 38:O(e(!0));break;case 39:O(e(!1));break;case 40:O(e(NaN));break;case 41:F();break;case 42:U=F();U.shouldNotFloat=!0;O(U);O(U);break;case 43:B.stack.push(F(),F());break;
case 239:case 240:case 241:break;case 12:xa(Ka(H.LT));break;case 24:xa(ua(H.GE));break;case 13:xa(Ka(H.LE));break;case 23:xa(ua(H.GT));break;case 14:xa(Ka(H.GT));break;case 22:xa(ua(H.LE));break;case 15:xa(Ka(H.GE));break;case 21:xa(ua(H.LT));break;case 16:!0;Ga=[{control:u,target:X.target,state:B}];break;case 17:xa(ua(H.TRUE));break;case 18:xa(ua(H.FALSE));break;case 19:xa(ua(H.EQ));break;case 20:xa(ua(H.NE));break;case 25:xa(ua(H.SEQ));break;case 26:xa(ua(H.SNE));break;case 27:U=F();!0;if(2<X.targets.length){Ga=
[];U=new IR.Switch(u,U);for($=0;$<X.targets.length;$++)Ga.push({control:new E(U,E.Type.CASE,e($)),target:X.targets[$],state:B})}else!0,U=l(H.SEQ,U,e(0)),U=new IR.If(u,U),Ga=[{control:new E(U,E.Type.FALSE),target:X.targets[1],state:B},{control:new E(U,E.Type.TRUE),target:X.targets[0],state:B}];break;case 150:na(H.FALSE);break;case 151:na(H.BITWISE_NOT);break;case 160:$=F();U=F();Y=d(U)&&d($)||(b(U)||U.ty&&U.ty.isString())&&(b($)||$.ty&&$.ty.isString())?H.ADD:useAsAdd?H.AS_ADD:H.ADD;O(l(Y,U,$));break;
case 197:na(H.ADD,!0);break;case 161:na(H.SUB);break;case 198:na(H.SUB,!0);break;case 162:na(H.MUL);break;case 199:na(H.MUL,!0);break;case 163:na(H.DIV);break;case 164:na(H.MOD);break;case 165:na(H.LSH);break;case 166:na(H.RSH);break;case 167:na(H.URSH);break;case 168:na(H.AND);break;case 169:na(H.OR);break;case 170:na(H.XOR);break;case 171:na(H.EQ);break;case 172:na(H.SEQ);break;case 173:na(H.LT);break;case 174:na(H.LE);break;case 175:na(H.GT);break;case 176:na(H.GE);break;case 144:na(H.NEG);break;
case 196:na(H.NEG,!0);break;case 145:case 192:case 147:case 193:O(e(1));145===ta||147===ta?O(s(F())):O(p(F()));145===ta||192===ta?na(H.ADD):na(H.SUB);break;case 146:case 194:case 148:case 195:O(e(1));146===ta||148===ta?O(s(Da[X.index])):O(p(Da[X.index]));146===ta||194===ta?na(H.ADD):na(H.SUB);L(X.index);break;case 177:Y=F();U=F();O(wa(f(B,Y,"isInstanceOf"),null,[U]));break;case 178:U=F();$=ia(X.index);Y=Ba(sa($,!1),$);O(wa(g("asIsType"),null,[Y,U]));break;case 179:Y=F();U=F();O(wa(g("asIsType"),null,
[Y,U]));break;case 180:Y=F();U=F();$=new IR.ASMultiname(D,U,0);O(ma(new IR.ASHasProperty(u,B.store,Y,$)));break;case 149:O(wa(g("asTypeOf"),null,[F()]));break;case 8:O(D);L(X.index);break;case 83:ga=Ea.popMany(X.argCount);Y=F();U=g("applyType");O(wa(U,null,[ca,Y,new K(u,ga)]));break;case 86:ga=Ea.popMany(X.argCount);O(new K(u,ga));break;case 85:Y=[];for($=0;$<X.argCount;$++)U=F(),ga=F(),!0,ga=e(Multiname.getPublicQualifiedName(ga.value)),Y.push(new M(ga,U));O(new I(u,Y));break;case 87:O(new IR.ASNewActivation(e(P)));
break;case 88:U=g("createClass");O(wa(U,null,[e(la[X.index]),F(),G()]));break;default:unexpected("Not Implemented: "+X)}239===ta||(241===ta||240===ta)||ea&&N.writeLn(("state: "+B.toString()).padRight(" ",100)+" : "+Ja+", "+X.toString(this.abc))}ea&&N.leave(("< state: "+B.toString()).padRight(" ",100));Ga||(Ga=[],X.position+1<=C.length&&Ga.push({control:u,target:C[X.position+1],state:B}));return Ga}for(var z=this.methodInfo.analysis,B=z.blocks,C=z.bytecodes,P=this.methodInfo,J=this.abc.constantPool.ints,
ka=this.abc.constantPool.uints,R=this.abc.constantPool.doubles,ha=this.abc.constantPool.strings,ba=this.abc.methods,la=this.abc.classes,da=this.abc.constantPool.multinames,ca=new Q(this.abc.domain),ea=2<c4TraceLevel.value,oa=[],z=0;z<B.length;z++)B[z].blockDominatorOrder=z;var ja=new SortedList(function(a,b){return a.block.blockDominatorOrder-b.block.blockDominatorOrder}),z=new u(null);this.buildStart(z);var Ia=g("createFunction");for(ja.push({region:z,block:B[0]});B=ja.pop();)a(B.region,B.block,
B.region.entryState.clone()).forEach(function(a){var b=a.target,d=b.region;d?(ea&&N.enter("Merging into region: "+d+" @ "+b.position+", block "+b.bid+" {"),ea&&N.writeLn("  R "+d.entryState),ea&&N.writeLn("+ I "+a.state),d.entryState.merge(d,a.state),d.predecessors.push(a.control),ea&&N.writeLn("  = "+d.entryState),ea&&N.leave("}")):(d=b.region=new G(a.control),b.loop&&ea&&N.writeLn("Adding PHIs to loop region."),d.entryState=b.loop?a.state.makeLoopPhis(d):a.state.clone(b.position),ea&&N.writeLn("Adding new region: "+
d+" @ "+b.position+" to worklist."),ja.push({region:d,block:b}))}),ea&&N.enter("Worklist: {"),ja.forEach(function(a){ea&&N.writeLn(a.region+" "+a.block.bdo+" "+a.region.entryState)}),ea&&N.leave("}");ea&&N.writeLn("Done");if(1<oa.length){var Ba=new G(null),Ca=new O(Ba,null),La=new O(Ba,null);oa.forEach(function(a){Ba.predecessors.push(a.region);Ca.pushValue(a.value);La.pushValue(a.store)});B=new F(Ba,La,Ca)}else B=new F(oa[0].region,oa[0].store,oa[0].value);return new L(B)};a.buildMethod=function(a,
b,d,e){!0;!0;!0;Counter.count("Compiler: Compiled Methods");Timer.start("Compiler");Timer.start("Mark Loops");b.analysis.markLoops();Timer.stop();enableVerifier.value&&(Timer.start("Verify"),a.verifyMethod(b,d),Timer.stop());a=0<c4TraceLevel.value;var f=1<c4TraceLevel.value;Timer.start("Build IR");C.startNumbering();b=(new oa(b,d,e)).buildGraph();Timer.stop();f&&b.trace(N);Timer.start("Build CFG");b=b.buildCFG();Timer.stop();Timer.start("Optimize Phis");b.optimizePhis();Timer.stop();Timer.start("Schedule Nodes");
b.scheduleEarly();Timer.stop();f&&b.trace(N);Timer.start("Verify IR");b.verify();Timer.stop();Timer.start("Allocate Variables");b.allocateVariables();Timer.stop();Timer.start("Generate Source");f=Backend.generate(b,enableRegisterAllocator.value);Timer.stop();a&&N.writeLn(f.body);C.stopNumbering();Timer.stop();return f}})("undefined"===typeof exports?Builder={}:exports);
var Compiler=new (function(){function a(){this.verifier=new Verifier}a.prototype.compileMethod=function(a,d,e){return Builder.buildMethod(this.verifier,a,d,e)};return a}());
(function(a){var b,d=function(a){this.kind=1;this.body=a},e=function(a){this.kind=2;this.body=a},f=function(a,b,d,e){this.kind=3;this.cond=a;this.then=b;this.else=d;this.negated=!1;this.nothingThrownLabel=e},g=function(a,b){this.kind=4;this.index=a;this.body=b},m=function(a,b,d){this.kind=5;this.determinant=a;this.cases=b;this.nothingThrownLabel=d},l=function(a,b){this.kind=6;this.labels=a;this.body=b},p=function(a){for(var b={},d=0,e=a.length;d<e;d++){var f=a[d];f.labels||print(f.toSource());for(var g=
0,l=f.labels.length;g<l;g++)b[f.labels[g]]=f}this.kind=7;this.cases=a;this.labelMap=b},r=function(a){this.kind=8;this.label=a},s=function(a,b){this.kind=9;this.label=a;this.head=b},v=function(a,b){this.kind=10;this.label=a;this.head=b;this.necessary=!0},w=function(a,b){this.kind=11;this.body=a;this.catches=b},z=function(a,b,d){this.kind=12;this.varName=a;this.typeName=b;this.body=d};d.prototype={trace:function(a){for(var b=this.body,d=0,e=b.length;d<e;d++)b[d].trace(a)},first:function(){return this.body[0]},
slice:function(a,b){return new d(this.body.slice(a,b))}};e.prototype={trace:function(a){a.enter("loop {");this.body.trace(a);a.leave("}")}};f.prototype={trace:function(a){this.cond.trace(a);this.nothingThrownLabel&&a.enter("if (label is "+this.nothingThrownLabel+") {");a.enter("if"+(this.negated?" not":"")+" {");this.then&&this.then.trace(a);this.else&&(a.outdent(),a.enter("} else {"),this.else.trace(a));a.leave("}");this.nothingThrownLabel&&a.leave("}")}};g.prototype={trace:function(a){0<=this.index?
a.writeLn("case "+this.index+":"):a.writeLn("default:");a.indent();this.body&&this.body.trace(a);a.outdent()}};m.prototype={trace:function(a){this.nothingThrownLabel&&a.enter("if (label is "+this.nothingThrownLabel+") {");this.determinant.trace(a);a.writeLn("switch {");for(var b=0,d=this.cases.length;b<d;b++)this.cases[b].trace(a);a.writeLn("}");this.nothingThrownLabel&&a.leave("}")}};l.prototype={trace:function(a){a.enter("if (label is "+this.labels.join(" or ")+") {");this.body&&this.body.trace(a);
a.leave("}")}};p.prototype={trace:function(a){for(var b=0,d=this.cases.length;b<d;b++)this.cases[b].trace(a)}};r.prototype={trace:function(a){a.writeLn("label = "+this.label)}};s.prototype={trace:function(a){this.label&&a.writeLn("label = "+this.label);a.writeLn("break")}};v.prototype={trace:function(a){this.label&&a.writeLn("label = "+this.label);this.necessary&&a.writeLn("continue")}};w.prototype={trace:function(a){a.enter("try {");this.body.trace(a);a.writeLn("label = "+this.nothingThrownLabel);
for(var b=0,d=this.catches.length;b<d;b++)this.catches[b].trace(a);a.leave("}")}};z.prototype={trace:function(a){a.outdent();a.enter("} catch ("+(this.varName||"e")+(this.typeName?" : "+this.typeName:"")+") {");this.body.trace(a)}};b={SEQ:1,LOOP:2,IF:3,CASE:4,SWITCH:5,LABEL_CASE:6,LABEL_SWITCH:7,EXIT:8,BREAK:9,CONTINUE:10,TRY:11,CATCH:12,Seq:d,Loop:e,If:f,Case:g,Switch:m,LabelCase:l,LabelSwitch:p,Exit:r,Break:s,Continue:v,Try:w,Catch:z};var A=function(a,b){this.options=b||{};var d=a.blocks,e=BitSetFunctor(a.blocks.length),
f=e.ADDRESS_BITS_PER_WORD,g=e.BITS_PER_WORD,l=e.BIT_INDEX_MASK;e.singleton=function(a){var b=new e;b.set(a.id);b.count=1;b.dirty=0;return b};e.fromBlocks=function(a){var b=new e;b.setBlocks(a);return b};var m=e.prototype;e.singleword?(m.forEachBlock=function(a){!0;var b=this.bits;if(b)for(var e=0;e<g;e++)b&1<<e&&a(d[e])},m.choose=function(){var a=this.bits;if(a)for(var b=0;b<g;b++)if(a&1<<b)return d[b]},m.members=function(){var a=[],b=this.bits;if(b)for(var e=0;e<g;e++)b&1<<e&&a.push(d[e]);return a},
m.setBlocks=function(a){for(var b=this.bits,d=0,e=a.length;d<e;d++)b|=1<<(a[d].id&l);this.bits=b}):(m.forEachBlock=function(a){!0;for(var b=this.bits,e=0,f=b.length;e<f;e++){var l=b[e];if(l)for(var m=0;m<g;m++)l&1<<m&&a(d[e*g+m])}},m.choose=function(){for(var a=this.bits,b=0,e=a.length;b<e;b++){var f=a[b];if(f)for(var l=0;l<g;l++)if(f&1<<l)return d[b*g+l]}},m.members=function(){for(var a=[],b=this.bits,e=0,f=b.length;e<f;e++){var l=b[e];if(l)for(var m=0;m<g;m++)l&1<<m&&a.push(d[e*g+m])}return a},
m.setBlocks=function(a){for(var b=this.bits,d=0,e=a.length;d<e;d++){var g=a[d].id;b[g>>f]|=1<<(g&l)}});this.BlockSet=e;this.hasExceptions=!1;this.normalizeReachableBlocks(a.root)},e=function(a,b,d){return function(e,f,g){function l(a){return g+a.id}function m(a){a.fn=a.fn.bind(r)}var r=this;g=g||"";var p=this.bytecodes;p&&(a.forEach(m),b.forEach(m),writeGraphViz(e,f.toString(),p[0],l,function(a){return a.successors||[]},a,b,function(a){return"Block: "+a.id+"\\l"},d&&d.bind(this,l)))}};A.prototype=
{normalizeReachableBlocks:function(a){!0;var b=this.BlockSet,d=[],e={},f={},g=[a];for(f[a.id]=!0;a=g.top();)if(e[a.id])1===e[a.id]&&(e[a.id]=2,d.push(a)),f[a.id]=!1,g.pop();else{e[a.id]=1;f[a.id]=!0;for(var l=a.successors,m=0,r=l.length;m<r;m++){var p=l[m];f[p.id]&&(a.spbacks||(a.spbacks=new b),a.spbacks.set(p.id));!e[p.id]&&g.push(p)}}this.blocks=d.reverse()},computeDominance:function(){var a=this.blocks,b=a.length,d=Array(b);d[0]=0;for(var e=[],f=0;f<b;f++)e[a[f].id]=f,a[f].dominatees=[];for(var g=
!0;g;){g=!1;for(f=1;f<b;f++){var l=a[f].predecessors,m=l.length,r=e[l[0].id];if(!(r in d))for(var p=1;p<m&&!(r=e[l[p].id],r in d);p++);!0;for(p=0;p<m;p++){var w=e[l[p].id];if(w!==r&&w in d){for(;w!==r;){for(;w>r;)w=d[w];for(;r>w;)r=d[r]}r=w}}d[f]!==r&&(d[f]=r,g=!0)}}a[0].dominator=a[0];for(f=1;f<b;f++)e=a[f],m=a[d[f]],e.dominator=m,m.dominatees.push(e),e.npredecessors=e.predecessors.length;b=[a[0]];for(a[0].level||(a[0].level=0);e=b.shift();){a=e.dominatees;p=0;for(m=a.length;p<m;p++)a[p].level=e.level+
1;b.push.apply(b,a)}},computeFrontiers:function(){for(var a=this.BlockSet,b=this.blocks,d=0,e=b.length;d<e;d++)b[d].frontier=new a;d=1;for(e=b.length;d<e;d++){var a=b[d],f=a.predecessors;if(2<=f.length)for(var g=a.dominator,l=0,m=f.length;l<m;l++)for(var r=f[l];r!==g;)r.frontier.set(a.id),r=r.dominator}},analyzeControlFlow:function(){this.computeDominance();return this.analyzedControlFlow=!0},markLoops:function(){function a(d,e){var f=new b;f.setBlocks(d);f.recount();this.id=e;this.body=f;this.exit=
new b;this.save={};this.head=new b;this.npredecessors=0}if(!this.analyzedControlFlow&&!this.analyzeControlFlow())return!1;var b=this.BlockSet,d;d=this.blocks;for(var e=new b,f=0,g=d.length;f<g;f++){var l=d[f],m=l.spbacks;if(m)for(var l=l.successors,r=0,p=l.length;r<p;r++){var w=l[r];m.get(w.id)&&e.set(w.dominator.id)}}d=e.members();if(0>=d.length)return this.markedLoops=!0;d=d.sort(function(a,b){return a.level-b.level});e=0;for(f=d.length-1;0<=f;f--){for(var g=d[f],m=1,l={},r={},p=[],w=[],s=[],A=
g.level+1,v=[g],z=void 0,K=void 0,z=void 0;z=v.top();)if(l[z.id]){if(w.peek()===z){w.pop();var I=[];do K=p.pop(),r[K.id]=!0,I.push(K);while(K!==z);(1<I.length||K.spbacks&&K.spbacks.get(K.id))&&s.push(I)}v.pop()}else{l[z.id]=m++;p.push(z);w.push(z);for(var K=z.successors,I=0,M=K.length;I<M;I++)if(z=K[I],!(z.level<A)){var T=z.id;if(l[T]){if(!r[T])for(;l[w.peek().id]>l[T];)w.pop()}else v.push(z)}}m=s;if(0!==m.length){l=0;for(r=m.length;l<r;l++){p=m[l];w=new a(p,e++);s=0;for(A=p.length;s<A;s++)if(v=p[s],
v.level===g.level+1&&!v.loop){v.loop=w;w.head.set(v.id);z=v.predecessors;K=0;for(I=z.length;K<I;K++)w.body.get(z[K].id)&&v.npredecessors--;w.npredecessors+=v.npredecessors}s=0;for(A=p.length;s<A;s++)v=p[s],v.level===g.level+1&&(v.npredecessors=w.npredecessors);w.head.recount()}}}return this.markedLoops=!0},induceControlTree:function(){function a(b,d){b.recount();if(0===b.count)return null;b.save=d;return b}function d(l,m,r,p,w,s,A){for(var v=[];l;)if(1<l.count){for(var z=new f,R={},K=[],I=l.members(),
M=0,T=I.length;M<T;M++){var L=I[M],N=L.id,V;if(L.loop&&l.contains(L.loop.head)){var ca=L.loop;if(!ca.induced){for(var da=ca.head.members(),ea=0,ka=0,ha=da.length;ka<ha;ka++)ea+=l.save[da[ka].id];if(0<L.npredecessors-ea)L.npredecessors-=l.save[N],L.save=l.save[N],V=d(L,z,R,p),K.push(new b.LabelCase([N],V));else{ka=0;for(ha=da.length;ka<ha;ka++)V=da[ka],V.npredecessors-=ea,V.save=ea;V=d(L,z,R,p);K.push(new b.LabelCase(ca.head.toArray(),V));ca.induced=!0}}}else L.npredecessors-=l.save[N],L.save=l.save[N],
V=d(L,z,R,p),K.push(new b.LabelCase([N],V))}for(var L=[],ka=0,M=0,T=K.length;M<T;M++){V=K[M];ha=V.labels;ca=da=0;for(ea=ha.length;ca<ea;ca++)N=ha[ca],z.get(N)&&0<I[M].npredecessors-l.save[N]?L.push(N):ha[da++]=N;ha.length=da;0<ha.length&&(K[ka++]=V)}K.length=ka;if(0===K.length){M=0;for(T=L.length;M<T;M++)N=L[M],r[N]=(r[N]||0)+l.save[N],m.set(N);break}v.push(new b.LabelSwitch(K));l=a(z,R)}else{1===l.count?(L=l.choose(),N=L.id,L.npredecessors-=l.save[N],L.save=l.save[N]):(L=l,N=L.id);if(w)w=!1;else{if(p&&
!p.body.get(N)){L.npredecessors+=L.save;p.exit.set(N);p.save[N]=(p.save[N]||0)+L.save;v.push(new b.Break(N,p));break}if(p&&L.loop===p){L.npredecessors+=L.save;v.push(new b.Continue(N,p));break}if(L===A)break;if(0<L.npredecessors){L.npredecessors+=L.save;r[N]=(r[N]||0)+L.save;m.set(N);v.push(s?new b.Break(N,s):new b.Exit(N));break}if(L.loop){var ha=L.loop;if(1===ha.head.count)z=d(ha.head.choose(),null,null,ha,!0);else{z=[];da=ha.head.members();M=0;for(T=da.length;M<T;M++)V=da[M],R=V.id,V=d(V,null,
null,ha,!0),z.push(new b.LabelCase([R],V));z=new b.LabelSwitch(z)}v.push(new b.Loop(z));l=a(ha.exit,ha.save);continue}}z=new f;R={};if(e&&L.hasCatches){V=L.successors;K=[];l=[];M=0;for(T=V.length;M<T;M++)I=V[M],(I.exception?K:l).push(I);ka=[];M=0;for(T=K.length;M<T;M++)I=K[M],I.npredecessors-=1,I.save=1,V=d(I,z,R,p),I=I.exception,ka.push(new b.Catch(I.varName,I.typeName,V));T=new b.Try(L,ka)}else l=L.successors,T=L;if(2<l.length){K=[];for(M=l.length-1;0<=M;M--)I=l[M],I.npredecessors-=1,I.save=1,V=
d(I,z,R,p,null,L,l[M+1]),K.unshift(new b.Case(M,V));K.top().index=void 0;e&&L.hasCatches?(T.nothingThrownLabel=g,T=new b.Switch(T,K,g++)):T=new b.Switch(T,K);l=a(z,R)}else 2===l.length?(M=L.hasFlippedSuccessors?l[1]:l[0],V=L.hasFlippedSuccessors?l[0]:l[1],M.npredecessors-=1,M.save=1,M=d(M,z,R,p),V.npredecessors-=1,V.save=1,V=d(V,z,R,p),e&&L.hasCatches?(T.nothingThrownLabel=g,T=new b.If(T,M,V,g++)):T=new b.If(T,M,V),l=a(z,R)):(V=l[0])?e&&L.hasCatches?(T.nothingThrownLabel=V.id,R[V.id]=(R[V.id]||0)+
1,z.set(V.id),l=a(z,R)):(V.npredecessors-=1,V.save=1,l=V):e&&L.hasCatches?(T.nothingThrownLabel=-1,l=a(z,R)):l=V;v.push(T)}return 1<v.length?new b.Seq(v):v[0]}var e=this.hasExceptions,f=this.BlockSet,g=this.blocks.length;this.controlTree=d(this.blocks[0],new f,{})},restructureControlFlow:function(){Timer.start("Restructure Control Flow");if(!this.markedLoops&&!this.markLoops())return Timer.stop(),!1;this.induceControlTree();this.restructuredControlFlow=!0;Timer.stop();return!0},trace:function(a){function b(a){return a.id}
var d=this.bytecodes;a.enter("analysis {");a.enter("cfg {");this.blocks.forEach(function(e){e.dominator?(a.enter("block "+e.id+(0<e.successors.length?" -> "+e.successors.map(b).join(","):"")+" {"),a.writeLn("npredecessors".padRight(" ",10)+e.npredecessors),a.writeLn("idom".padRight(" ",10)+e.dominator.id),a.writeLn("domcs".padRight(" ",10)+e.dominatees.map(b).join(",")),e.frontier&&a.writeLn("frontier".padRight(" ",10)+"{"+e.frontier.toArray().join(",")+"}"),a.writeLn("level".padRight(" ",10)+e.level)):
a.enter("block unreachable {");e.loop&&(a.writeLn("loop".padRight(" ",10)+"{"+e.loop.body.toArray().join(",")+"}"),a.writeLn("  id".padRight(" ",10)+e.loop.id),a.writeLn("  head".padRight(" ",10)+"{"+e.loop.head.toArray().join(",")+"}"),a.writeLn("  exit".padRight(" ",10)+"{"+e.loop.exit.toArray().join(",")+"}"),a.writeLn("  npredecessors".padRight(" ",10)+e.loop.npredecessors));a.writeLn("");if(0<=e.position)for(var f=e.position;f<=e.end.position;f++)a.writeLn((""+f).padRight(" ",5)+d[f]);else a.writeLn("abstract");
a.leave("}")});a.leave("}");this.controlTree&&(a.enter("control-tree {"),this.controlTree.trace(a),a.leave("}"));a.leave("}")},traceCFG:e([{fn:function(a){return a.successors||[]},style:""}],[{fn:function(a){return a.predecessors||[]},style:""}]),traceDJ:e([{fn:function(a){return a.dominatees||[]},style:"style=dashed"},{fn:function(a){var b=new this.BlockSet;b.setBlocks(a.successors);b.subtract(this.BlockSet.fromBlocks(a.dominatees));a.spbacks&&b.subtract(a.spbacks);return b.members()},style:""},
{fn:function(a){return a.spbacks?a.spbacks.members():[]},style:"style=bold"}],[{fn:function(a){return a.predecessors||[]},style:""}],function(a,b){for(var d=this.bytecodes[0],e=[d],f=d.level,g=[];d=e.shift();)f!=d.level&&(b.writeLn("{rank=same; "+g.map(function(b){return"block_"+a(b)}).join(" ")+"}"),g.length=0,f=d.level),g.push(d),e.push.apply(e,d.dominatees)})};a.Control=b;a.analyze=function(a){a=new A(a);a.restructureControlFlow();return a.controlTree}})("undefined"===typeof exports?Looper={}:
exports);
(function(){var a=estransform,b=a.Node,d=a.Identifier,e=a.VariableDeclarator,f=a.AssignmentExpression,g=a.MemberExpression,m=a.IfStatement,l=a.WhileStatement,p=a.FunctionDeclaration;new IndentingWriter;var r=function(a,b,d){this.id=a;this.start=b;this.end=d},s=function(a,b){this.intervals=a.slice(0);this.maxRegisters=b};r.prototype.toString=function(){return"["+this.start+","+this.end+"]"};s.prototype.allocate=function(){var a=this.intervals;this.intervals.sort(function(a,b){return a.start-b.start});
for(var b=new SortedList(function(a,b){return a.end-b.end}),d=this.maxRegisters,e=[],f=d-1;0<=f;f--)e.push("R"+f);a.forEach(function(a){b.forEach(function(b){if(b.end>=a.start)return SortedList.RETURN;e.push(b.register);return SortedList.DELETE});b.length===d?notImplemented("Cannot Spill"):(a.register=e.pop(),b.push(a))})};s.Interval=r;Transform.transform=function(r){var w=a.makePass("scan","scanNode"),z=0;b.prototype.scan=function(a){this.position=z++;return w.apply(this,a)};var A=[],C={},u=[];p.prototype.scan=
function(){this.params.forEach(function(a){a.name in C||(C[a.name]=A.length,A.push(a.name))});this.body.scan();return this};e.prototype.scan=function(){this.position=z++;this.id.name in C||(C[this.id.name]=A.length,A.push(this.id.name));return this};f.prototype.scan=function(a){this.left.scan(a);this.right.scan(a);this.position=z++;return this};l.prototype.scan=function(a){this.position=z++;this.test.scan(a);this.body.scan(a);this.afterPosition=z++;return this};r.scan();for(var y=BitSetFunctor(A.length),
D=BitSetFunctor(z),B=[],E=0;E<A.length;E++)B.push(new D);b.prototype.markLiveness=a.makePass("markLiveness","markLivenessNode",!0);d.prototype.markLiveness=function(a){var b=this.name;if("undefined"===b||a&&a.isProperty||!(b in C))return this;u.push(this);a=a.live;b=C[b];B[b].set(this.position);a.set(b);return this};e.prototype.markLiveness=function(){u.push(this.id);return this};m.prototype.markLiveness=function(a){var b=a.live.clone(),d=a.live.clone();this.alternate&&this.alternate.markLiveness({live:b});
this.consequent&&this.consequent.markLiveness({live:d});a.live.assign(b);a.live._union(d);this.test.markLiveness(a);return this};l.prototype.markLiveness=function(a){var b=a.live.clone(),d=this.afterPosition;do{var e=b.clone();this.body.markLiveness({live:b});this.test.markLiveness({live:b});(e=!e.equals(b))&&b.forEach(function(a){B[a].set(d)})}while(e);a.live.assign(b);return this};f.prototype.markLiveness=function(a){this.right.markLiveness(a);if(this.left instanceof d){a=a.live;var b=C[this.left.name];
B[b].set(this.position);a.clear(b);u.push(this.left)}else this.left.markLiveness(a);return this};g.prototype.markLiveness=function(a){(this.computed||!(this.property instanceof d))&&this.property.markLiveness(a);this.object.markLiveness(a);return this};r.markLiveness({live:new y});r=[];for(E=0;E<B.length;E++){for(var y=B[E],G=D=-1,J=0;J<y.length;J++)if(y.get(J)){D=J;break}for(J=y.length-1;0<=J;J--)if(y.get(J)){G=J;break}y=[D,G];r.push(new s.Interval(E,y[0],y[1]))}(new s(r,1024)).allocate();y=createEmptyObject();
for(E=0;E<A.length;E++)y[A[E]]=r[E].register;for(E=0;E<u.length;E++)u[E].patched||(u[E].name=y[u[E].name],u[E].patched=!0)}})("undefined"===typeof exports?Transform={}:exports);
(function(){function a(a){if("string"===typeof a||null===a||!0===a||!1===a)return new v(a);if(void 0===a)return new w("undefined");if("object"===typeof a||"function"===typeof a)return new w(objectConstantName(a));if("number"===typeof a&&isNaN(a))return new w("NaN");if(Infinity===a)return new w("Infinity");if(-Infinity===a)return new S("-",new w("Infinity"));if("number"===typeof a&&0>1/a)return new S("-",new v(Math.abs(a)));if("number"===typeof a)return new v(a);unexpected("Cannot emit constant for value: ",
a)}function b(a){!0;return new w(a)}function d(a){if(!("$"===a[0]||"_"===a[0]||"\\"===a[0]||"a"<=a[0]&&"z">=a[0]||"A"<=a[0]&&"Z">=a[0]))return!1;for(var b=1;b<a.length;b++)if(!("$"===a[b]||"_"===a[b]||"\\"===a[b]||"a"<=a[b]&&"z">=a[b]||"A"<=a[b]&&"Z">=a[b]||"0"<=a[b]&&"9">=a[b]))return!1;return!0}function e(a){for(var b=1;b<arguments.length;b++){var e=arguments[b];a="string"===typeof e?d(e)?new C(a,new w(e),!1):new C(a,new v(e),!0):e instanceof v&&d(e.value)?new C(a,new w(e.value),!1):new C(a,e,!0)}return a}
function f(a,b){!0;!0;return new y(a,b)}function g(a,b){!0;return new D(a,"=",b)}function m(){this.label=new ea("$L");this.variables=[];this.parameters=[]}function l(a,d,e){!0;!0;!0;!0;if(e||!a.variable)return a.compile(d);!0;return b(a.variable.name)}function p(b,d){return[l(b.namespaces,d),l(b.name,d),a(b.flags)]}function r(a){return escodegen.generate(a,{base:"",indent:"  ",comment:!0,format:{compact:!1}})}var s=estransform,v=s.Literal,w=s.Identifier,z=s.VariableDeclaration,A=s.VariableDeclarator,
C=s.MemberExpression,u=s.BinaryExpression,y=s.CallExpression,D=s.AssignmentExpression,B=s.ExpressionStatement,E=s.ReturnStatement,G=s.FunctionDeclaration,J=s.ConditionalExpression,P=s.ObjectExpression,Q=s.ArrayExpression,S=s.UnaryExpression,O=s.NewExpression,F=s.Property,H=s.BlockStatement,R=s.ThisExpression,K=s.ThrowStatement,I=s.IfStatement,M=s.WhileStatement,T=s.BreakStatement,L=s.ContinueStatement,N=s.SwitchStatement,V=s.SwitchCase,s=IR.Block,ca=IR.Operator,da=Looper.Control,ea=IR.Variable;da.Break.prototype.compile=
function(a,b){return a.compileBreak(this,b)};da.Continue.prototype.compile=function(a,b){return a.compileContinue(this,b)};da.Exit.prototype.compile=function(a,b){return a.compileExit(this,b)};da.LabelSwitch.prototype.compile=function(a,b){return a.compileLabelSwitch(this,b)};da.Seq.prototype.compile=function(a,b){return a.compileSequence(this,b)};s.prototype.compile=function(a,b){return a.compileBlock(this,b)};da.Loop.prototype.compile=function(a,b){return a.compileLoop(this,b)};da.Switch.prototype.compile=
function(a,b){return a.compileSwitch(this,b)};da.If.prototype.compile=function(a,b){return a.compileIf(this,b)};da.Try.prototype.compile=function(a,b){return a.compileTry(this,b)};m.prototype.useVariable=function(a){!0;return this.variables.pushUnique(a)};m.prototype.useParameter=function(a){return this.parameters[a.index]=a};m.prototype.compileLabelBody=function(a){var d=[];void 0!==a.label&&(this.useVariable(this.label),d.push(new B(g(b(this.label.name),new v(a.label)))));return d};m.prototype.compileBreak=
function(a){a=this.compileLabelBody(a);a.push(new T(null));return new H(a)};m.prototype.compileContinue=function(a){a=this.compileLabelBody(a);a.push(new L(null));return new H(a)};m.prototype.compileExit=function(a){return new H(this.compileLabelBody(a))};m.prototype.compileIf=function(b){var d=b.cond.compile(this),e=null,f=null;b.then&&(e=b.then.compile(this));b.else&&(f=b.else.compile(this));var g=l(d.end.predicate,this);if(b.negated)a:{b=g;if(b instanceof Constant){if(!0===b.value||!1===b.value){b=
a(!b.value);break a}}else if(b instanceof w){b=new S(ca.FALSE.name,b);break a}!0;var g=b instanceof u?b.left:b.argument,m=b.right,r=ca.fromName(b.operator);b=r===ca.EQ&&m instanceof v&&!1===m.value||r===ca.FALSE?g:r.not?b instanceof u?new u(r.not.name,g,m):new S(r.not.name,g):new S(ca.FALSE.name,b)}else b=g;d.body.push(new I(b,e||new H([]),f||null));return d};m.prototype.compileSwitch=function(a){var b=a.determinant.compile(this),d=[];a.cases.forEach(function(a){var b;a.body&&(b=a.body.compile(this));
a="number"===typeof a.index?new v(a.index):void 0;d.push(new V(a,b?[b]:[]))},this);a=l(b.end.determinant,this);b.body.push(new N(a,d,!1));return b};m.prototype.compileLabelSwitch=function(a){function d(a){!0;return new u("===",f,new v(a))}for(var e=null,f=b(this.label.name),g=a.cases.length-1;0<=g;g--){for(var l=a.cases[g],m=l.labels,r=d(m[0]),p=1;p<m.length;p++)r=new u("||",r,d(m[p]));e=new I(r,l.body?l.body.compile(this):new H,e)}return e};m.prototype.compileLoop=function(b){b=b.body.compile(this);
return new M(a(!0),b)};m.prototype.compileSequence=function(a){var b=this,d=[];a.body.forEach(function(a){a=a.compile(b);a instanceof H?d=d.concat(a.body):d.push(a)});return new H(d)};m.prototype.compileBlock=function(a){for(var d=[],e=1;e<a.nodes.length-1;e++){var f=a.nodes[e],m;f instanceof IR.Throw?m=l(f,this,!0):(f instanceof IR.Move?(m=b(f.to.name),this.useVariable(f.to),f=l(f.from,this)):(f.variable?(m=b(f.variable.name),this.useVariable(f.variable)):m=null,f=l(f,this,!0)),m=m?new B(g(m,f)):
new B(f));d.push(m)}e=a.nodes.last();e instanceof IR.Stop&&d.push(new E(l(e.argument,this)));d=new H(d);d.end=a.nodes.last();!0;return d};IR.Parameter.prototype.compile=function(a){a.useParameter(this);return b(this.name)};IR.Constant.prototype.compile=function(){return a(this.value)};IR.Variable.prototype.compile=function(){return b(this.name)};IR.Phi.prototype.compile=function(a){!0;return l(this.variable,a)};IR.ASScope.prototype.compile=function(a){var d=l(this.parent,a);a=l(this.object,a);var e=
new v(this.isWith);return new O(b("Scope"),[d,a,e])};IR.ASFindProperty.prototype.compile=function(a){var b=l(this.scope,a),d=p(this.name,a);a=l(this.domain,a);var g=new v(this.strict);return f(e(b,"findScopeProperty"),d.concat([a,g]))};IR.ASGetProperty.prototype.compile=function(a){var b=l(this.object,a);if(this.flags&IR.Flags.INDEXED)return!0,f(e(b,"asGetNumericProperty"),[l(this.name.name,a)]);if(this.flags&IR.Flags.RESOLVED)return f(e(b,"asGetResolvedStringProperty"),[l(this.name,a)]);a=p(this.name,
a);var d=new v(this.flags&IR.Flags.IS_METHOD);return f(e(b,"asGetProperty"),a.concat(d))};IR.Latch.prototype.compile=function(a){return new J(l(this.condition,a),l(this.left,a),l(this.right,a))};IR.Unary.prototype.compile=function(a){return new S(this.operator.name,l(this.argument,a))};IR.Copy.prototype.compile=function(a){return l(this.argument,a)};IR.Binary.prototype.compile=function(a){var d=l(this.left,a);a=l(this.right,a);return this.operator===ca.AS_ADD?f(b("asAdd"),[d,a]):new u(this.operator.name,
d,a)};IR.CallProperty.prototype.compile=function(a){var b=l(this.object,a),d=l(this.name,a),d=e(b,d),g=this.args.map(function(b){return l(b,a)});return this.flags&IR.Flags.PRISTINE?f(d,g):f(e(d,"call"),[b].concat(g))};IR.ASCallProperty.prototype.compile=function(a){var b=l(this.object,a),d=this.args.map(function(b){return l(b,a)});if(this.flags&IR.Flags.RESOLVED)return f(e(b,"asCallResolvedStringProperty"),[l(this.name,a),new v(this.isLex),new Q(d)]);var g=p(this.name,a);return f(e(b,"asCallProperty"),
g.concat([new v(this.isLex),new Q(d)]))};IR.Call.prototype.compile=function(a){var b=this.args.map(function(b){return l(b,a)}),d=l(this.callee,a),g;g=this.object?l(this.object,a):new v(null);return null===this.object?f(d,b):f(e(d,"call"),[g].concat(b))};IR.ASNew.prototype.compile=function(a){var b=this.args.map(function(b){return l(b,a)}),d=l(this.callee,a),d=e(d,"instanceConstructor");return new O(d,b)};IR.This.prototype.compile=function(){return new R};IR.Throw.prototype.compile=function(a){a=l(this.argument,
a);return new K(a)};IR.Arguments.prototype.compile=function(){return b("arguments")};IR.ASGlobal.prototype.compile=function(a){a=l(this.scope,a);return e(a,"global","object")};IR.ASSetProperty.prototype.compile=function(a){var b=l(this.object,a),d=l(this.value,a);if(this.flags&IR.Flags.INDEXED)return f(e(b,"asSetNumericProperty"),[l(this.name.name,a),d]);a=p(this.name,a);return f(e(b,"asSetProperty"),a.concat(d))};IR.ASDeleteProperty.prototype.compile=function(a){var b=l(this.object,a);a=p(this.name,
a);return f(e(b,"asDeleteProperty"),a)};IR.ASHasProperty.prototype.compile=function(a){var b=l(this.object,a);a=p(this.name,a);return f(e(b,"asHasProperty"),a)};IR.GlobalProperty.prototype.compile=function(){return b(this.name)};IR.GetProperty.prototype.compile=function(a){var b=l(this.object,a);a=l(this.name,a);return e(b,a)};IR.SetProperty.prototype.compile=function(a){var b=l(this.object,a),d=l(this.name,a);a=l(this.value,a);return g(e(b,d),a)};IR.ASGetDescendants.prototype.compile=function(a){var d=
l(this.object,a);a=l(this.name,a);return f(b("getDescendants"),[d,a])};IR.ASSetSlot.prototype.compile=function(a){var d=l(this.object,a),e=l(this.name,a);a=l(this.value,a);return f(b("asSetSlot"),[d,e,a])};IR.ASGetSlot.prototype.compile=function(a){var d=l(this.object,a);a=l(this.name,a);return f(b("asGetSlot"),[d,a])};IR.Projection.prototype.compile=function(a){!0;!0;return l(this.argument.scope,a)};IR.NewArray.prototype.compile=function(a){var b;b=this.elements;!0;b=b.map(function(b){return l(b,
a)});return new Q(b)};IR.NewObject.prototype.compile=function(a){var b=this.properties.map(function(b){var d=l(b.key,a);b=l(b.value,a);return new F(d,b,"init")});return new P(b)};IR.ASNewActivation.prototype.compile=function(a){a=l(this.methodInfo,a);return f(b("createActivation"),[a])};IR.ASMultiname.prototype.compile=function(a){var d=l(this.namespaces,a);a=l(this.name,a);return f(b("createName"),[d,a])};Backend.generate=function(a,d){Timer.start("Looper");var e=Looper.analyze(a);Timer.stop();var f=
new IndentingWriter,g=new m;Timer.start("Construct AST");var l=e.compile(g);Timer.stop();for(var e=[],p=0;p<g.parameters.length;p++)e.push(b(g.parameters[p]?g.parameters[p].name:"_"));g.variables.length&&(Counter.count("Backend: Locals",g.variables.length),g=g.variables.map(function(a){return new A(b(a.name))}),g=new z("var",g),l.body.unshift(g));g=new G(b("fn"),e,l);if(d)return 0<c4TraceLevel.value&&(f.writeLn("=== BEFORE ==============================="),f.writeLn(r(g)),f.writeLn("=== TRANSFORMING =========================")),
Transform.transform(g),0<c4TraceLevel.value&&(f.writeLn("=== AFTER ================================"),f.writeLn(r(g)),f.writeLn("==========================================")),f=r(l),{parameters:e.map(function(a){return a.name}),body:f};Timer.start("Serialize AST");f=r(l);Timer.stop();return{parameters:e.map(function(a){return a.name}),body:f}}})("undefined"===typeof exports?Backend={}:exports);
var domainOptions=systemOptions.register(new OptionSet("Domain Options")),traceClasses=domainOptions.register(new Option("tc","traceClasses","boolean",!1,"trace class creation")),traceDomain=domainOptions.register(new Option("td","traceDomain","boolean",!1,"trace domain property access")),EXECUTION_MODE={INTERPRET:1,COMPILE:2};
function executeScript(a){var b=a.abc;disassemble.value&&b.trace(new IndentingWriter);traceExecution.value&&print("Executing: "+b.name+" "+a);!0;var d=new Global(a);b.domain.allowNatives&&(d[Multiname.getPublicQualifiedName("unsafeJSNative")]=getNative);a.executing=!0;b=new Scope(null,a.global);createFunction(a.init,b).call(a.global);a.executed=!0}function ensureScriptIsExecuted(a,b){!a.executed&&!a.executing&&(2<=traceExecution.value&&print("Executing Script For: "+b),executeScript(a))}
var Glue=createEmptyObject();Glue.PUBLIC_PROPERTIES=1;Glue.PUBLIC_METHODS=2;Glue.ALL=Glue.PUBLIC_PROPERTIES|Glue.PUBLIC_METHODS;
var Domain=function(){function a(a,d,e,f){this.vm=a;this.abcs=[];this.loadedAbcs={};this.loadedClasses=[];this.classCache=createEmptyObject();this.scriptCache=createEmptyObject();this.classInfoCache=createEmptyObject();this.base=d;this.allowNatives=f;this.mode=e;this.onMessage=new Callback;this.system=d?d.system:this}a.passthroughCallable=function(a){return{call:function(d){Array.prototype.shift.call(arguments);return a.apply(d,arguments)},apply:function(d,e){return a.apply(d,e)}}};a.coerceCallable=
function(a){return{call:function(d,e){return asCoerce(a,e)},apply:function(d,e){return asCoerce(a,e[0])}}};a.constructingCallable=function(a){return{call:function(d){return new Function.bind.apply(a,arguments)},apply:function(d,e){return new Function.bind.apply(a,[d].concat(e))}}};a.prototype={getType:function(a){return this.getProperty(a,!0,!0)},getProperty:function(a,d,e){if(e=this.findDefiningScript(a,e))return!e.script.executing?void 0:e.script.global[Multiname.getQualifiedName(e.trait.name)];
if(d)return unexpected("Cannot find property "+a)},getClass:function(a){var d=this.classCache,e=d[a];e||(e=d[a]=this.getProperty(Multiname.fromSimpleName(a),!0,!0));!0;return e},findClass:function(a){return a in this.classCache?!0:this.findDomainProperty(Multiname.fromSimpleName(a),!1,!0)},findDomainProperty:function(a,d,e){traceDomain.value&&print("Domain.findDomainProperty: "+a);if(e=this.findDefiningScript(a,e))return e.script.global;if(d)return unexpected("Cannot find property "+a)},findClassInfo:function(a){var d;
if(Multiname.isQName(a)){d=Multiname.getQualifiedName(a);var e=this.classInfoCache[d]}else e=this.classInfoCache[a.id];if(e||this.base&&(e=this.base.findClassInfo(a)))return e;for(var e=this.abcs,f=0;f<e.length;f++)for(var g=e[f],g=g.scripts,m=0;m<g.length;m++)for(var l=g[m].traits,p=0;p<l.length;p++){var r=l[p];if(r.isClass()){var s=Multiname.getQualifiedName(r.name);if(d){if(s===d)return this.classInfoCache[d]=r.classInfo}else for(var v=0,w=a.namespaces.length;v<w;v++){var z=a.getQName(v);if(s===
Multiname.getQualifiedName(z))return this.classInfoCache[z]=r.classInfo}}}if(!this.base&&this.vm.findDefiningAbc&&(g=this.vm.findDefiningAbc(a),null!==g&&!this.loadedAbcs[g.name]))return this.loadedAbcs[g.name]=!0,this.loadAbc(g),this.findClassInfo(a)},installNative:function(a,d){natives[a]=function(){return d}},findDefiningScript:function(a,d){var e=this.scriptCache[a.id];if(e&&(e.script.executed||!d)||this.base&&(e=this.base.findDefiningScript(a,d)))return e;Counter.count("Domain: findDefiningScript");
for(var e=this.abcs,f=0;f<e.length;f++)for(var g=e[f],g=g.scripts,m=0;m<g.length;m++){var l=g[m],p=l.traits;if(a instanceof Multiname)for(var r=0;r<p.length;r++){var s=p[r];if(a.hasQName(s.name))return d&&ensureScriptIsExecuted(l,s.name),this.scriptCache[a.id]={script:l,trait:s}}else unexpected()}if(!this.base&&this.vm.findDefiningAbc&&(g=this.vm.findDefiningAbc(a),null!==g&&!this.loadedAbcs[g.name]))return this.loadedAbcs[g.name]=!0,this.loadAbc(g),this.findDefiningScript(a,d)},compileAbc:function(a){console.time("Compile ABC: "+
a.name);this.loadAbc(a);var d=new IndentingWriter;d.enter("var classes = {");for(var e=0;e<a.scripts.length;e++)compileScript(a.scripts[e],d);d.leave("}");console.timeEnd("Compile ABC: "+a.name)},executeAbc:function(a){console.time("Execute ABC: "+a.name);this.loadAbc(a);executeScript(a.lastScript);console.timeEnd("Execute ABC: "+a.name)},loadAbc:function(a){traceExecution.value&&print("Loading: "+a.name);a.domain=this;GlobalMultinameResolver.loadAbc(a);this.abcs.push(a);this.base||Type.initializeTypes(this)},
broadcastMessage:function(a,d,e){this.onMessage.notify1(a,{data:d,origin:e,source:this})},traceLoadedClasses:function(a){var d=new IndentingWriter;a||d.enter("Loaded Classes And Interfaces");(a?[this.loadedClasses.last()]:this.loadedClasses).forEach(function(a){a!==Class&&a.trace(d)});a||d.leave("")}};return a}(),traitsWriter=null,Binding=function(){function a(a){!0;this.trait=a}a.KEY_PREFIX_LENGTH=4;a.getKey=function(a,d){var e=a;d.isGetter()?e="get "+a:d.isSetter()&&(e="set "+a);return e};a.prototype.toString=
function(){return String(this.trait)};return a}(),Bindings=function(){function a(){this.map=createEmptyObject();this.slots=[];this.nextSlotId=1}function b(a,b,d,e){this.name=a;this.isConst=b;this.type=d;this.trait=e}function d(a,b){!0;for(var d=0;d<a.length;d++){var e=a[d];if(3<=traceExecution.value){var f="Patching: ";e.name?f+=e.name:e.get?f+="get "+e.get:e.set&&(f+="set "+e.set);traitsWriter&&traitsWriter.redLn(f)}e.get?defineNonEnumerableGetterOrSetter(e.object,e.get,b,!0):e.set?defineNonEnumerableGetterOrSetter(e.object,
e.set,b,!1):defineNonEnumerableProperty(e.object,e.name,b)}}function e(a,b,e,f,r){!0;if(b.isMethod()){var s=makeTrampoline(function(a){var e=getTraitFunction(b,f,r);d(a.patchTargets,e);return e},b.methodInfo.parameters.length);s.patchTargets=[{object:e,name:a},{object:e,name:VM_OPEN_METHOD_PREFIX+a}];var v=bindSafely(s,e);defineReadOnlyProperty(v,VM_LENGTH,s[VM_LENGTH]);defineReadOnlyProperty(v,Multiname.getPublicQualifiedName("prototype"),null);defineNonEnumerableProperty(e,a,v);defineNonEnumerableProperty(e,
VM_OPEN_METHOD_PREFIX+a,v)}else b.isGetter()||b.isSetter()?(s=makeTrampoline(function(a){var e=getTraitFunction(b,f,r);d(a.patchTargets,e);return e}),s.patchTargets=b.isGetter()?[{object:e,get:a}]:[{object:e,set:a}],defineNonEnumerableGetterOrSetter(e,a,s,b.isGetter())):unexpected(b)}function f(a,b,e,f,r){!0;if(b.isMethod()){var s={value:null},v=makeTrampoline(function(a){var e=getTraitFunction(b,f,r);d(a.patchTargets,e);return e},b.methodInfo.parameters.length,String(b.name));s.value=v;var w=e[VM_OPEN_METHODS];
w[a]=v;defineNonEnumerableProperty(e,VM_OPEN_METHOD_PREFIX+a,v);defineNonEnumerableGetter(e,a,makeMemoizer(a,s));v.patchTargets=[{object:s,name:"value"},{object:w,name:a},{object:e,name:VM_OPEN_METHOD_PREFIX+a}]}else if(b.isGetter()||b.isSetter())v=makeTrampoline(function(a){var e=getTraitFunction(b,f,r);d(a.patchTargets,e);return e},0,String(b.name)),v.patchTargets=b.isGetter()?[{object:e,get:a}]:[{object:e,set:a}],defineNonEnumerableGetterOrSetter(e,a,v,b.isGetter())}a.prototype.assignNextSlot=
function(a){!0;!0;a.slotId?this.nextSlotId=a.slotId+1:a.slotId=this.nextSlotId++;!0;this.slots[a.slotId]=a};a.prototype.trace=function(a){a.enter("Bindings");for(var b in this.map){var d=this.map[b];a.writeLn(d.trait.kindName()+": "+b+" -> "+d)}a.leaveAndEnter("Slots");a.writeArray(this.slots);a.outdent()};a.prototype.applyTo=function(a,d){!0;!0;!0;defineNonEnumerableProperty(d,VM_SLOTS,[]);defineNonEnumerableProperty(d,VM_BINDINGS,[]);defineNonEnumerableProperty(d,VM_OPEN_METHODS,createEmptyObject());
defineNonEnumerableProperty(d,"bindings",this);defineNonEnumerableProperty(d,"resolutionMap",[]);traitsWriter&&traitsWriter.greenLn("Applying Traits");for(var l in this.map){var p=this.map[l],r=p.trait,s=Multiname.getQualifiedName(r.name);if(r.isSlot()||r.isConst()||r.isClass()){p=void 0;if(r.isSlot()||r.isConst())r.hasDefaultValue?p=r.value:r.typeName&&(p=a.findClassInfo(r.typeName).defaultValue);l!==s?(traitsWriter&&traitsWriter.yellowLn("Binding Trait: "+l+" -> "+s),defineNonEnumerableGetter(d,
l,makeForwardingGetter(s)),d[VM_BINDINGS].pushUnique(l)):(traitsWriter&&traitsWriter.greenLn("Applying Trait "+r.kindName()+": "+r),defineNonEnumerableProperty(d,s,p),d[VM_BINDINGS].pushUnique(s),d[VM_SLOTS][r.slotId]=new b(s,r.isConst(),r.typeName?a.getProperty(r.typeName,!1,!1):null,r))}else if(r.isMethod()||r.isGetter()||r.isSetter()){if(r.isGetter()||r.isSetter())l=l.substring(Binding.KEY_PREFIX_LENGTH);l!==s?traitsWriter&&traitsWriter.yellowLn("Binding Trait: "+l+" -> "+s):traitsWriter&&traitsWriter.greenLn("Applying Trait "+
r.kindName()+": "+r);d[VM_BINDINGS].pushUnique(l);this instanceof ScriptBindings?e(l,r,d,p.scope,p.natives):f(l,r,d,p.scope,p.natives)}}};return a}(),ActivationBindings=function(){function a(a){Bindings.call(this);!0;this.methodInfo=a;a=a.traits;for(var d=0;d<a.length;d++){var e=a[d];!0;var f=Multiname.getQualifiedName(e.name);this.map[f]=new Binding(e);this.assignNextSlot(e)}}a.prototype=Object.create(Bindings.prototype);return a}(),CatchBindings=function(){function a(a,d){Bindings.call(this);var e=
Multiname.getQualifiedName(d.name);this.map[e]=new Binding(d);!0;this.assignNextSlot(d)}a.prototype=Object.create(Bindings.prototype);return a}(),ScriptBindings=function(){function a(a,d){Bindings.call(this);this.scope=d;this.scriptInfo=a;for(var e=a.traits,f=0;f<e.length;f++){var g=e[f],m=Multiname.getQualifiedName(g.name),m=Binding.getKey(m,g),m=this.map[m]=new Binding(g);(g.isSlot()||g.isConst()||g.isClass())&&this.assignNextSlot(g);g.isClass()&&(g.metadata&&g.metadata.native)&&(g.classInfo.native=
g.metadata.native);if(g.isMethod()||g.isGetter()||g.isSetter())m.scope=this.scope}}a.prototype=Object.create(Bindings.prototype);return a}(),ClassBindings=function(){function a(a,d,e){Bindings.call(this);this.scope=d;this.natives=e;this.classInfo=a;a=a.traits;for(d=0;d<a.length;d++){e=a[d];var f=Multiname.getQualifiedName(e.name),f=Binding.getKey(f,e),f=this.map[f]=new Binding(e);(e.isSlot()||e.isConst())&&this.assignNextSlot(e);if(e.isMethod()||e.isGetter()||e.isSetter())f.scope=this.scope,f.natives=
this.natives}}a.prototype=Object.create(Bindings.prototype);return a}(),InstanceBindings=function(){function a(a,d,e,f){Bindings.call(this);this.scope=e;this.natives=f;this.parent=a;this.instanceInfo=d;this.implementedInterfaces=a?cloneObject(a.implementedInterfaces):createEmptyObject();a&&(this.slots=a.slots.slice(),this.nextSlotId=a.nextSlotId);d=this.instanceInfo;var g;e=this.map;var m,l,p;if(a)for(m in a.map)l=a.map[m],f=l.trait,e[m]=l,f.isProtected()&&(p=Multiname.getQualifiedName(new Multiname([d.protectedNs],
f.name.getName())),p=Binding.getKey(p,f),e[p]=l);var r=d.traits;for(a=0;a<r.length;a++){f=r[a];m=Multiname.getQualifiedName(f.name);m=Binding.getKey(m,f);l=new Binding(f);g=e;p=l;g[m]&&!0;!0;g[m]=p;if(f.isProtected())for(g=this.parent;g;)p=Multiname.getQualifiedName(new Multiname([g.instanceInfo.protectedNs],f.name.getName())),p=Binding.getKey(p,f),p in e&&(e[p]=l),g=g.parent;(f.isSlot()||f.isConst())&&this.assignNextSlot(f);if(f.isMethod()||f.isGetter()||f.isSetter())l.scope=this.scope,l.natives=
this.natives}m=d.abc.domain;f=d.interfaces;for(a=0;a<f.length;a++)l=m.getProperty(f[a],!0,!0),copyProperties(this.implementedInterfaces,l.interfaceBindings.implementedInterfaces),this.implementedInterfaces[Multiname.getQualifiedName(l.name)]=l;for(var s in this.implementedInterfaces){l=this.implementedInterfaces[s];g=l.interfaceBindings;for(var v in g.map)a=g.map[v],d.isInterface()?e[v]=a:(m=Multiname.getPublicQualifiedName(a.trait.name.getName()),m=Binding.getKey(m,a.trait),e[v]=e[m])}}a.prototype=
Object.create(Bindings.prototype);a.prototype.toString=function(){return this.instanceInfo.toString()};return a}(),Interface=function(){function a(a){var d=a.instanceInfo;!0;this.name=d.name;this.classInfo=a}a.createInterface=function(b){var d=b.instanceInfo;!0;if(traceExecution.value){var e="Creating Interface "+d.name;d.interfaces.length&&(e+=" implements "+d.interfaces.map(function(a){return a.getName()}).join(", "));print(e)}b=new a(b);b.interfaceBindings=new InstanceBindings(null,d);return b};
a.prototype={toString:function(){return"[interface "+this.name+"]"},isInstance:function(a){if(null===a||"object"!==typeof a)return!1;!0;var d=Multiname.getQualifiedName(this.name);return void 0!==a.class.implementedInterfaces[d]},trace:function(a){a.enter("interface "+this.name.getName());a.enter("interfaceBindings: ");this.interfaceBindings.trace(a);a.outdent();a.outdent();a.leave("}")},call:function(a,d){return d},apply:function(a,d){return d[0]}};return a}(),Class=function(){function a(a,b,d){this.debugName=
a;b&&(!0,this.instanceConstructorNoInitialize=this.instanceConstructor=b,this.hasInitialize=0,this.instanceConstructor.class=this);d?d===Domain.coerceCallable&&(d=Domain.coerceCallable(this)):d=Domain.coerceCallable(this);defineNonEnumerableProperty(this,"call",d.call);defineNonEnumerableProperty(this,"apply",d.apply)}function b(a){defineNonEnumerableProperty(a.dynamicPrototype,Multiname.getPublicQualifiedName("constructor"),a);defineReadOnlyProperty(a.traitsPrototype,"class",a);defineReadOnlyProperty(a.instanceConstructor,
"class",a)}a.createClass=function(b,d,g){var m=b.instanceInfo,l=b.abc.domain,p=Multiname.getName(m.name),r=b.native;if(r){var s=getNative(b.native.cls);s||unexpected("No native for "+b.native.cls);d||(g=new Scope(g,a))}g=new Scope(g,null);var v=createFunction(m.init,g),s=r?s(l,g,v,d):new a(p,v);s.className=p;s.classInfo=b;s.scope=g;g.object=s;var w,z;r?s.native&&(w=s.native.static,z=s.native.instance):s.extend(d);s.classBindings=new ClassBindings(b,g,w);s.classBindings.applyTo(l,s);defineReadOnlyProperty(s,
VM_IS_CLASS,!0);s.instanceBindings=new InstanceBindings(d?d.instanceBindings:null,m,g,z);s.instanceConstructor&&s.instanceBindings.applyTo(l,s.traitsPrototype);s.implementedInterfaces=s.instanceBindings.implementedInterfaces;return s};a.prototype={setSymbol:function(a){this.instanceConstructor.prototype.symbol=a},getSymbol:function(){return this.instanceConstructor.prototype.symbol},initializeInstance:function(a){for(var b=this,d=[];b;)b.hasInitialize&1&&d.push(b.instanceConstructor.prototype.initialize),
b=b.baseClass;for(;b=d.pop();)b.call(a);Counter.count("Initialize Instance")},createInstance:function(a){var b=Object.create(this.instanceConstructor.prototype);this.instanceConstructor.apply(b,a);return b},createAsSymbol:function(a){var b=Object.create(this.instanceConstructor.prototype);if(b.symbol){var d=Object.create(b.symbol),m;for(m in a)d[m]=a[m];b.symbol=d}else b.symbol=a;return b},extendNative:function(a,d){this.baseClass=a;this.dynamicPrototype=Object.getPrototypeOf(d.prototype);this.instanceConstructor.prototype=
this.traitsPrototype=d.prototype;b(this)},extendWrapper:function(a,d){!0;this.baseClass=a;this.dynamicPrototype=Object.create(a.dynamicPrototype);var g=Object.create(this.dynamicPrototype,getOwnPropertyDescriptors(d.prototype));this.instanceConstructor.prototype=this.traitsPrototype=g;b(this)},extendBuiltin:function(a){!0;this.baseClass=a;this.dynamicPrototype=this.traitsPrototype=this.instanceConstructor.prototype;b(this)},extend:function(a){!0;this.baseClass=a;this.dynamicPrototype=Object.create(a.dynamicPrototype);
if(a.hasInitialize){var d=this.instanceConstructor,g=this;this.instanceConstructor=function(){g.initializeInstance(this);d.apply(this,arguments)};defineReadOnlyProperty(this.instanceConstructor,"class",d.class);this.hasInitialize|=2}this.instanceConstructor.prototype=this.traitsPrototype=Object.create(this.dynamicPrototype);b(this)},setDefaultProperties:function(){b(this)},link:function(a){function b(a,d){for(var e=Object.keys(d),f=0;f<e.length;f++){var g=e[f],l=d[g],m=!1;0<=l.indexOf("open ")&&(l=
l.substring(5),m=!0);!0;l=Multiname.getQualifiedName(Multiname.fromSimpleName(l));m&&(l=VM_OPEN_METHOD_PREFIX+l);!0;(m=Object.getOwnPropertyDescriptor(a,l))&&m.get?Object.defineProperty(a,g,m):Object.defineProperty(a,g,{get:new Function("","return this."+l),set:new Function("v","this."+l+" = v")})}}function d(a){var b=createEmptyObject();a.forEach(function(a){a.name.getNamespace().isPublic()&&(b[a.name.getName()]=(a.isMethod()?"open ":"")+"public "+a.name.getName())});return b}!0;!0;if(a.initialize){if(!this.hasInitialize){var m=
this.instanceConstructor,l=this;this.instanceConstructor=function(){l.initializeInstance(this);m.apply(this,arguments)};defineReadOnlyProperty(this.instanceConstructor,"class",m.class);this.instanceConstructor.prototype=m.prototype}this.hasInitialize|=1}for(var p=this.dynamicPrototype,r=Object.keys(a),s=0;s<r.length;s++){var v=r[s];Object.defineProperty(p,v,Object.getOwnPropertyDescriptor(a,v))}if((a=a.__glue__)&&a.script)a.script.instance&&(isNumber(a.script.instance)?(!0,b(p,d(this.classInfo.instanceInfo.traits))):
b(p,a.script.instance)),a.script.static&&(isNumber(a.script.static)?(!0,b(this,d(this.classInfo.traits))):b(this,a.script.static))},linkNatives:function(a){this.native=a.__glue__.native},verify:function(){!0;!0;!0;!0;!0},coerce:function(a){return a},isInstanceOf:function(a){return this.isInstance(a)},isInstance:function(a){return null===a||"object"!==typeof a?!1:this.dynamicPrototype.isPrototypeOf(a)},trace:function(a){a.enter("class "+(this.debugName+(this.baseClass?" extends "+this.baseClass.debugName:
""))+" {");a.writeLn("scope: "+this.scope);a.writeLn("baseClass: "+this.baseClass);a.writeLn("classInfo: "+this.classInfo);a.writeLn("dynamicPrototype: "+this.dynamicPrototype);a.writeLn("traitsPrototype: "+this.traitsPrototype);a.writeLn("dynamicPrototype === traitsPrototype: "+(this.dynamicPrototype===this.traitsPrototype));a.writeLn("instanceConstructor: "+this.instanceConstructor);a.writeLn("instanceConstructorNoInitialize: "+this.instanceConstructorNoInitialize);a.writeLn("instanceConstructor === instanceConstructorNoInitialize: "+
(this.instanceConstructor===this.instanceConstructorNoInitialize));var b=this.traitsPrototype;a.enter("traitsPrototype: ");b&&(a.enter("VM_SLOTS: "),a.writeArray(b[VM_SLOTS].map(function(a){return a.trait})),a.outdent(),a.enter("VM_BINDINGS: "),a.writeArray(b[VM_BINDINGS].map(function(a){var d=Object.getOwnPropertyDescriptor(b,a);d.get||d.set?(d.get&&(a+=" getter: "+debugName(d.get)),d.set&&(a+=" setter: "+debugName(d.set))):a+=" value: "+debugName(d.value);return a})),a.outdent(),a.enter("VM_OPEN_METHODS: "),
a.writeArray(toKeyValueArray(b[VM_OPEN_METHODS]).map(function(a){return a[0]+": "+debugName(a[1])})),a.outdent());a.enter("classBindings: ");this.classBindings.trace(a);a.outdent();a.enter("instanceBindings: ");this.instanceBindings.trace(a);a.outdent();a.outdent();a.writeLn("call: "+this.call);a.writeLn("apply: "+this.apply);a.leave("}")},toString:function(){return"[class "+this.classInfo.instanceInfo.name.name+"]"}};var d=Domain.coerceCallable(a);defineNonEnumerableProperty(a,"call",d.call);defineNonEnumerableProperty(a,
"apply",d.apply);a.instanceConstructor=a;a.toString=a.prototype.toString;a.native={instance:{prototype:{get:function(){return this.dynamicPrototype}}}};return a}();function MethodClosure(a,b){var d=bindSafely(b,a);defineNonEnumerableProperty(this,"call",d.call.bind(d));defineNonEnumerableProperty(this,"apply",d.apply.bind(d))}MethodClosure.prototype={toString:function(){return"function Function() {}"}};
var XRegExp=function(a){function b(a,b,d){var e;if(d)if(a.__proto__)a.__proto__=w.prototype;else for(e in w.prototype)a[e]=w.prototype[e];a[v]={captureNames:b};return a}function d(a){return A.replace.call(a,/([\s\S])(?=[\s\S]*\1)/g,"")}function e(a,e){if(!w.isRegExp(a))throw new TypeError("Type RegExp expected");var f=A.exec.call(/\/([a-z]*)$/i,String(a))[1];e=e||{};e.add&&(f=d(f+e.add));e.remove&&(f=A.replace.call(f,RegExp("["+e.remove+"]+","g"),""));return a=b(RegExp(a.source,f),a.xregexp&&a.xregexp.captureNames?
a.xregexp.captureNames.slice(0):null,e.addProto)}function f(a,b){if(Array.prototype.indexOf)return a.indexOf(b);var d=a.length,e;for(e=0;e<d;++e)if(a[e]===b)return e;return-1}function g(a,b){return Q.call(a)==="[object "+b+"]"}function m(a,b,d){return A.test.call(-1<d.indexOf("x")?/^(?:\s+|#.*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/,a.slice(b))}function l(a){a=a||{};g(a,"String")&&(a=w.forEach(a,/[^\s,]+/,function(a){this[a]=!0},{}));return a}function p(a){if(!/^[\w$]$/.test(a))throw Error("Flag must be a single character A-Za-z0-9_$");
P[a]=!0}function r(a){RegExp.prototype.exec=(a?C:A).exec;RegExp.prototype.test=(a?C:A).test;String.prototype.match=(a?C:A).match;String.prototype.replace=(a?C:A).replace;String.prototype.split=(a?C:A).split;z.natives=a}function s(a){if(null==a)throw new TypeError("Cannot convert null or undefined to object");return a}var v="xregexp",w,z={astral:!1,natives:!1},A={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},
C={},u={},y={},D=[],B={"default":/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,"class":/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|[\s\S]/},E=/\$(?:{([\w$]+)}|([\d$&`']))/g,G=A.exec.call(/()??/,"")[1]===a,J=RegExp.prototype.sticky!==a,P={g:!0,i:!0,m:!0,y:J},Q={}.toString,S;w=function(f,g){var l={hasNamedCapture:!1,captureNames:[]},m="default",r="",p=0,s,u;if(w.isRegExp(f)){if(g!==
a)throw new TypeError("Cannot supply flags when copying a RegExp");return e(f,{addProto:!0})}f=f===a?"":String(f);g=g===a?"":String(g);u=f+"***"+g;if(!y[u]){s=f;var v=g,z;if(d(v)!==v)throw new SyntaxError("Invalid duplicate regex flag "+v);s=A.replace.call(s,/^\(\?([\w$]+)\)/,function(a,b){if(A.test.call(/[gy]/,b))throw new SyntaxError("Cannot use flag g or y in mode modifier "+a);v=d(v+b);return""});for(z=0;z<v.length;++z)if(!P[v.charAt(z)])throw new SyntaxError("Unknown regex flag "+v.charAt(z));
s={pattern:s,flags:v};f=s.pattern;for(g=s.flags;p<f.length;){do{s=f;z=g;for(var E=p,G=m,C=l,J=D.length,Q=null,S=void 0,la=void 0;J--;)if(la=D[J],(la.scope===G||"all"===la.scope)&&(!la.flag||-1<z.indexOf(la.flag)))if(S=w.exec(s,la.regex,E,"sticky")){Q={matchLength:S[0].length,output:la.handler.call(C,S,G,z),reparse:la.reparse};break}(s=Q)&&s.reparse&&(f=f.slice(0,p)+s.output+f.slice(p+s.matchLength))}while(s&&s.reparse);s?(r+=s.output,p+=s.matchLength||1):(s=w.exec(f,B[m],p,"sticky")[0],r+=s,p+=s.length,
"["===s&&"default"===m?m="class":"]"===s&&"class"===m&&(m="default"))}y[u]={pattern:A.replace.call(r,/\(\?:\)(?=\(\?:\))|^\(\?:\)|\(\?:\)$/g,""),flags:A.replace.call(g,/[^gimy]+/g,""),captures:l.hasNamedCapture?l.captureNames:null}}u=y[u];return b(RegExp(u.pattern,u.flags),u.captures,!0)};w.prototype=RegExp();w.version="3.0.0-pre";w.addToken=function(a,b,d){d=d||{};var f=d.optionalFlags,g;d.flag&&p(d.flag);if(f){f=A.split.call(f,"");for(g=0;g<f.length;++g)p(f[g])}D.push({regex:e(a,{add:"g"+(J?"y":
"")}),handler:b,scope:d.scope||"default",flag:d.flag,reparse:d.reparse});w.cache.flush("patterns")};w.cache=function(a,b){var d=a+"***"+(b||"");return u[d]||(u[d]=w(a,b))};w.cache.flush=function(a){"patterns"===a?y={}:u={}};w.escape=function(a){return A.replace.call(s(a),/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};w.exec=function(a,b,d,f){var g="g";if(J&&(f||b.sticky&&!1!==f))g+="y";b[v]=b.xregexp||{captureNames:null};g=b.xregexp[g]||(b[v][g]=e(b,{add:g,remove:!1===f?"y":""}));g.lastIndex=d=d||0;a=C.exec.call(g,
a);f&&(a&&a.index!==d)&&(a=null);b.global&&(b.lastIndex=a?g.lastIndex:0);return a};w.forEach=function(a,b,d,e){for(var f=0,g=-1;f=w.exec(a,b,f);)d.call(e,f,++g,a,b),f=f.index+(f[0].length||1);return e};w.globalize=function(a){return e(a,{add:"g",addProto:!0})};w.install=function(a){a=l(a);!z.astral&&a.astral&&(w.cache.flush("patterns"),z.astral=!0);!z.natives&&a.natives&&r(!0)};w.isInstalled=function(a){return!!z[a]};w.isRegExp=function(a){return"[object RegExp]"===Q.call(a)};w.match=function(a,b,
d){var f=b.global&&"one"!==d||"all"===d,g=(f?"g":"")+(b.sticky?"y":"");b[v]=b.xregexp||{captureNames:null};g=b.xregexp[g||"noGY"]||(b[v][g||"noGY"]=e(b,{add:g,remove:"one"===d?"g":""}));a=A.match.call(s(a),g);b.global&&(b.lastIndex="one"===d&&a?a.index+a[0].length:0);return f?a||[]:a&&a[0]};w.matchChain=function(a,b){return function R(a,d){var e=b[d].regex?b[d]:{regex:b[d]},f=[],g=function(a){if(e.backref){if(!(a.hasOwnProperty(e.backref)||+e.backref<a.length))throw new ReferenceError("Backreference to undefined group: "+
e.backref);f.push(a[e.backref]||"")}else f.push(a[0])},l;for(l=0;l<a.length;++l)w.forEach(a[l],e.regex,g);return d===b.length-1||!f.length?f:R(f,d+1)}([a],0)};w.replace=function(a,b,d,f){var g=w.isRegExp(b),l=b.global&&"one"!==f||"all"===f,m=(l?"g":"")+(b.sticky?"y":""),r=b;g?(b[v]=b.xregexp||{captureNames:null},r=b.xregexp[m||"noGY"]||(b[v][m||"noGY"]=e(b,{add:m,remove:"one"===f?"g":""}))):l&&(r=RegExp(w.escape(String(b)),"g"));a=C.replace.call(s(a),r,d);g&&b.global&&(b.lastIndex=0);return a};w.replaceEach=
function(a,b){var d,e;for(d=0;d<b.length;++d)e=b[d],a=w.replace(a,e[0],e[1],e[2]);return a};w.split=function(a,b,d){return C.split.call(s(a),b,d)};w.test=function(a,b,d,e){return!!w.exec(a,b,d,e)};w.uninstall=function(a){a=l(a);z.astral&&a.astral&&(w.cache.flush("patterns"),z.astral=!1);z.natives&&a.natives&&r(!1)};w.union=function(a,b){var d=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,e=[],f=0,l,m,r,p=function(a,b,d){var e=m[f-l];if(b){if(++f,e)return"(?<"+e+">"}else if(d)return"\\"+
(+d+l);return a},s;if(!g(a,"Array")||!a.length)throw new TypeError("Must provide a nonempty array of patterns to merge");for(s=0;s<a.length;++s)r=a[s],w.isRegExp(r)?(l=f,m=r.xregexp&&r.xregexp.captureNames||[],e.push(A.replace.call(w(r.source).source,d,p))):e.push(w.escape(r));return w(e.join("|"),b)};C.exec=function(b){var d=this.lastIndex,g=A.exec.apply(this,arguments),l,m;if(g){!G&&(1<g.length&&-1<f(g,""))&&(l=e(this,{remove:"g"}),A.replace.call(String(b).slice(g.index),l,function(){var b=arguments.length,
d;for(d=1;d<b-2;++d)arguments[d]===a&&(g[d]=a)}));if(this.xregexp&&this.xregexp.captureNames)for(m=1;m<g.length;++m)(l=this.xregexp.captureNames[m-1])&&(g[l]=g[m]);this.global&&(!g[0].length&&this.lastIndex>g.index)&&(this.lastIndex=g.index)}this.global||(this.lastIndex=d);return g};C.test=function(a){return!!C.exec.call(this,a)};C.match=function(a){var b;if(w.isRegExp(a)){if(a.global)return b=A.match.apply(this,arguments),a.lastIndex=0,b}else a=RegExp(a);return C.exec.call(a,s(this))};C.replace=
function(b,d){var e=w.isRegExp(b),l,m,r;e?(b.xregexp&&(m=b.xregexp.captureNames),l=b.lastIndex):b+="";r=g(d,"Function")?A.replace.call(String(this),b,function(){var f=arguments,g;if(m){f[0]=new String(f[0]);for(g=0;g<m.length;++g)m[g]&&(f[0][m[g]]=f[g+1])}e&&b.global&&(b.lastIndex=f[f.length-2]+f[0].length);return d.apply(a,f)}):A.replace.call(null==this?this:String(this),b,function(){var a=arguments;return A.replace.call(String(d),E,function(b,d,e){if(d){e=+d;if(e<=a.length-3)return a[e]||"";e=m?
f(m,d):-1;if(0>e)throw new SyntaxError("Backreference to undefined group "+b);return a[e+1]||""}if("$"===e)return"$";if("&"===e||0===+e)return a[0];if("`"===e)return a[a.length-1].slice(0,a[a.length-2]);if("'"===e)return a[a.length-1].slice(a[a.length-2]+a[0].length);e=+e;if(!isNaN(e)){if(e>a.length-3)throw new SyntaxError("Backreference to undefined group "+b);return a[e]||""}throw new SyntaxError("Invalid token "+b);})});e&&(b.lastIndex=b.global?0:l);return r};C.split=function(b,d){if(!w.isRegExp(b))return A.split.apply(this,
arguments);var e=String(this),f=[],g=b.lastIndex,l=0,m;d=(d===a?-1:d)>>>0;w.forEach(e,b,function(a){a.index+a[0].length>l&&(f.push(e.slice(l,a.index)),1<a.length&&a.index<e.length&&Array.prototype.push.apply(f,a.slice(1)),m=a[0].length,l=a.index+m)});l===e.length?(!A.test.call(b,"")||m)&&f.push(""):f.push(e.slice(l));b.lastIndex=g;return f.length>d?f.slice(0,d):f};S=w.addToken;S(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4})|x(?![\dA-Fa-f]{2}))/,function(a,b){if("B"===a[1]&&"default"===
b)return a[0];throw new SyntaxError("Invalid escape "+a[0]);},{scope:"all"});S(/\[(\^?)]/,function(a){return a[1]?"[\\s\\S]":"\\b\\B"});S(/\(\?#[^)]*\)/,function(a,b,d){return m(a.input,a.index+a[0].length,d)?"":"(?:)"});S(/\s+|#.*/,function(a,b,d){return m(a.input,a.index+a[0].length,d)?"":"(?:)"},{flag:"x"});S(/\./,function(){return"[\\s\\S]"},{flag:"s"});S(/\\k<([\w$]+)>/,function(a){var b=isNaN(a[1])?f(this.captureNames,a[1])+1:+a[1],d=a.index+a[0].length;if(!b||b>this.captureNames.length)throw new SyntaxError("Backreference to undefined group "+
a[0]);return"\\"+b+(d===a.input.length||isNaN(a.input.charAt(d))?"":"(?:)")});S(/\\(\d+)/,function(a,b){if(!("default"===b&&/^[1-9]/.test(a[1])&&+a[1]<=this.captureNames.length)&&"0"!==a[1])throw new SyntaxError("Cannot use octal escape or backreference to undefined group "+a[0]);return a[0]},{scope:"all"});S(/\(\?P?<([\w$]+)>/,function(a){if(!isNaN(a[1]))throw new SyntaxError("Cannot use integer as capture name "+a[0]);if("length"===a[1]||"__proto__"===a[1])throw new SyntaxError("Cannot use reserved word as capture name "+
a[0]);if(-1<f(this.captureNames,a[1]))throw new SyntaxError("Cannot use same name for multiple groups "+a[0]);this.captureNames.push(a[1]);this.hasNamedCapture=!0;return"("});S(/\((?!\?)/,function(a,b,d){if(-1<d.indexOf("n"))return"(?:";this.captureNames.push(null);return"("},{optionalFlags:"n"});return w}(),runtimeOptions=systemOptions.register(new OptionSet("Runtime Options")),traceScope=runtimeOptions.register(new Option("ts","traceScope","boolean",!1,"trace scope execution")),traceExecution=runtimeOptions.register(new Option("tx",
"traceExecution","number",0,"trace script execution")),traceCallExecution=runtimeOptions.register(new Option("txc","traceCallExecution","number",0,"trace call execution")),functionBreak=runtimeOptions.register(new Option("fb","functionBreak","number",-1,"Inserts a debugBreak at function index #.")),compileOnly=runtimeOptions.register(new Option("co","compileOnly","number",-1,"Compiles only function number.")),compileUntil=runtimeOptions.register(new Option("cu","compileUntil","number",-1,"Compiles only until a function number.")),
debuggerMode=runtimeOptions.register(new Option("dm","debuggerMode","boolean",!1,"matches avm2 debugger build semantics")),enableVerifier=runtimeOptions.register(new Option("verify","verify","boolean",!1,"Enable verifier.")),globalMultinameAnalysis=runtimeOptions.register(new Option("ga","globalMultinameAnalysis","boolean",!1,"Global multiname analysis.")),traceInlineCaching=runtimeOptions.register(new Option("tic","traceInlineCaching","boolean",!1,"Trace inline caching execution.")),compilerEnableExceptions=
runtimeOptions.register(new Option("cex","exceptions","boolean",!1,"Compile functions with catch blocks.")),compilerMaximumMethodSize=runtimeOptions.register(new Option("cmms","maximumMethodSize","number",4096,"Compiler maximum method size.")),jsGlobal=function(){return this||(0,eval)("this")}(),VM_SLOTS="vm slots",VM_LENGTH="vm length",VM_BINDINGS="vm bindings",VM_NATIVE_PROTOTYPE_FLAG="vm native prototype",VM_OPEN_METHODS="vm open methods",VM_IS_CLASS="vm is class",VM_OPEN_METHOD_PREFIX="open_",
VM_NATIVE_BUILTINS=[Object,Number,Boolean,String,Array,Date,RegExp],VM_NATIVE_BUILTIN_SURROGATES=[{object:Object,methods:["toString","valueOf"]},{object:Function,methods:["toString","valueOf"]}],VM_NATIVE_BUILTIN_ORIGINALS="vm originals",SAVED_SCOPE_NAME="$SS",PARAMETER_PREFIX="p",$M=[];XRegExp.install({natives:!0});var VM_METHOD_OVERRIDES=createEmptyObject(),vmNextShapeId=1;function defineObjectShape(a){defineReadOnlyProperty(a,"shape",vmNextShapeId++)}
var vmNextInterpreterFunctionId=1,vmNextCompiledFunctionId=1,vmNextTrampolineId=1,vmNextMemoizerId=1,InlineCache=function(){function a(){this.value=this.key=void 0}a.prototype.update=function(a,d){this.key=a;return this.value=d};return a}();function ic(a){return a.ic||(a.ic=new InlineCache)}var AS=1,JS=2,RUNTIME_ENTER_LEAVE_STACK=[1];function enter(a){RUNTIME_ENTER_LEAVE_STACK.push(a)}function leave(){RUNTIME_ENTER_LEAVE_STACK.pop();!0}function inJS(){return 2===RUNTIME_ENTER_LEAVE_STACK.top()}
function inAS(){return 1===RUNTIME_ENTER_LEAVE_STACK.top()}var callWriter=new IndentingWriter(!1,function(a){print(a)}),objectIDs=0,OBJECT_NAME="Object Name";
function objectConstantName(a){!0;if(a.hasOwnProperty("Object Name"))return a["Object Name"];if(a instanceof LazyInitializer)return a.getName();var b;b=objectIDs++;b=a instanceof Global?"$G"+b:a instanceof Multiname?"$M"+b:isClass(a)?"$C"+b:"$O"+b;Object.defineProperty(a,"Object Name",{value:b,writable:!1,enumerable:!1});jsGlobal[b]=a;return b}
var LazyInitializer=function(){function a(a){this.target=a}var b=jsGlobal;a.create=function(a){return a.lazyInitializer?a.lazyInitializer:a.lazyInitializer=new LazyInitializer(a)};a.prototype.getName=function(){if(this.name)return this.name;var a=this.target,e;this.target instanceof ScriptInfo?(this.name="$S"+objectIDs++,e=function(){ensureScriptIsExecuted(a,"Lazy Initializer");return a.global}):this.target instanceof ClassInfo?(this.name=Multiname.getQualifiedName(a.instanceInfo.name),e=function(){return a.abc.domain.getProperty(a.instanceInfo.name)}):
notImplemented(a);var f=this.name;Object.defineProperty(b,f,{get:function(){var a=e();Object.defineProperty(b,f,{value:a,writable:!0});return a},configurable:!0});return f};return a}();
function getNamespaceResolutionMap(a){var b=this.resolutionMap[a.id];if(b)return b;var b=this.resolutionMap[a.id]=createEmptyObject(),d=this.bindings,e;for(e in d.map){var f=e,g=d.map[e].trait;if(g.isGetter()||g.isSetter())f=f.substring(Binding.KEY_PREFIX_LENGTH);f=Multiname.fromQualifiedName(f);f.getNamespace().inNamespaceSet(a)&&(b[f.getName()]=Multiname.getQualifiedName(g.name))}return b}
function resolveMultinameProperty(a,b){"object"===typeof b&&(b=String(b));if(isNumeric(b))return toNumber(b);if(!a)return Multiname.getPublicQualifiedName(b);if(1<a.length){var d=this.getNamespaceResolutionMap(a)[b];return d?d:Multiname.getPublicQualifiedName(b)}return a[0].qualifiedName+"$"+b}function asGetPublicProperty(a){return this.asGetProperty(void 0,a,0)}
function asGetProperty(a,b,d){a=this.resolveMultinameProperty(a,b,d);return this.asGetNumericProperty&&Multiname.isNumeric(a)?this.asGetNumericProperty(a):this[a]}function asGetPropertyLikelyNumeric(a,b,d){return"number"===typeof b?this.asGetNumericProperty(b):asGetProperty.call(this,a,b,d)}function asGetResolvedStringProperty(a){!0;return this[a]}function asCallResolvedStringProperty(a,b,d){b=b?null:this;var e=this["vm open methods"];return(b&&e&&e[a]?e[a]:this[a]).apply(b,d)}
function fromResolvedName(a){!0;return a.substring(Multiname.PUBLIC_QUALIFIED_NAME_PREFIX.length)}function asGetResolvedStringPropertyFallback(a){a=fromResolvedName(a);return this.asGetProperty([ShumwayNamespace.PUBLIC],a,0)}function asSetPublicProperty(a,b){return this.asSetProperty(void 0,a,0,b)}
function asSetProperty(a,b,d,e){"object"===typeof b&&(b=String(b));a=this.resolveMultinameProperty(a,b,d);if(this.asSetNumericProperty&&Multiname.isNumeric(a))return this.asSetNumericProperty(a,e);this[a]=e}function asSetPropertyLikelyNumeric(a,b,d,e){if("number"===typeof b)this.asSetNumericProperty(b,e);else return asSetProperty.call(this,a,b,d,e)}function asDefinePublicProperty(a,b){return this.asDefineProperty(void 0,a,0,b)}
function asDefineProperty(a,b,d,e){"object"===typeof b&&(b=String(b));a=this.resolveMultinameProperty(a,b,d);Object.defineProperty(this,a,e)}function asCallPublicProperty(a,b){return this.asCallProperty(void 0,a,0,!1,b)}var callCounter=new metrics.Counter(!0);
function asCallProperty(a,b,d,e,f){if(traceCallExecution.value){var g=this.class?this.class.className+" ":"";callWriter.enter("call "+g+b+"("+toSafeArrayString(f)+") #"+callCounter.count(b))}g=e?null:this;isProxyObject(this)?f=this[VM_CALL_PROXY](new Multiname(a,b,d),g,f):(a=this.resolveMultinameProperty(a,b,d),this.asGetNumericProperty&&Multiname.isNumeric(a)?a=this.asGetNumericProperty(a):(b=this["vm open methods"],a=g&&b&&b[a]?b[a]:this[a]),f=a.apply(g,f));0<traceCallExecution.value&&callWriter.leave("return "+
toSafeString(f));return f}function construct(a,b){if(a.classInfo){var d=a.classInfo.instanceInfo.name.qualifiedName;if(d===Multiname.String)return String.apply(null,b);if(d===Multiname.Boolean)return Boolean.apply(null,b);if(d===Multiname.Number)return Number.apply(null,b)}return new (Function.bind.apply(a.instanceConstructor,[,].concat(b)))}
function asConstructProperty(a,b,d,e){a=this.asGetProperty(a,b,d);traceCallExecution.value&&callWriter.enter("construct "+b+"("+toSafeArrayString(e)+") #"+callCounter.count(b));b=construct(a,e);0<traceCallExecution.value&&callWriter.leave("return "+toSafeString(b));return b}function asHasProperty(a,b,d,e){return this.hasProperty?this.hasProperty(a,b,d):e?nonProxyingHasProperty(this,this.resolveMultinameProperty(a,b,d)):this.resolveMultinameProperty(a,b,d)in this}
function asDeleteProperty(a,b,d){return delete this[this.resolveMultinameProperty(a,b,d)]}function asGetNumericProperty(a){return this[a]}function asSetNumericProperty(a,b){this[a]=b}function asGetDescendants(){notImplemented("asGetDescendants")}function asNextNameIndex(a){0===a&&defineNonEnumerableProperty(this,"enumerableKeys",this.asGetEnumerableKeys());for(var b=this.enumerableKeys;a<b.length;){if(this.asHasProperty(void 0,b[a],0))return a+1;a++}return 0}
function asNextName(a){var b=this.enumerableKeys;!0;return b[a-1]}function asNextValue(a){return this.asGetPublicProperty(this.asNextName(a))}function asGetEnumerableKeys(){var a=this.valueOf();if("string"===typeof a||"number"===typeof a)return[];for(var a=Object.keys(this),b=[],d=0;d<a.length;d++){var e=a[d];isNumeric(e)?b.push(e):(e=Multiname.stripPublicQualifier(e),void 0!==e&&b.push(e))}return b}
function initializeGlobalObject(a){var b=a[VM_NATIVE_BUILTIN_ORIGINALS]=createEmptyObject();VM_NATIVE_BUILTIN_SURROGATES.forEach(function(d){var e=d.object;b[e.name]=createEmptyObject();d.methods.forEach(function(d){var g=e.prototype[d];b[e.name][d]=g;var m=Multiname.getPublicQualifiedName(d);useSurrogates&&(a[e.name].prototype[d]=function(){return this[m]?this[m]():g.call(this)})})});VM_NATIVE_BUILTINS.forEach(function(a){defineReadOnlyProperty(a.prototype,"vm native prototype",!0)});defineNonEnumerableProperty(a.Object.prototype,
"getNamespaceResolutionMap",getNamespaceResolutionMap);defineNonEnumerableProperty(a.Object.prototype,"resolveMultinameProperty",resolveMultinameProperty);defineNonEnumerableProperty(a.Object.prototype,"asGetProperty",asGetProperty);defineNonEnumerableProperty(a.Object.prototype,"asGetPublicProperty",asGetPublicProperty);defineNonEnumerableProperty(a.Object.prototype,"asGetResolvedStringProperty",asGetResolvedStringProperty);defineNonEnumerableProperty(a.Object.prototype,"asSetProperty",asSetProperty);
defineNonEnumerableProperty(a.Object.prototype,"asSetPublicProperty",asSetPublicProperty);defineNonEnumerableProperty(a.Object.prototype,"asDefineProperty",asDefineProperty);defineNonEnumerableProperty(a.Object.prototype,"asDefinePublicProperty",asDefinePublicProperty);defineNonEnumerableProperty(a.Object.prototype,"asCallProperty",asCallProperty);defineNonEnumerableProperty(a.Object.prototype,"asCallPublicProperty",asCallPublicProperty);defineNonEnumerableProperty(a.Object.prototype,"asCallResolvedStringProperty",
asCallResolvedStringProperty);defineNonEnumerableProperty(a.Object.prototype,"asConstructProperty",asConstructProperty);defineNonEnumerableProperty(a.Object.prototype,"asHasProperty",asHasProperty);defineNonEnumerableProperty(a.Object.prototype,"asDeleteProperty",asDeleteProperty);defineNonEnumerableProperty(a.Object.prototype,"asNextName",asNextName);defineNonEnumerableProperty(a.Object.prototype,"asNextValue",asNextValue);defineNonEnumerableProperty(a.Object.prototype,"asNextNameIndex",asNextNameIndex);
defineNonEnumerableProperty(a.Object.prototype,"asGetEnumerableKeys",asGetEnumerableKeys);"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" ").forEach(function(b){b in a?(defineNonEnumerableProperty(a[b].prototype,"asGetNumericProperty",asGetNumericProperty),defineNonEnumerableProperty(a[b].prototype,"asSetNumericProperty",asSetNumericProperty),defineNonEnumerableProperty(a[b].prototype,"asGetProperty",asGetPropertyLikelyNumeric),
defineNonEnumerableProperty(a[b].prototype,"asSetProperty",asSetPropertyLikelyNumeric)):print(b+" was not found in globals")});Array.prototype.asGetProperty=function(a,b,f){return"number"===typeof b?this[b]:asGetProperty.call(this,a,b,f)};Array.prototype.asSetProperty=function(a,b,f,g){if("number"===typeof b)this[b]=g;else return asSetProperty.call(this,a,b,f,g)}}initializeGlobalObject(jsGlobal);function isNativePrototype(a){return Object.prototype.hasOwnProperty.call(a,"vm native prototype")}
function asTypeOf(a){if(a){if(a.constructor===String)return"string";if(a.constructor===Number)return"number";if(a.constructor===Boolean)return"boolean";if(a instanceof XML||a instanceof XMLList)return"xml"}return typeof a}function publicizeProperties(a){for(var b=Object.keys(a),d=0;d<b.length;d++){var e=b[d];if(!Multiname.isPublicQualifiedName(e)){var f=a[e];a[Multiname.getPublicQualifiedName(e)]=f;delete a[e]}}}function asGetSlot(a,b){return a[a["vm slots"][b].name]}
function asSetSlot(a,b,d){b=a["vm slots"][b];if(!b.const){var e=b.type;a[b.name]=e&&e.coerce?e.coerce(d):d}}function asHasNext2(a,b){if(isNullOrUndefined(a))return{index:0,object:null};a=boxValue(a);var d=a.asNextNameIndex(b);if(0<d)return{index:d,object:a};for(;;){a=Object.getPrototypeOf(a);if(!a)break;d=a.asNextNameIndex(0);if(0<d)return{index:d,object:a}}return{index:0,object:null}}function getDescendants(a,b){if(!isXMLType(a))throw"Not XML object in getDescendants";return a.descendants(b)}
function checkFilter(a){if(!a.class||!isXMLType(a))throw"TypeError operand of childFilter not of XML type";return a}function Activation(a){this.methodInfo=a}
var ScopeStack=function(){function a(a){this.parent=a;this.stack=[];this.isWith=[]}a.prototype.push=function(a,d){this.stack.push(a);this.isWith.push(!!d)};a.prototype.get=function(a){return this.stack[a]};a.prototype.clear=function(){this.stack.length=0;this.isWith.length=0};a.prototype.pop=function(){this.isWith.pop();this.stack.pop()};a.prototype.topScope=function(){this.scopes||(this.scopes=[]);for(var a=this.parent,d=0;d<this.stack.length;d++){var e=this.stack[d],f=this.isWith[d],g=this.scopes[d];
if(!g||g.parent!==a||g.object!==e||g.isWith!==f)g=this.scopes[d]=new Scope(a,e,f);a=g}return a};return a}(),Scope=function(){function a(a,d,e){!0;this.parent=a;this.object=d;this.global=a?a.global:this;this.isWith=e;this.cache=createEmptyObject()}a.prototype.findDepth=function(a){for(var d=this,e=0;d;){if(d.object===a)return e;e++;d=d.parent}return-1};a.prototype.findScopeProperty=function(a,d,e,f,g,m){var l,p;p=a?1<a.length?a.id+"$"+d:a[0].qualifiedName+"$"+d:d;if(!m&&(l=this.cache[p]))return l;
if(this.object.asHasProperty(a,d,e,!0))return this.isWith?this.object:this.cache[p]=this.object;if(this.parent)return this.cache[p]=this.parent.findScopeProperty(a,d,e,f,g,m);if(m)return null;if(l=f.findDomainProperty(new Multiname(a,d,e),g,!0))return l;g&&unexpected("Cannot find property "+d);return this.global.object};a.prototype.trace=function(){for(var a=this;a;)print(a.object+(a.object?" - "+a.object.debugName:"")),a=a.parent};return a}();
function bindFreeMethodScope(a,b){var d=a.freeMethod;if(a.lastBoundMethod&&a.lastBoundMethod.scope===b)return a.lastBoundMethod.boundMethod;!0;var e,f=b.global.object;if(!a.hasOptional()&&!a.needsArguments()&&!a.needsRest())switch(a.parameters.length){case 0:e=function(){return d.call(this===jsGlobal?f:this,b)};break;case 1:e=function(a){return d.call(this===jsGlobal?f:this,b,a)};break;case 2:e=function(a,e){return d.call(this===jsGlobal?f:this,b,a,e)};break;case 3:e=function(a,e,l){return d.call(this===
jsGlobal?f:this,b,a,e,l)}}e||(Counter.count("Bind Scope - Slow Path"),e=function(){Array.prototype.unshift.call(arguments,b);return d.apply(this===jsGlobal?b.global.object:this,arguments)});e.methodInfo=a;e.instanceConstructor=e;a.lastBoundMethod={scope:b,boundMethod:e};return e}function nameInTraits(a,b){if(a.hasOwnProperty("vm bindings")&&a.hasOwnProperty(b))return!0;var d=Object.getPrototypeOf(a);return d.hasOwnProperty("vm bindings")&&d.hasOwnProperty(b)}
function resolveMultinameUnguarded(a,b,d){!0;!0;a=boxValue(a);for(var e,f=isNativePrototype(a),g=0,m=b.namespaces.length;g<m;g++){var l=b.getQName(g);if(d){if(nameInTraits(a,Multiname.getQualifiedName(l)))return l}else if(b.namespaces[g].isDynamic()){if(e=l,f)break}else if(!f&&Multiname.getQualifiedName(l)in a)return l}if(e&&!d&&Multiname.getQualifiedName(e)in a)return e}function resolveMultiname(a,b,d){enter(2);a=resolveMultinameUnguarded(a,b,d);leave(2);return a}
function sliceArguments(a,b){return Array.prototype.slice.call(a,b)}function hasProperty(a,b){a=boxValue(a);return a.hasProperty?a.hasProperty(b):resolveName(a,b)in a}function nonProxyingHasProperty(a,b){return b in a}
function getSuper(a,b,d){!0;!0;!0;var e=a.object.baseClass;!0;a=e.instanceConstructor.prototype;var f=d.isQName()?d:resolveMultiname(a,d);d=void 0;if(f)if(Multiname.isNumeric(f)&&a.asGetNumericProperty)d=a.asGetNumericProperty(Multiname.getQualifiedName(f),d);else{var f=Multiname.getQualifiedName(f),g=a["vm open methods"][f],e=e.classInfo.instanceInfo.name;g?(d=b[e+" "+f])||(d=b[e+" "+f]=bindSafely(g,b)):(a=Object.getOwnPropertyDescriptor(a,f),!0,d=a.get?a.get.call(b):b[f])}return d}
function resolveName(a,b){if(b instanceof Multiname){if(1<b.namespaces.length){var d=resolveMultiname(a,b);return void 0!==d?Multiname.getQualifiedName(d):Multiname.getPublicQualifiedName(b.name)}return Multiname.getQualifiedName(b)}return"object"===typeof b?Multiname.getPublicQualifiedName(String(b)):b}
function setSuper(a,b,d,e){!0;!0;var f=a.object.baseClass;!0;a=f.instanceConstructor.prototype;var g=Multiname.isQName(d)?d:resolveMultiname(a,d);if(void 0!==g)Multiname.isNumeric(g)&&a.asSetNumericProperty?a.asSetNumericProperty(Multiname.getQualifiedName(g),e):(d=Multiname.getQualifiedName(g),a=Object.getOwnPropertyDescriptor(a,d),!0,a.set?a.set.call(b,e):b[d]=e);else throw new ReferenceError("Cannot create property "+d.name+" on "+f.debugName);}
function forEachPublicProperty(a,b,d){if(a["vm bindings"])for(f in a)if(isNumeric(f))b.call(d,f,a[f]);else{if(Multiname.isPublicQualifiedName(f)&&0>a["vm bindings"].indexOf(f)){var e=f.substr(Multiname.PUBLIC_QUALIFIED_NAME_PREFIX.length);b.call(d,e,a[f])}}else for(var f in a)b.call(d,f,a[f])}
function wrapJSObject(a){var b=Object.create(a),d;for(d in a)Object.defineProperty(b,Multiname.getPublicQualifiedName(d),function(a,b){return{get:function(){return a[b]},set:function(d){a[b]=d},enumerable:!0}}(a,d));return b}function createActivation(a){return Object.create(a.activationPrototype)}function isClass(a){!0;return Object.hasOwnProperty.call(a,"vm is class")}function isTrampoline(a){!0;return a.isTrampoline}function isMemoizer(a){!0;return a.isMemoizer}
function CatchScopeObject(a,b){b&&(new CatchBindings(new Scope(null,this),b)).applyTo(a,this)}
var Global=function(){function a(a){this.scriptInfo=a;a.global=this;a.scriptBindings=new ScriptBindings(a,new Scope(null,this));a.scriptBindings.applyTo(a.abc.domain,this);a.loaded=!0}a.prototype.toString=function(){return"[object global]"};a.prototype.isExecuted=function(){return this.scriptInfo.executed};a.prototype.isExecuting=function(){return this.scriptInfo.executing};a.prototype.ensureExecuted=function(){ensureScriptIsExecuted(this.scriptInfo)};defineNonEnumerableProperty(a.prototype,Multiname.getPublicQualifiedName("toString"),
function(){return this.toString()});return a}();function canCompile(a){return!a.hasBody||a.hasExceptions()&&!compilerEnableExceptions.value||a.code.length>compilerMaximumMethodSize.value?!1:!0}function shouldCompile(a){return!canCompile(a)||a.isClassInitializer||a.isScriptInitializer?!1:!0}
function forceCompile(a){if(a.hasExceptions())return!1;a=a.holder;a instanceof ClassInfo&&(a=a.instanceInfo);if(a instanceof InstanceInfo){switch(a.name.namespaces[0].originalURI){case "flash.geom":case "flash.events":return!0}switch(a.name.getOriginalName()){case "com.google.youtube.model.VideoData":return!0}}return!1}
function createInterpretedFunction(a,b,d){var e=!1,f=a.parameters.map(function(a){void 0!==a.value&&(e=!0);return a.value});d=d?function(b){var d=this===jsGlobal?b.global.object:this,l=sliceArguments(arguments,1);e&&l.length<f.length&&(l=l.concat(f.slice(l.length-f.length)));return Interpreter.interpretMethod(d,a,b,l)}:function(){var d=this===jsGlobal?b.global.object:this,m=sliceArguments(arguments);e&&m.length<f.length&&(m=m.concat(f.slice(arguments.length-f.length)));return Interpreter.interpretMethod(d,
a,b,m)};d.instanceConstructor=d;d.debugName="Interpreter Function #"+vmNextInterpreterFunctionId++;return d}var totalFunctionCount=0,compiledFunctionCount=0;function debugName(a){return isFunction(a)?a.debugName:a}
function createCompiledFunction(a,b,d,e){$M.push(a);d=Compiler.compileMethod(a,b,d);b=d.parameters;d=d.body;var f=a.name?Multiname.getQualifiedName(a.name):"fn"+compiledFunctionCount;if(a.holder){var g="";a.holder instanceof ClassInfo?g="static$"+a.holder.instanceInfo.name.getName():a.holder instanceof InstanceInfo?g=a.holder.name.getName():a.holder instanceof ScriptInfo&&(g="script");f=g+"$"+f}f=escapeString(f);a.verified&&(f+="$V");if(compiledFunctionCount==functionBreak.value||e)d="{ debugger; \n"+
d+"}";e="function "+f+" ("+b.join(", ")+") "+d;1<traceLevel.value&&a.trace(new IndentingWriter,a.abc);var m=this.abc;a.debugTrace=function(){a.trace(new IndentingWriter,m)};0<traceLevel.value&&print(e);e=(new Function("return "+e))();e.debugName="Compiled Function #"+vmNextCompiledFunctionId++;return e}
function checkMethodOverrides(a){if(a.name&&(a=a.holder instanceof ClassInfo?"static "+a.holder.instanceInfo.name.getOriginalName()+"::"+a.name.getOriginalName():a.holder instanceof InstanceInfo?a.holder.name.getOriginalName()+"::"+a.name.getOriginalName():a.name.getOriginalName(),a in VM_METHOD_OVERRIDES))return warning("Overriding Method: "+a),VM_METHOD_OVERRIDES[a]}
function makeTrampoline(a,b,d){!0;var e=null,f=function(){3<=traceExecution.value&&print("Trampolining");Counter.count("Executing Trampoline");1<traceCallExecution.value&&callWriter.writeLn("Trampoline: "+d);e||(e=a(f),!0);return e.apply(this,arguments)};f.trigger=function(){Counter.count("Triggering Trampoline");e||(e=a(f),!0)};f.isTrampoline=!0;f.debugName="Trampoline #"+vmNextTrampolineId++;defineReadOnlyProperty(f,"vm length",b);return f}
function makeMemoizer(a,b){function d(){Counter.count("Runtime: Memoizing");3<=traceExecution.value&&print("Memoizing: "+a);1<traceCallExecution.value&&callWriter.writeLn("Memoizing: "+a);if(isNativePrototype(this))return Counter.count("Runtime: Method Closures"),bindSafely(b.value,this);isTrampoline(b.value)&&b.value.trigger();!0;var d=null;if(isClass(this))return Counter.count("Runtime: Static Method Closures"),d=bindSafely(b.value,this),defineReadOnlyProperty(this,a,d),d;if(Object.prototype.hasOwnProperty.call(this,
a)){if(Object.getOwnPropertyDescriptor(this,a).get)return Counter.count("Runtime: Method Closures"),bindSafely(b.value,this);Counter.count("Runtime: Unpatched Memoizer");return this[a]}d=bindSafely(b.value,this);d.methodInfo=b.value.methodInfo;defineReadOnlyProperty(d,Multiname.getPublicQualifiedName("prototype"),null);defineReadOnlyProperty(this,a,d);return d}Counter.count("Runtime: Memoizers");d.isMemoizer=!0;d.debugName="Memoizer #"+vmNextMemoizerId++;return d}
function createFunction(a,b,d,e){!0;if(a.freeMethod)return d?bindFreeMethodScope(a,b):a.freeMethod;var f;if(f=checkMethodOverrides(a))return!0,f;ensureFunctionIsInitialized(a);totalFunctionCount++;f=!1;if((a.abc.domain.mode===EXECUTION_MODE.INTERPRET||!shouldCompile(a))&&!forceCompile(a))f=!0;0<=compileOnly.value&&Number(compileOnly.value)!==totalFunctionCount&&(print("Compile Only Skipping "+totalFunctionCount),f=!0);0<=compileUntil.value&&(1E3<totalFunctionCount&&(print(backtrace()),print(AVM2.getStackTrace())),
totalFunctionCount>compileUntil.value&&(print("Compile Until Skipping "+totalFunctionCount),f=!0));f?a.freeMethod=createInterpretedFunction(a,b,d):(compiledFunctionCount++,console.info("Compiling: "+a+" count: "+compiledFunctionCount),(0<=compileOnly.value||0<=compileUntil.value)&&print("Compiling "+totalFunctionCount),a.freeMethod=createCompiledFunction(a,b,d,e,a.isInstanceInitializer));a.freeMethod.methodInfo=a;return d?bindFreeMethodScope(a,b):a.freeMethod}
function ensureFunctionIsInitialized(a){if(!a.analysis){a.analysis=new Analysis(a);a.needsActivation()&&(a.activationPrototype=new Activation(a),(new ActivationBindings(a)).applyTo(a.abc.domain,a.activationPrototype));for(var b=a.exceptions,d=0,e=b.length;d<e;d++){var f=b[d];if(f.varName){var g=Object.create(Trait.prototype);g.kind=0;g.name=f.varName;g.typeName=f.typeName;g.holder=a;f.scopeObject=new CatchScopeObject(a.abc.domain,g)}else f.scopeObject=new CatchScopeObject}}}
function getTraitFunction(a,b,d){!0;!0;var e=a.methodInfo,f;if(e.isNative()){var g=a.metadata;g&&g.native?f=(d=getNative(g.native.value[0].value))&&d(null,b):g&&g.unsafeJSNative?f=getNative(g.unsafeJSNative.value[0].value):d&&(b=Multiname.getName(e.name),f=a.isGetter()?d[b]?d[b].get:void 0:a.isSetter()?d[b]?d[b].set:void 0:d[b]);if(!f)return warning("No native method for: "+a.kindName()+" "+e.holder.name+"::"+Multiname.getQualifiedName(e.name)),function(){warning("Calling undefined native method: "+
a.kindName()+" "+e.holder.name+"::"+Multiname.getQualifiedName(e.name))}}else 2<=traceExecution.value&&print("Creating Function For Trait: "+a.holder+" "+a),f=createFunction(e,b),!0;3<=traceExecution.value&&print("Made Function: "+Multiname.getQualifiedName(e.name));return f}function makeQualifiedNameTraitMap(a){for(var b=createEmptyObject(),d=0;d<a.length;d++)b[Multiname.getQualifiedName(a[d].name)]=a[d];return b}
function createClass(a,b,d){!0;var e=a.instanceInfo,f=a.abc.domain,g=Multiname.getName(e.name);traceExecution.value&&print("Creating "+(e.isInterface()?"Interface":"Class")+": "+g+(a.native?" replaced with native "+a.native.cls:""));g=e.isInterface()?Interface.createInterface(a):Class.createClass(a,b,d);traceClasses.value&&(f.loadedClasses.push(g),f.traceLoadedClasses(!0));if(e.isInterface())return g;f.onMessage.notify1("classCreated",g);g.instanceConstructor&&g!==Class&&g.verify();if(b&&("Proxy"===
Multiname.getQualifiedName(b.classInfo.instanceInfo.name.name)||b.isProxy))installProxyClassWrapper(g),g.isProxy=!0;createFunction(a.init,d).call(g);sealConstTraits&&this.sealConstantTraits(g,a.traits);return g}
function sealConstantTraits(a,b){for(var d=0,e=b.length;d<e;d++){var f=b[d];f.isConst()&&(f=Multiname.getQualifiedName(f.name),function(b,d){Object.defineProperty(a,b,{configurable:!1,enumerable:!1,get:function(){return d},set:function(){throwErrorFromVM(AVM2.currentDomain(),"ReferenceError","Illegal write to read-only property "+b+".")}})}(f,a[f]))}}
function applyType(a,b,d){b=b.classInfo.instanceInfo.name.name;if("Vector"===b){!0;d=d[0];if(!isNullOrUndefined(d))switch(b=d.classInfo.instanceInfo.name.name.toLowerCase(),b){case "int":case "uint":case "double":case "object":return a.getClass("packageInternal __AS3__.vec.Vector$"+b)}return a.getClass("packageInternal __AS3__.vec.Vector$object").applyType(d)}return notImplemented(b)}function throwErrorFromVM(a,b,d,e){throw new (a.getClass(b).instanceConstructor)(d,e);}
function translateError(a,b){if(b instanceof Error){var d=a.getClass(b.name);if(d)return new d.instanceConstructor(translateErrorMessage(b));unexpected("Can't translate error: "+b)}return b}function asIsInstanceOf(a,b){return a.isInstanceOf(b)}function asIsType(a,b){return a.isInstance(b)}function asAsType(a,b){return asIsType(a,b)?b:null}
function asCoerceByMultiname(a,b,d){!0;switch(Multiname.getQualifiedName(b)){case Multiname.Int:return asCoerceInt(d);case Multiname.Uint:return asCoerceUint(d);case Multiname.String:return asCoerceString(d);case Multiname.Number:return asCoerceNumber(d);case Multiname.Boolean:return asCoerceBoolean(d);case Multiname.Object:return asCoerceObject(d)}return asCoerce(a.getType(b),d)}
function asCoerce(a,b){if(a.coerce)return a.coerce(b);if(isNullOrUndefined(b))return null;if(a.isInstance(b))return b;!0}function asCoerceString(a){return"string"===typeof a?a:void 0==a?null:a+""}function asCoerceInt(a){return a|0}function asCoerceUint(a){return a>>>0}function asCoerceNumber(a){return+a}function asCoerceBoolean(a){return!!a}function asCoerceObject(a){return void 0==a?null:"string"===typeof a||"number"===typeof a?a:Object(a)}
function asDefaultCompareFunction(a,b){return String(a).localeCompare(String(b))}function asCompare(a,b,d,e){!0;!0;!0;var f=0;e||(e=asDefaultCompareFunction);d&16?(a=toNumber(a),b=toNumber(b),f=a<b?-1:a>b?1:0):f=e(a,b);d&2&&(f*=-1);return f}function asAdd(a,b){return"string"===typeof a||"string"===typeof b?String(a)+String(b):a+b}
var GlobalMultinameResolver=function(){function a(a){for(var f=0;f<a.length;f++){var g=a[f],m=g.name.name,g=g.name.getNamespace();g.isDynamic()||(b[m]=!0,d[m]&&notImplemented("We have to the undo the optimization, "+m+" can now bind to "+g))}}var b=createEmptyObject(),d=createEmptyObject();return{loadAbc:function(b){if(globalMultinameAnalysis.value){var d=b.scripts,g=b.classes;b=b.methods;for(var m=0;m<d.length;m++)a(d[m].traits);for(m=0;m<g.length;m++)a(g[m].traits),a(g[m].instanceInfo.traits);for(m=
0;m<b.length;m++)b[m].traits&&a(b[m].traits)}},resolveMultiname:function(a){var f=a.name;if(!b[f])return d[f]=!0,new Multiname([ShumwayNamespace.PUBLIC],a.name)}}}();VM_METHOD_OVERRIDES["static mochi.as3.MochiServices::connect"]=function(){};VM_METHOD_OVERRIDES["static MochiBot::track"]=function(){};VM_METHOD_OVERRIDES["com.midasplayer.debug.DebugLog::trace"]=function(a){console.log(a)};VM_METHOD_OVERRIDES["com.midasplayer.engine.comm.DebugGameComm::getGameData"]=function(){return'<gamedata randomseed="554884453" version="1">\n<musicOn>true</musicOn>\n<soundOn>true</soundOn>\n<isShortGame>false</isShortGame>\n<booster_1>0</booster_1>\n<booster_2>0</booster_2>\n<booster_3>0</booster_3>\n<booster_4>0</booster_4>\n<booster_5>0</booster_5>\n<bestScore>0</bestScore>\n<bestChain>0</bestChain>\n<bestLevel>0</bestLevel>\n<bestCrushed>0</bestCrushed>\n<bestMixed>0</bestMixed>\n<text id="outro.crushed">Candy crushed</text>\n<text id="outro.bestever">best ever</text>\n<text id="outro.trophy.two">scored {0} in one game</text>\n<text id="outro.combo_color_color">All Clear Created</text>\n<text id="outro.trophy.one">crushed {0} candy in one game</text>\n<text id="outro.score">Score</text>\n<text id="outro.opengame">Please register to play the full game</text>\n<text id="outro.chain">Longest chain</text>\n<text id="outro.time">Game ends in {0} seconds</text>\n<text id="outro.combo_color_line">Super Stripes Created</text>\n<text id="game.nomoves">No more moves!</text>\n<text id="outro.combo_wrapper_line">Mega-Candy Created</text>\n<text id="intro.time">Game starts in {0} seconds</text>\n<text id="outro.now">now</text>\n<text id="outro.level">Level reached</text>\n<text id="outro.title">Game Over</text>\n<text id="intro.info1">Match 3 Candy of the same colour to crush them. Matching 4 or 5 in different formations generates special sweets that are extra tasty.</text>\n<text id="intro.info2">You can also combine the special sweets for additional effects by switching them with each other. Try these combinations for a taste you will not forget: </text>\n<text id="outro.combo_color_wrapper">Double Colour Bombs Created</text>\n<text id="outro.trophy.three">made {0} combined candy in one game</text>\n<text id="intro.title">Play like this:</text>\n</gamedata>'};
var TypedArrayVector=function(){function a(a,b){a|=0;this.fixed=!!b;this.buffer=new Int32Array(Math.max(10,a+4));this.offset=0;this._length=a;this.defaultValue=0}function b(a,b){return String(a).localeCompare(String(b))}a.callable=function(b){if(b instanceof a)return b;var e=b.asGetProperty(void 0,"length");if(void 0!==e){for(var f=new a(e,!1),g=0;g<e;g++)f.asSetNumericProperty(g,b.asGetPublicProperty(g));return f}unexpected()};a.prototype.internalToString=function(){for(var a="",b=this.offset,f=
b+this._length,g=0;g<this.buffer.length;g++)g===b&&(a+="["),g===f&&(a+="]"),a+=this.buffer[g],g<this.buffer.length-1&&(a+=",");this.offset+this._length===this.buffer.length&&(a+="]");return a+": offset: "+this.offset+", length: "+this._length+", capacity: "+this.buffer.length};a.prototype.toString=function(){for(var a="",b=0;b<this._length;b++)a+=this.buffer[this.offset+b],b<this._length-1&&(a+=",");return a};a.prototype._view=function(){return this.buffer.subarray(this.offset,this.offset+this._length)};
a.prototype._ensureCapacity=function(a){var b=this.offset+a;b<this.buffer.length||(a<=this.buffer.length?(b=this.buffer.length-a>>2,this.buffer.set(this._view(),b),this.offset=b):(a=3*this.buffer.length>>2,a<b&&(a=b),b=new Int32Array(a),b.set(this.buffer,0),this.buffer=b))};a.prototype.concat=function(){notImplemented("TypedArrayVector.concat")};a.prototype.every=function(a,b){for(var f=0;f<this._length;f++)if(!a.call(b,this.asGetNumericProperty(f),f,this))return!1;return!0};a.prototype.filter=function(b,
e){for(var f=new a,g=0;g<this._length;g++)b.call(e,this.asGetNumericProperty(g),g,this)&&f.push(this.asGetNumericProperty(g));return f};a.prototype.forEach=function(a,b){for(var f=0;f<this._length;f++)a.call(b,this.asGetNumericProperty(f),f,this)};a.prototype.join=function(){notImplemented("TypedArrayVector.join")};a.prototype.indexOf=function(){notImplemented("TypedArrayVector.indexOf")};a.prototype.lastIndexOf=function(){notImplemented("TypedArrayVector.lastIndexOf")};a.prototype.map=function(){notImplemented("TypedArrayVector.map")};
a.prototype.push=function(){this._ensureCapacity(this._length+arguments.length);for(var a=0;a<arguments.length;a++)this.buffer[this.offset+this._length++]=arguments[a]};a.prototype.pop=function(){this._checkFixed();if(0===this._length)return this.defaultValue;this._length--;return this.buffer[this.offset+this._length]};a.prototype.reverse=function(){for(var a=this.offset,b=this.offset+this._length-1,f=this.buffer;a<b;){var g=f[a];f[a]=f[b];f[b]=g;a++;b--}};a.CASEINSENSITIVE=1;a.DESCENDING=2;a.UNIQUESORT=
4;a.RETURNINDEXEDARRAY=8;a.NUMERIC=16;a.prototype._sortNumeric=function(a){for(var b=this._view(),f=[],g=-1,m=0,l=b.length-1,p,r,s,v;;)if(100>=l-m){for(r=m+1;r<=l;r++){s=b[r];for(p=r-1;p>=m&&b[p]>s;)b[p+1]=b[p--];b[p+1]=s}if(-1==g)break;l=f[g--];m=f[g--]}else{v=m+l>>1;p=m+1;r=l;s=b[v];b[v]=b[p];b[p]=s;b[m]>b[l]&&(s=b[m],b[m]=b[l],b[l]=s);b[p]>b[l]&&(s=b[p],b[p]=b[l],b[l]=s);b[m]>b[p]&&(s=b[m],b[m]=b[p],b[p]=s);for(v=b[p];;){do p++;while(b[p]<v);do r--;while(b[r]>v);if(r<p)break;s=b[p];b[p]=b[r];b[r]=
s}b[m+1]=b[r];b[r]=v;l-p+1>=r-m?(f[++g]=p,f[++g]=l,l=r-1):(f[++g]=m,f[++g]=r-1,m=p)}a&&this.reverse()};a.prototype.sort=function(){if(0===arguments.length)return Array.prototype.sort.call(this._view());var d,e=0;arguments[0]instanceof Function?d=arguments[0]:isNumber(arguments[0])&&(e=arguments[0]);isNumber(arguments[1])&&(e=arguments[1]);if(e&TypedArrayVector.NUMERIC)return this._sortNumeric(e&a.DESCENDING);Array.prototype.sort.call(this._view(),function(f,g){var m=f,l=g,p=e,r=d;assertNotImplemented(!(p&
a.CASEINSENSITIVE),"CASEINSENSITIVE");assertNotImplemented(!(p&a.UNIQUESORT),"UNIQUESORT");assertNotImplemented(!(p&a.RETURNINDEXEDARRAY),"RETURNINDEXEDARRAY");var s=0;r||(r=b);p&a.NUMERIC?(m=toNumber(m),l=toNumber(l),s=m<l?-1:m>l?1:0):s=r(m,l);p&a.DESCENDING&&(s*=-1);return s})};a.prototype.asGetNumericProperty=function(a){return this.buffer[this.offset+a]};a.prototype.asSetNumericProperty=function(a,b){a===this._length&&(this._ensureCapacity(this._length+1),this._length++);this.buffer[this.offset+
a]=b};a.prototype.shift=function(){this._checkFixed();if(0!==this._length)return this._length--,this.buffer[this.offset++]};a.prototype._checkFixed=function(){if(this.fixed){var a=Errors.VectorFixedError;throwErrorFromVM(AVM2.currentDomain(),"RangeError",getErrorMessage(a.code),a.code)}};a.prototype._slide=function(a){this.buffer.set(this._view(),this.offset+a);this.offset+=a};a.prototype.unshift=function(){this._checkFixed();this._slide(arguments.length);this.offset-=arguments.length;this.length+=
arguments.length;for(var a=0;a<arguments.length;a++)this.buffer[this.offset+a]=arguments[a]};a.prototype.asGetEnumerableKeys=function(){if(a.prototype===this)return Object.prototype.asGetEnumerableKeys.call(this);for(var b=[],e=0;e<this.length;e++)b.push(e);return b};a.prototype.asHasProperty=function(b,e,f){if(a.prototype===this||!isNumeric(e))return Object.prototype.asHasProperty.call(this,b,e,f);b=toNumber(e);return 0<=b&&b<this._length};Object.defineProperty(a.prototype,"length",{get:function(){return this._length},
set:function(a){a>>>=0;if(a>this._length){this._ensureCapacity(a);for(var b=this.offset+this._length,f=this.offset+a;b<f;b++)this.buffer[b]=this.defaultValue}this._length=a}});a.prototype._spliceHelper=function(a,b,f,g,m){b=clamp(b,0,g.length-m);f=clamp(f,0,this._length-a);this._ensureCapacity(this._length-f+b);var l=this.offset+a+f,l=this.buffer.subarray(l,l+this._length-a-f);this.buffer.set(l,this.offset+a+b);this._length+=b-f;for(f=0;f<b;f++)this.buffer[this.offset+a+f]=g.asGetNumericProperty(m+
f)};a.prototype.asGetEnumerableKeys=function(){if(a.prototype===this)return Object.prototype.asGetEnumerableKeys.call(this);for(var b=[],e=0;e<this._length;e++)b.push(e);return b};return a}(),typedArrayVectorTemplate='var EXTRA_CAPACITY=4,INITIAL_CAPACITY=10;function vector(a,b){a|=0;this.fixed=!!b;this.buffer=new Int32Array(Math.max(INITIAL_CAPACITY,a+EXTRA_CAPACITY));this.offset=0;this._length=a;this.defaultValue=0}vector.callable=function(a){if(a instanceof vector)return a;var b=a.asGetProperty(void 0,"length");if(void 0!==b){for(var c=new vector(b,!1),d=0;d<b;d++)c.asSetNumericProperty(d,a.asGetPublicProperty(d));return c}unexpected()}; vector.prototype.internalToString=function(){for(var a="",b=this.offset,c=b+this._length,d=0;d<this.buffer.length;d++)d===b&&(a+="["),d===c&&(a+="]"),a+=this.buffer[d],d<this.buffer.length-1&&(a+=",");this.offset+this._length===this.buffer.length&&(a+="]");return a+": offset: "+this.offset+", length: "+this._length+", capacity: "+this.buffer.length};vector.prototype.toString=function(){for(var a="",b=0;b<this._length;b++)a+=this.buffer[this.offset+b],b<this._length-1&&(a+=",");return a}; vector.prototype._view=function(){return this.buffer.subarray(this.offset,this.offset+this._length)};vector.prototype._ensureCapacity=function(a){var b=this.offset+a;b<this.buffer.length||(a<=this.buffer.length?(b=this.buffer.length-a>>2,this.buffer.set(this._view(),b),this.offset=b):(a=3*this.buffer.length>>2,a<b&&(a=b),b=new Int32Array(a),b.set(this.buffer,0),this.buffer=b))};vector.prototype.concat=function(){notImplemented("TypedArrayVector.concat")}; vector.prototype.every=function(a,b){for(var c=0;c<this._length;c++)if(!a.call(b,this.asGetNumericProperty(c),c,this))return!1;return!0};vector.prototype.filter=function(a,b){for(var c=new vector,d=0;d<this._length;d++)a.call(b,this.asGetNumericProperty(d),d,this)&&c.push(this.asGetNumericProperty(d));return c};vector.prototype.forEach=function(a,b){for(var c=0;c<this._length;c++)a.call(b,this.asGetNumericProperty(c),c,this)};vector.prototype.join=function(a){notImplemented("TypedArrayVector.join")}; vector.prototype.indexOf=function(a,b){notImplemented("TypedArrayVector.indexOf")};vector.prototype.lastIndexOf=function(a,b){notImplemented("TypedArrayVector.lastIndexOf")};vector.prototype.map=function(a,b){notImplemented("TypedArrayVector.map")};vector.prototype.push=function(){this._ensureCapacity(this._length+arguments.length);for(var a=0;a<arguments.length;a++)this.buffer[this.offset+this._length++]=arguments[a]}; vector.prototype.pop=function(){this._checkFixed();if(0===this._length)return this.defaultValue;this._length--;return this.buffer[this.offset+this._length]};vector.prototype.reverse=function(){for(var a=this.offset,b=this.offset+this._length-1,c=this.buffer;a<b;){var d=c[a];c[a]=c[b];c[b]=d;a++;b--}};vector.CASEINSENSITIVE=1;vector.DESCENDING=2;vector.UNIQUESORT=4;vector.RETURNINDEXEDARRAY=8;vector.NUMERIC=16;function defaultCompareFunction(a,b){return String(a).localeCompare(String(b))} function compare(a,b,c,d){assertNotImplemented(!(c&vector.CASEINSENSITIVE),"CASEINSENSITIVE");assertNotImplemented(!(c&vector.UNIQUESORT),"UNIQUESORT");assertNotImplemented(!(c&vector.RETURNINDEXEDARRAY),"RETURNINDEXEDARRAY");var f=0;d||(d=defaultCompareFunction);c&vector.NUMERIC?(a=toNumber(a),b=toNumber(b),f=a<b?-1:a>b?1:0):f=d(a,b);c&vector.DESCENDING&&(f*=-1);return f} function _sort(a){for(var b=[],c=-1,d=0,f=a.length-1,e,g,h,k;;)if(100>=f-d){for(g=d+1;g<=f;g++){h=a[g];for(e=g-1;e>=d&&a[e]>h;)a[e+1]=a[e--];a[e+1]=h}if(-1==c)break;f=b[c--];d=b[c--]}else{k=d+f>>1;e=d+1;g=f;h=a[k];a[k]=a[e];a[e]=h;a[d]>a[f]&&(h=a[d],a[d]=a[f],a[f]=h);a[e]>a[f]&&(h=a[e],a[e]=a[f],a[f]=h);a[d]>a[e]&&(h=a[d],a[d]=a[e],a[e]=h);for(k=a[e];;){do e++;while(a[e]<k);do g--;while(a[g]>k);if(g<e)break;h=a[e];a[e]=a[g];a[g]=h}a[d+1]=a[g];a[g]=k;f-e+1>=g-d?(b[++c]=e,b[++c]=f,f=g-1):(b[++c]=d, b[++c]=g-1,d=e)}return a}vector.prototype._sortNumeric=function(a){_sort(this._view());a&&this.reverse()};vector.prototype.sort=function(){if(0===arguments.length)return Array.prototype.sort.call(this._view());var a,b=0;arguments[0]instanceof Function?a=arguments[0]:isNumber(arguments[0])&&(b=arguments[0]);isNumber(arguments[1])&&(b=arguments[1]);if(b&TypedArrayVector.NUMERIC)return this._sortNumeric(b&vector.DESCENDING);Array.prototype.sort.call(this._view(),function(c,d){return compare(c,d,b,a)})}; vector.prototype.asGetNumericProperty=function(a){return this.buffer[this.offset+a]};vector.prototype.asSetNumericProperty=function(a,b){a===this._length&&(this._ensureCapacity(this._length+1),this._length++);this.buffer[this.offset+a]=b};vector.prototype.shift=function(){this._checkFixed();if(0!==this._length)return this._length--,this.buffer[this.offset++]}; vector.prototype._checkFixed=function(){if(this.fixed){var a=Errors.VectorFixedError;throwErrorFromVM(AVM2.currentDomain(),"RangeError",getErrorMessage(a.code),a.code)}};vector.prototype._slide=function(a){this.buffer.set(this._view(),this.offset+a);this.offset+=a};vector.prototype.unshift=function(){this._checkFixed();this._slide(arguments.length);this.offset-=arguments.length;this.length+=arguments.length;for(var a=0;a<arguments.length;a++)this.buffer[this.offset+a]=arguments[a]}; vector.prototype.asGetEnumerableKeys=function(){if(vector.prototype===this)return Object.prototype.asGetEnumerableKeys.call(this);for(var a=[],b=0;b<this.length;b++)a.push(b);return a};vector.prototype.asHasProperty=function(a,b,c){if(vector.prototype===this||!isNumeric(b))return Object.prototype.asHasProperty.call(this,a,b,c);a=toNumber(b);return 0<=a&&a<this._length}; Object.defineProperty(vector.prototype,"length",{get:function(){return this._length},set:function(a){a>>>=0;if(a>this._length){this._ensureCapacity(a);for(var b=this.offset+this._length,c=this.offset+a;b<c;b++)this.buffer[b]=this.defaultValue}this._length=a}}); vector.prototype._spliceHelper=function(a,b,c,d,f){b=clamp(b,0,d.length-f);c=clamp(c,0,this._length-a);this._ensureCapacity(this._length-c+b);var e=this.offset+a+c,e=this.buffer.subarray(e,e+this._length-a-c);this.buffer.set(e,this.offset+a+b);this._length+=b-c;for(c=0;c<b;c++)this.buffer[this.offset+a+c]=d.asGetNumericProperty(f+c)}; vector.prototype.asGetEnumerableKeys=function(){if(vector.prototype===this)return Object.prototype.asGetEnumerableKeys.call(this);for(var a=[],b=0;b<this._length;b++)a.push(b);return a};',
Int32Vector=(new Function(typedArrayVectorTemplate.replace(/Int32Array/g,"Int32Array")+" return vector;"))(),Uint32Vector=(new Function(typedArrayVectorTemplate.replace(/Int32Array/g,"Uint32Array")+" return vector;"))(),Float64Vector=(new Function(typedArrayVectorTemplate.replace(/Int32Array/g,"Float64Array")+" return vector;"))(),GenericVector=function(){function a(a,b,f){a|=0;this.fixed=!!b;this.buffer=Array(a);this.defaultValue=(this.type=f)?f.defaultValue:null;this._fill(0,a,this.defaultValue)}
function b(a,b){return String(a).localeCompare(String(b))}a.applyType=function(b){function e(e,g){a.call(this,e,g,b)}e.prototype=Object.create(a.prototype);e.callable=a.callable;return e};a.callable=function(b){if(b instanceof a)return b;var e=b.asGetProperty(void 0,"length");if(void 0!==e){for(var f=new a(e,!1),g=0;g<e;g++)f.asSetNumericProperty(g,b.asGetPublicProperty(g));return f}unexpected()};a.prototype._fill=function(a,b,f){for(var g=0;g<b;g++)this.buffer[a+g]=f};a.prototype.toString=function(){for(var a=
"",b=0;b<this.buffer.length;b++)a+=this.buffer[b],b<this.buffer.length-1&&(a+=",");return a};a.prototype.every=function(a,b){for(var f=0;f<this.buffer.length;f++)if(!a.call(b,this.asGetNumericProperty(f),f,this))return!1;return!0};a.prototype.filter=function(b,e){for(var f=new a,g=0;g<this.buffer.length;g++)b.call(e,this.asGetNumericProperty(g),g,this)&&f.push(this.asGetNumericProperty(g));return f};a.prototype.forEach=function(a,b){for(var f=0;f<this.buffer.length;f++)a.call(b,this.asGetNumericProperty(f),
f,this)};a.prototype.push=function(){this._checkFixed();for(var a=0;a<arguments.length;a++)this.buffer.push(this._coerce(arguments[a]))};a.prototype.pop=function(){this._checkFixed();return 0===this.buffer.length?void 0:this.buffer.pop()};a.prototype.reverse=function(){this.buffer.reverse()};a.CASEINSENSITIVE=1;a.DESCENDING=2;a.UNIQUESORT=4;a.RETURNINDEXEDARRAY=8;a.NUMERIC=16;a.prototype.sort=function(){if(0===arguments.length)return this.buffer.sort();var d,e=0;arguments[0]instanceof Function?d=
arguments[0]:isNumber(arguments[0])&&(e=arguments[0]);isNumber(arguments[1])&&(e=arguments[1]);if(e&TypedArrayVector.NUMERIC)return this._sortNumeric(e&a.DESCENDING);Array.prototype.sort.call(this.buffer,function(a,g){var m=a,l=g,p=e,r=d;assertNotImplemented(!(p&CASEINSENSITIVE),"CASEINSENSITIVE");assertNotImplemented(!(p&UNIQUESORT),"UNIQUESORT");assertNotImplemented(!(p&RETURNINDEXEDARRAY),"RETURNINDEXEDARRAY");var s=0;r||(r=b);p&NUMERIC?(m=toNumber(m),l=toNumber(l),s=m<l?-1:m>l?1:0):s=r(m,l);p&
DESCENDING&&(s*=-1);return s})};a.prototype.asGetNumericProperty=function(a){return this.buffer[a]};a.prototype._coerce=function(a){return this.type?this.type.coerce(a):void 0===a?null:a};a.prototype.asSetNumericProperty=function(a,b){this.buffer[a]=this._coerce(b)};a.prototype.shift=function(){this._checkFixed();return 0===this.buffer.length?void 0:this.buffer.shift()};a.prototype._checkFixed=function(){if(this.fixed){var a=Errors.VectorFixedError;throwErrorFromVM(AVM2.currentDomain(),"RangeError",
getErrorMessage(a.code),a.code)}};a.prototype.unshift=function(){this._checkFixed();for(var a=[],b=0;b<arguments.length;b++)a.push(this._coerce(arguments[b]));this.buffer.unshift.apply(this.buffer,a)};Object.defineProperty(a.prototype,"length",{get:function(){return this.buffer.length},set:function(a){a>>>=0;if(a>this.buffer.length)for(var b=this.buffer.length;b<a;b++)this.buffer[b]=this.defaultValue;else this.buffer.length=a;!0}});a.prototype._spliceHelper=function(a,b,f,g,m){b=clamp(b,0,g.length-
m);f=clamp(f,0,this.buffer.length-a);for(var l=[],p=0;p<b;p++)l.push(this._coerce(g.asGetNumericProperty(m+p)));this.buffer.splice.apply(this.buffer,[a,f].concat(l))};a.prototype.asGetEnumerableKeys=function(){if(a.prototype===this)return Object.prototype.asGetEnumerableKeys.call(this);for(var b=[],e=0;e<this.buffer.length;e++)b.push(e);return b};a.prototype.asHasProperty=function(b,e,f){if(a.prototype===this||!isNumeric(e))return Object.prototype.asHasProperty.call(this,b,e,f);b=toNumber(e);return 0<=
b&&b<this.buffer.length};return a}();Int32Vector.prototype.asGetProperty=function(a,b,d){return"number"===typeof b?this.asGetNumericProperty(b):asGetProperty.call(this,a,b,d)};Int32Vector.prototype.asSetProperty=function(a,b,d,e){if("number"===typeof b)this.asSetNumericProperty(b,e);else return asSetProperty.call(this,a,b,d,e)};Uint32Vector.prototype.asGetProperty=function(a,b,d){return"number"===typeof b?this.asGetNumericProperty(b):asGetProperty.call(this,a,b,d)};
Uint32Vector.prototype.asSetProperty=function(a,b,d,e){if("number"===typeof b)this.asSetNumericProperty(b,e);else return asSetProperty.call(this,a,b,d,e)};Float64Vector.prototype.asGetProperty=function(a,b,d){return"number"===typeof b?this.asGetNumericProperty(b):asGetProperty.call(this,a,b,d)};Float64Vector.prototype.asSetProperty=function(a,b,d,e){if("number"===typeof b)this.asSetNumericProperty(b,e);else return asSetProperty.call(this,a,b,d,e)};
GenericVector.prototype.asGetProperty=function(a,b,d){return"number"===typeof b?this.asGetNumericProperty(b):asGetProperty.call(this,a,b,d)};GenericVector.prototype.asSetProperty=function(a,b,d,e){if("number"===typeof b)this.asSetNumericProperty(b,e);else return asSetProperty.call(this,a,b,d,e)};var XMLClass,XMLListClass,QNameClass,ASXML,XML,ASXMLList,XMLList,isXMLType,isXMLName,XMLParser;
(function(){function a(){function a(b,d){if(b.isXML)switch(b.kind){case "element":return d.element(b);case "attribute":return d.attribute(b);case "text":return d.text(b);case "cdata":return d.cdata(b);case "comment":return d.comment(b);case "processing-instruction":return d.pi(b)}else{if(b.isXMLList)return d.list(b);throw"Not implemented";}}this.encode=function(b){return a(b,{element:function(b){var d,e,f=b.name.mn.namespaces[0],g=f.prefix?f.prefix+":":"";d="<"+g+b.name.localName;var l=[];(f.prefix||
f.originalURI)&&l.push(f);g&&(l[f.prefix]=!0);for(e=b;e;){for(var m=0;m<e.inScopeNamespaces.length;m++)f=e.inScopeNamespaces[m],l[f.prefix]||(l.push(f),l[f.prefix]=!0);e=e.parent}for(m=0;m<l.length;m++)e=l[m],d=e.prefix?d+(" xmlns:"+e.prefix+'="'+e.originalURI+'"'):d+(' xmlns="'+e.originalURI+'"');for(m=0;m<b.attributes.length;m++)e=b.attributes[m],f=b.name.uri,g=b.prefix?f.prefix+":":"",d+=" "+(g+e.name.localName)+'="'+e.value+'"';if(b.children.length){d+=">";for(m=0;m<b.children.length;m++)d+="\n",
d+=a(b.children[m],this);d+="</"+g+b.name.mn.name+">"}else d+="/>";return d},text:function(a){return a.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},attribute:function(a){return a.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},cdata:function(){},comment:function(){},pi:function(){},doctype:function(){},list:function(a){for(var b="",e=0;e<a.children.length;e++)0<e&&(b+="\n"),b+=d(a.children[e],[]);return b}})}}function b(a){if("object"===typeof a&&null!==
a)switch(a.kind){case "text":case "attribute":return a.value;default:if(a.hasSimpleContent()){var e="";a.children.forEach(function(a){e+=b(a)});return e}return d(a)}else return String(a)}function d(b,d,e){return(new a(d,e,!0)).encode(b)}function e(a){if(null===a)throw new TypeError(formatErrorMessage(Errors.ConvertNullToObjectError));if(void 0===a)throw new TypeError(formatErrorMessage(Errors.ConvertUndefinedToObjectError));if(a.isXML)return a;if(a.isXMLList){if(1===a.length())return a.children[0];
throw new TypeError(formatErrorMessage(Errors.XMLMarkupMustBeWellFormed));}a=w.parseFromString(String(a));if(0===a.length())return a=new XML("text");if(1===a.length())return a.children[0].parent=null,a.children[0];throw"SyntaxError in ToXML";}function f(a){if(null===a)throw new TypeError(formatErrorMessage(Errors.ConvertNullToObjectError));if(void 0===a)throw new TypeError(formatErrorMessage(Errors.ConvertUndefinedToObjectError));if(a instanceof XML){var b=new XMLList(a.parent,a.name);b.append(a);
return b}if(a instanceof XMLList)return a;a=new ASXML("<parent xmlns='"+z+"'>"+String(a)+"</parent>");for(var b=new XMLList,d=0;d<a.length();d++){var e=a.children[d];e.parent=null;b.append(e)}return b}function g(a){if(void 0===a||null===a||"boolean"===typeof a||"number"===typeof a)throw"TypeError: invalid operand to ToAttributeName()";if(isXMLType(a))a=b(a);else if(a instanceof Object&&null!==a){if(a instanceof QName)return new QName(a.uri,a.localName,!0);a=b(a)}if("string"===typeof a)var d=new ASNamespace,
d=new QName(d,a,!0);return d}function m(a){for(;a;){var b=a.object;if(void 0!==b.defaultNamepsace)return b.defaultNamespace;a=a.parent}return ShumwayNamespace.createNamespace("","")}function l(a,b,d,e){a=isNumeric(b)?toNumber(b):b instanceof QName?b.mn:new Multiname(a?a:[ShumwayNamespace.PUBLIC],b,d);return this.getProperty(a,e)}function p(a,b,d,e){a=isNumeric(b)?toNumber(b):b instanceof QName?b.mn:new Multiname(a?a:[ShumwayNamespace.PUBLIC],b,d);this.setProperty(a,e)}function r(a,b,d){a=isNumeric(b)?
toNumber(b):b instanceof QName?b.mn:new Multiname(a?a:[ShumwayNamespace.PUBLIC],b,d);return this.hasProperty(a)}function s(a,b,d,e,f){var g=e?null:this,l=this.asGetProperty(a,b,d,!0);return!l?this.toString().asCallProperty(a?a:[ShumwayNamespace.PUBLIC],b,d,e,f):l.apply(g,f)}function v(a){var b=0,b=a.isAttribute()?b|1:b|2;a.isAnyName()&&(b|=4);a.isAnyNamespace()&&(b|=8);return b}XMLParser=function(){this.parseFromString=function(a){for(var b=new XML("element"),d=[],e={beginElement:function(a,e,f,g){var l=
b;d.push(l);b=new XML("element",a.namespace,a.localName,a.prefix);for(a=0;a<e.length;++a){var m=new XML("attribute",e[a].name.namespace,e[a].name.localName,e[a].name.prefix);m.value=e[a].value;b.attributes.push(m)}e=f.namespaces;for(a=0;a<e.length;++a)f=ShumwayNamespace.createNamespace(e[a].uri,e[a].prefix),b.inScopeNamespaces.push(f);l.insert(l.length(),b);g&&(b=d.pop())},endElement:function(){b=d.pop()},text:function(a){var d=new XML("text","","",void 0);d.value=a;b.insert(b.length(),d)},cdata:function(a){var d=
new XML("text","","",void 0);d.value=a;b.insert(b.length(),d)},comment:function(){},pi:function(){},doctype:function(){}},f=function(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")},g=function(a){return a.replace(/&([^;]+);/g,function(a,b){if("#x"===b.substring(0,2))return String.fromCharCode(parseInt(b.substring(2),16));if("#"===b.substring(0,1))return String.fromCharCode(parseInt(b.substring(1),10));switch(b){case "lt":return"<";case "gt":return">";case "amp":return"&"}throw"Unknown entity: "+
b;})},l=function(a,b){var d=a.indexOf(":");if(0<=d){var e;a:{e=a.substring(0,d);for(var f=w.length-1;0<=f;--f)if(w[f].namespaces.hasOwnProperty(e)){e=w[f].namespaces[e];break a}throw"Unknown namespace: "+e;}f=a.substring(0,d);d=a.substring(d+1);return{name:e+"::"+d,localName:d,prefix:f,namespace:e}}if(b){a:{for(d=w.length-1;0<=d;--d)if(w[d].hasOwnProperty("xmlns")){d=w[d].xmlns;break a}d=void 0}d={name:a,localName:a,prefix:"",namespace:d}}else d={name:a,localName:a,prefix:"",namespace:""};return d},
m=function(a,b){var d=a.charCodeAt(b);return 10==d||13==d||9==d||32==d},r=function(a,b){function d(){for(;e<a.length&&m(a,e);)++e}for(var e=b,f,l=[];e<a.length&&!m(a,e)&&">"!==a.charAt(e)&&"/"!==a.charAt(e);)++e;f=a.substring(b,e);for(d();e<a.length&&">"!==a.charAt(e)&&"/"!==a.charAt(e)&&"?"!==a.charAt(e);){d();for(var r="",p="";e<a.length&&!m(a,e)&&"="!==a.charAt(e);)r+=a.charAt(e),++e;d();if("="!==a.charAt(e))throw"'=' expected";++e;d();p=a.charAt(e);if('"'!==p&&"'"!==p)throw"Quote expected";var w=
a.indexOf(p,++e);if(0>w)throw new "Unexpected EOF[6]";p=a.substring(e,w);l.push({name:r,value:g(p)});e=w+1;d()}return{name:f,attributes:l,parsed:e-b}},p=0,w=[{space:"default",xmlns:"",namespaces:{xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace"}}];p<a.length;){var s=a.charAt(p),v=p;if("<"===s)switch(++v,a.charAt(v)){case "/":++v;p=a.indexOf(">",v);if(0>p)throw"Unexpected EOF[1]";v=l(a.substring(v,p),!0);e.endElement(v);w.pop();v=p+1;break;case "?":++v;s=r(a,v);if("?>"!=
a.substring(v+s.parsed,v+s.parsed+2))throw"Unexpected EOF[2]";e.pi(s.name,s.attributes);v+=s.parsed+2;break;case "!":if("--"===a.substring(v+1,v+3)){p=a.indexOf("--\x3e",v+3);if(0>p)throw"Unexpected EOF[3]";e.comment(a.substring(v+3,p));v=p+3}else if("[CDATA["===a.substring(v+1,v+8)){p=a.indexOf("]]\x3e",v+8);if(0>p)throw"Unexpected EOF[4]";e.cdata(a.substring(v+8,p));v=p+3}else if("DOCTYPE"===a.substring(v+1,v+8)){var z=a.indexOf("[",v+8),s=!1,p=a.indexOf(">",v+8);if(0>p)throw"Unexpected EOF[5]";
if(0<z&&p>z){p=a.indexOf("]>",v+8);if(0>p)throw"Unexpected EOF[7]";s=!0}v=a.substring(v+8,p+(s?1:0));e.doctype(v);v=p+(s?2:1)}else throw"Unknown !tag";break;default:s=r(a,v);z=!1;if("/>"===a.substring(v+s.parsed,v+s.parsed+2))z=!0;else if(">"!==a.substring(v+s.parsed,v+s.parsed+1))throw"Unexpected EOF[2]";for(var H={namespaces:[]},p=0;p<s.attributes.length;++p)if("xmlns:"===s.attributes[p].name.substring(0,6)){var R=s.attributes[p].name.substring(6),K=s.attributes[p].value;H.namespaces[R]=f(K);H.namespaces.push({uri:K,
prefix:R});delete s.attributes[p]}else if("xmlns"===s.attributes[p].name)R="",K=s.attributes[p].value,H.namespaces.xmlns=f(K),H.namespaces.push({uri:K,prefix:R}),delete s.attributes[p];else if("xml:"===s.attributes[p].name.substring(0,4))H[s.attributes[p].name.substring(4)]=f(s.attributes[p].value);else if("xml"===s.attributes[p].name.substring(0,3))throw"Invalid xml attribute";w.push(H);R=[];for(p=0;p<s.attributes.length;++p)s.attributes[p]&&R.push({name:l(s.attributes[p].name,!1),value:s.attributes[p].value});
e.beginElement(l(s.name,!0),R,H,z);v+=s.parsed+(z?2:1);z&&w.pop()}else{do if(++v>=a.length)break;while("<"!==a.charAt(v));p=a.substring(p,v);s=0===p.replace(/^\s+/,"").length;if(!(z=!s))a:{for(z=w.length-1;0<=z;--z)if("preserve"===w[z].space){z=!0;break a}z=!1}z&&e.text(g(p),s)}p=v}return b}};var w=new XMLParser;isXMLType=function(a){return a.isXML||a.isXMLList};var z="";isXMLName=function(a){try{new QName(a)}catch(b){return!1}return!0};XMLClass=function(a,f,w,z){ASXML=function(a){if(!(this instanceof
ASXML))return a instanceof ASXML?a:new ASXML(a);if(null===a||void 0===a)a="";var b=e(a);isXMLType(a)&&(b=b.deepCopy());return b};XML=function(a,b,d,e){void 0===a&&(a="text");void 0===b&&(b="");void 0===d&&(d="");this.init(a,b,d,e)};var D=new Class("XML",ASXML,Domain.passthroughCallable(ASXML));D.flags=15;D.prettyIndent=2;D.extend(z);var B=XML.prototype=ASXML.prototype;B.init=function(a,b,d,e){this.name=new QName(new Multiname([new ASNamespace(e,b)],d));this.kind=a;this.parent=null;this.inScopeNamespaces=
[];switch(a){case "element":this.attributes=[];this.children=[];break;case "attribute":case "text":this.value=""}return this};B.length=function(){return!this.children?0:this.children.length};B.canHandleProperties=!0;B.deepCopy=function(){return new ASXML(d(this))};B.resolveValue=function(){return this};B.hasSimpleContent=function(){if("comment"===this.kind||"processing-instruction"===this.kind)return!1;var a=!0;this.children&&this.children.forEach(function(b){"element"===b.kind&&(a=!1)});return a};
B.asGetEnumerableKeys=function(){if(B===this)return Object.prototype.asGetEnumerableKeys.call(this);var a=[];this.children.forEach(function(b){a.push(b.name)});return a};B.setProperty=function(a,d){var e,g,l;if(a===a>>>0)throw"TypeError in XML.prototype.setProperty(): invalid property name "+a;if(!("text"===this.kind||"comment"===this.kind||"processing-instruction"===this.kind||"attribute"===this.kind))if(g=!d||!d.isXML&&!d.isXMLList||"text"===d.kind||"attribute"===d.kind?b(d):d.deepCopy(),l=new QName(a),
l.isAttr)this.attributes&&(this.attributes.forEach(function(a,b,d){a.name===l.localName&&delete d[b]}),e=new XML("attribute",l.uri,l.localName),e.value=d,e.parent=this,this.attributes.push(e));else if(isXMLName(l)||"*"===l.localName){e=void 0;for(var r=!isXMLType(g)&&"*"!==l.localName,p=this.length()-1;0<=p;p--)if((l.isAny||"element"===this.children[p].kind&&this.children[p].name.localName===l.localName)&&(null===l.uri||"element"===this.children[p].kind&&this.children[p].name.uri===l.uri))void 0!==
e&&this.deleteByIndex(String(e)),e=p;if(void 0===e&&(e=this.length(),r)){var w=null===l.uri?new QName(m(f),l):new QName(l),p=new XML("element",w.uri,w.localName,w.prefix);p.parent=this;w=w.getNamespace();this.replace(String(e),p);p.addInScopeNamespace(w)}r?(this.children[e].children=[],g=b(g),""!==g&&this.children[e].replace("0",g)):this.replace(String(e),g)}};B.asGetProperty=l;B.asGetResolvedStringProperty=asGetResolvedStringPropertyFallback;B.asSetProperty=p;B.asHasProperty=r;B.asCallProperty=s;
B.getProperty=function(a,b){if(b){var d=Multiname.isQName(a)?a:resolveMultiname(this,a);return this[Multiname.getQualifiedName(d)]}if(isNumeric(a))return 0===Number(0)?this:null;var e=new QName(a),f=new XMLList(this,e),d=v(e.mn),g=d&4,l=d&8;d&1?this.attributes&&this.attributes.forEach(function(a){(g||a.name.localName===e.localName)&&(l||a.name.uri===e.uri)&&f.append(a)}):this.children.forEach(function(a){(g||"element"===a.kind&&a.name.localName===e.localName)&&(l||"element"===a.kind&&a.name.uri===
e.uri)&&f.append(a)});return f};B.hasProperty=function(a,b){if(b){var d=Multiname.isQName(a)?a:resolveMultiname(this,a);return!!this[Multiname.getQualifiedName(d)]}if(isNumeric(a))return 0===Number(0)?!0:!1;var e=new QName(a),d=v(e.mn),f=d&4,g=d&8;return d&1?this.attributes.some(function(a){if((f||a.name.localName===e.localName)&&(g||a.name.uri===e.uri))return!0}):this.children.some(function(a){if((f||"element"===a.kind&&a.name.localName===e.localName)&&(g||"element"===a.kind&&a.name.uri===e.uri))return!0})};
B.delete=function(){notImplemented("XML.[[Delete]]")};B.deleteByIndex=function(a){var b=a>>>0;if(String(b)!==String(a))throw"TypeError in XML.prototype.deleteByIndex(): invalid index "+a;if(a<this.length()&&this.children[a]){this.children[a].parent=null;delete this.children[a];for(q=b+1;q<this.length();q++)this.children[q-1]=this.children[q];this.children.length-=1}};B.isXML=!0;B.insert=function(a,b){var d,e;if(!("text"===this.kind||"comment"===this.kind||"processing-instruction"===this.kind||"attribute"===
this.kind)){d=a>>>0;if(String(a)!==String(d))throw"TypeError in XML.prototype.insert(): invalid property name "+a;if("element"===this.kind)for(e=this;e;){if(e===b)throw"Error in XML.prototype.insert()";e=e.parent}if(this.isXMLList){if(e=this.length(),0===e)return}else e=1;for(var f=this.length()-1;f>=d;f--)this[f+e]=this[f];if(this.isXMLList){e=b.length();for(f=0;f<e;f++)b.children[f].parent=this,this[d+f]=b[f]}else b.parent=this,this.children[d]=b}};B.replace=function(a,d){var e;if(!("text"===this.kind||
"comment"===this.kind||"processing-instruction"===this.kind||"attribute"===this.kind)){e=a>>>0;if(String(a)!==String(e))throw"TypeError in XML.prototype.replace(): invalid name "+a;e>=this.length()&&(a=String(this.length()));if("element"===d.kind)for(e=this;e;){if(e===d)throw"Error in XML.prototype.replace()";e=e.parent}"element"===d.kind||"text"===d.kind||"comment"===d.kind||"processing-instruction"===d.kind?(d.parent=this,this[a]&&(this.children[a].parent=null),this.children[a]=d):this.isXMLList?
(this.deleteByIndex(a),this.insert(a,d)):(e=b(d),t=new XML,t.parent=this,t.value=e,this[a]&&(this.children[a].parent=null),this.children[a]=t)}};B.addInScopeNamespace=function(a){var b;b=this;if(!("text"===b.kind||"comment"===b.kind||"processing-instruction"===b.kind||"attribute"===b.kind)&&void 0!==a.prefix&&!(""===a.prefix&&""===b.name.uri)){var d=null;b.inScopeNamespaces.forEach(function(b){b.prefix===a.prefix&&(d=b)});null!==d&&d.uri!==a.uri&&b.inScopeNamespaces.forEach(function(e,f){e.prefix===
d.prefix&&(b.inScopeNamespaces[f]=a)});b.name.prefix===a.prefix&&(b.name.prefix=void 0);b.attributes.forEach(function(b){b.name.prefix===a.name.prefix&&(b.name.prefix=void 0)})}};B.descendants=function(a){a=new QName(a);var b=new XMLList;if("element"!==this.kind)return b;a.isAttr?this.attributes.forEach(function(d){(a.isAny||a.localName===d.name.localName)&&b.append(d)}):this.children.forEach(function(d){(a.isAny||a.localName===d.name.localName)&&b.append(d)});this.children.forEach(function(d){b.append(d.descendants(a))});
return b};B.comments=function(){var a=new XMLList(this,null);this.children.forEach(function(b){"comment"===b.kind&&a.append(b)});return a};B.text=function(){var a=new XMLList(this,null);this.children.forEach(function(b){"text"===b.kind&&a.append(b)});return a};D.native={"static":{ignoreComments:{get:function(){return getBitFlags(D.flags,1)},set:function(a){D.flags=setBitFlags(D.flags,1,a)}},ignoreProcessingInstructions:{get:function(){return getBitFlags(D.flags,2)},set:function(a){D.flags=setBitFlags(D.flags,
2,a)}},ignoreWhitespace:{get:function(){return getBitFlags(D.flags,4)},set:function(a){D.flags=setBitFlags(D.flags,4,a)}},prettyPrinting:{get:function(){return getBitFlags(D.flags,8)},set:function(a){D.flags=setBitFlags(D.flags,8,a)}},prettyIndent:{get:function(){return D.prettyIndent},set:function(a){D.prettyIndent=a}}},instance:{toString:function(){return b(this)},hasOwnProperty:function(){notImplemented("XML.hasOwnProperty")},propertyIsEnumerable:function(){notImplemented("XML.propertyIsEnumerable")},
addNamespace:function(){notImplemented("XML.addNamespace")},appendChild:function(a){var b=this.getProperty("*");b.setProperty(b.length(),a);return this},attribute:function(a){return this.getProperty(g(a))},attributes:function(){return this.getProperty(g("*"))},child:function(a){return this.getProperty(a)},childIndex:function(){notImplemented("XML.childIndex")},children:function(){var a=new XMLList;Array.prototype.push.apply(a.children,this.children);return a},comments:function(){return this.comments()},
contains:function(){notImplemented("XML.contains")},copy:function(){return this.deepCopy()},descendants:function(a){void 0===a&&(a="*");return this.descendants(a)},elements:function(a){var b=!1;void 0===a&&(a="*",b=!0);a=new QName(a);var d=new XMLList(this.parent,a);this.children.forEach(function(e){"element"===e.kind&&((b||e.name.localName===a.localName)&&(null===a.uri||"element"===e.kind&&e.name.uri===a.uri))&&d.append(e)});return d},hasComplexContent:function(){notImplemented("XML.hasComplexContent")},
hasSimpleContent:function(){return this.hasSimpleContent()},inScopeNamespaces:function(){notImplemented("XML.inScopeNamespaces")},insertChildAfter:function(){notImplemented("XML.insertChildAfter")},insertChildBefore:function(){notImplemented("XML.insertChildBefore")},localName:function(){notImplemented("XML.localName")},name:function(){return this.name},_namespace:function(){somewhatImplemented("XML._namespace()");return this.name.uri},namespaceDeclarations:function(){return new XMLList},nodeKind:function(){return this.kind},
normalize:function(){notImplemented("XML.normalize")},parent:function(){notImplemented("XML.parent")},processingInstructions:function(){notImplemented("XML.processingInstructions")},prependChild:function(){notImplemented("XML.prependChild")},removeNamespace:function(){notImplemented("XML.removeNamespace")},replace:function(a,b){var d,e;if("text"===this.kind||"comment"===this.kind||"processing-instruction"===this.kind||"attribute"===this.kind)return this;d=isXMLType(b)?b.deepCopy():b.toString();if(String(a)===
String(a>>>0))return this.replace(a,d),this;n=new QName(a);e=void 0;for(k=this.length()-1;0<=k;k--){var f=this.children[k];if(n.isAny||"element"===f.kind&&f.name.localName===n.localName&&(null===n.uri||"element"===f.kind&&f.name.uri===n.uri))void 0!==e&&this.deleteByIndex(String(e)),e=k}void 0!==e&&this.replace(e.toString(),d);return this},setChildren:function(){notImplemented("XML.setChildren")},setLocalName:function(){notImplemented("XML.setLocalName")},setName:function(){notImplemented("XML.setName")},
setNamespace:function(){notImplemented("XML.setNamespace")},text:function(){return this.text()},toXMLString:function(){return d(this)},notification:function(){notImplemented("XML.notification")},setNotification:function(){notImplemented("XML.setNotification")}}};return D};XMLListClass=function(a,m,w,v){ASXMLList=function(a){if(!(this instanceof ASXMLList)){if(null===a||void 0===a)a="";return f(a)}if(null===a||void 0===a)a="";if(a.isXMLList){var b=new XMLList;b.append(a);a=b}else a=f(a);return a};
XMLList=function(a,b){this.targetObject=a?a:null;this.targetProperty=b?b:null;this.children=[]};a=new Class("XMLList",ASXMLList,Domain.passthroughCallable(ASXMLList));a.extend(v);var z=XMLList.prototype=ASXMLList.prototype;z.canHandleProperties=!0;z.hasSimpleContent=function(){if(0===this.length())return!0;if(1===this.length())return e(this).hasSimpleContent();var a=!0;this.children.forEach(function(b){"element"===b.kind&&(a=!1)});return a};z.asGetProperty=l;z.asGetResolvedStringProperty=asGetResolvedStringPropertyFallback;
z.asSetProperty=p;z.asHasProperty=r;z.asCallProperty=s;z.setProperty=function(a,d){var e,f,l;e=this;f=a>>>0;if(String(a)===String(f)){l=this.targetObject;var m=this.targetProperty;if(null!==l){if(l=l.resolveValue(),null===l)return}else l=null;if(f>=e.length()){if(l&&l.isXMLList){if(1!==l.length)return;l=l.children[0]}if(l&&"element"!==l.kind)return;var r=new XML;r.parent=l;r.name=e.targetProperty;if(null===m||"*"===m.localName)r.name=null,r.kind="text";else if(m.isAttr){if(0<l.getProperty(r.name).length())return;
l.kind="attribute"}else r.kind="element";f=e.length();if("attribute"!==r.kind){if(null!==l){if(0<f)for(m=0;m<l.length()-1&&l.children[m]!==e.children[f-1];)m++;else m=l.length()-1;l.insert(String(m+1),r)}d.isXML?r.name=d.name:d.isXMLList&&(r.name=d.targetProperty)}e.append(r)}if(!d.isXML&&!d.isXMLList||"text"===d.kind||"attribute"===d.kind)d=b(d);if("attribute"===e.children[f].kind)l=g(e.children[f].name),e.children[f].parent.setProperty(l,d),l=e.children[f].parent.getProperty(l),e.children[f]=l.children[0];
else if(d.isXMLList){var p=d.deepCopy(),w=e.children[f].parent;if(null!==w){var s;w.children.some(function(a,b){if(a==e.children[f])return s=b,!0});w.replace(s,p);p.children.forEach(function(a,b){p.children[b]=w.children[s>>>0+b]})}if(0===p.length())for(m=e+1;m<e.length()-1;m++)e.children[String(m-1)]=e.children[m];else for(m=e.length()-1;m>=f+1;m--)e.children[String(m+p.length()-1)]=e.children[m];for(m=0;m<p.length();m++)e.children[f+m]=p.children[m]}else d.isXML||"text"===(k=e.children[f].kind)||
"comment"===k||"processing-instruction"===k?(w=e.children[f].parent,null!==w&&(w.children.some(function(a,b){if(a==e.children[f])return s=b,!0}),w.replace(s,d),d=w.children[s]),"string"===typeof d?(l=new XML("text"),l.parent=e,l.value=d,e.children[f]=l):e.children[f]=d):e.children[f].setProperty("*",d)}else if(1>=e.length()){if(0===e.length()){l=e.resolveValue();if(null===l||1!==l.length())return;e.append(l)}e.children[0].setProperty(a,d)}};z.getProperty=function(a,b){if(b){var d=Multiname.isQName(a)?
a:resolveMultiname(this,a);return this[Multiname.getQualifiedName(d)]}if(String(a)===String(a>>>0))return this.children[a];var d=new QName(a),e=new XMLList(this,d);this.children.forEach(function(b){"element"===b.kind&&(b=b.getProperty(a),0<b.length()&&e.append(b))});return e};z.hasProperty=function(a,b){if(b){var d=Multiname.isQName(a)?a:resolveMultiname(this,a);return!!this[Multiname.getQualifiedName(d)]}if(String(a)===String(a>>>0))return!!this.children[a];new QName(a);return this.children.some(function(b){if(0<
b.getProperty(a).length())return!0})};z.delete=function(){};z.append=function(a){if(a.isXMLList){if(this.targetObject=a.targetObject,this.targetProperty=a.targetProperty,0!==a.length())for(var b=0;b<a.length();b++)this.children.push(a.children[b])}else a.isXML&&this.children.push(a)};z.length=function(){return this.children.length};z.resolve=function(){var a=this.targetObject.resolveValue();if(null===a)return null;var b=this.targetObject.getProperty(this.targetProperty);if(0===a.length)return notImplemented("XMLList.resolve"),
a.setProperty(this.targetProperty,""),b=a.getProperty(this.targetProperty)};z.deepCopy=function(){var a=new XMLList;this.children.forEach(function(b,d){a.children[d]=b.deepCopy()});return a};z.descendants=function(a){var b=new XMLList(null);this.children.forEach(function(d){"element"===d.kind&&b.append(d.descendants(a))});return b};z.resolveValue=function(){if(0<this.length())return this;var a=this.name,b=this.targetObject,d=this.targetProperty;if(null===b||null===d||a.isAttr||a.isAny)return null;
a=b.resolveValue();if(null===a)return null;b=a.getProperty(d);if(0===b.length()){if(a.isXMLList&&1<a.length())return null;a.setProperty(d,"");b=a.getProperty(d)}return b};z.asGetEnumerableKeys=function(){if(z===this)return Object.prototype.asGetEnumerableKeys.call(this);var a=[];this.children.forEach(function(b,d){a.push(d)});return a};a.native={instance:{init:function(){}}};z.isXMLList=!0;a.native={"static":{},instance:{toString:function(){return b(this)},hasOwnProperty:function(){notImplemented("XMLList.hasOwnProperty")},
propertyIsEnumerable:function(){notImplemented("XMLList.propertyIsEnumerable")},attribute:function(a){return this.getProperty(g(a))},attributes:function(){return this.getProperty(g("*"))},child:function(){notImplemented("XMLList.child")},children:function(){for(var a=new XMLList,b=0;b<this.children.length;b++)Array.prototype.push.apply(a.children,this.children[b].children);return a},comments:function(){var a=new XMLList(this,null);this.children.forEach(function(b){"element"===b.kind&&a.append(b.comments())});
return a},contains:function(a){for(var b=0;b<this.children.length;b++)if(this.children[b]===a)return!0;return!1},copy:function(){return this.deepCopy()},descendants:function(a){return this.descendants(void 0===a?"*":a)},elements:function(a){void 0===a&&(a="*");a=new QName(a);var b=new XMLList(this,a);this.children.forEach(function(a){"element"===a.kind&&b.append(a.comments())});return b},hasComplexContent:function(){notImplemented("XMLList.hasComplexContent")},hasSimpleContent:function(){return this.hasSimpleContent()},
length:function(){return this.children.length},name:function(){return e(this).name},normalize:function(){notImplemented("XMLList.normalize")},parent:function(){notImplemented("XMLList.parent")},processingInstructions:function(){notImplemented("XMLList.processingInstructions")},text:function(){var a=new XMLList(this,null);this.children.forEach(function(b){("text"===b.kind||"element"===b.kind)&&a.append(b.text())});return a},toXMLString:function(){return d(this)},addNamespace:function(){notImplemented("XMLList.addNamespace")},
appendChild:function(a){e(this).appendChild(a);return this},childIndex:function(){notImplemented("XMLList.childIndex")},inScopeNamespaces:function(){notImplemented("XMLList.inScopeNamespaces")},insertChildAfter:function(){notImplemented("XMLList.insertChildAfter")},insertChildBefore:function(){notImplemented("XMLList.insertChildBefore")},nodeKind:function(){return e(this).kind},_namespace:function(){notImplemented("XMLList._namespace")},localName:function(){notImplemented("XMLList.localName")},namespaceDeclarations:function(){somewhatImplemented("XMLList.prototype.namespaceDeclarations()");
return new XMLList},prependChild:function(){notImplemented("XMLList.prependChild")},removeNamespace:function(){notImplemented("XMLList.removeNamespace")},replace:function(a,b){e(this).replace(a,b);return this},setChildren:function(){notImplemented("XMLList.setChildren")},setLocalName:function(){notImplemented("XMLList.setLocalName")},setName:function(){notImplemented("XMLList.setName")},setNamespace:function(){notImplemented("XMLList.setNamespace")}}};return a};QNameClass=function(a,d,e,f){QName=
function B(a,e,f){if(!(this instanceof B))return void 0===e&&a instanceof B?a:new B(a,e);void 0===e&&(e=a,a=void 0);if("string"===typeof a||a instanceof B)a=new ASNamespace(a);e instanceof B?a=void 0===a?e.mn:new Multiname([a],e.mn.getName()):e instanceof Multiname?a=void 0===a?e.isQName()||e.isAnyName()||e.isAnyNamespace()?e:new Multiname([m(d)],e.getName(),e.flags):new Multiname([a],e.getName(),e.flags):"*"===e?a=new Multiname([],null,f?Multiname.ATTRIBUTE:0):"@*"===e?a=new Multiname([],null,Multiname.ATTRIBUTE):
(a=void 0===a?m(d):a,a=void 0===e?new Multiname([a],""):new Multiname([a],b(e),f?Multiname.ATTRIBUTE:0));this.mn=a;this.isAny=a.isAnyName();this.isAnyNamespace=a.isAnyNamespace();this.isAttr=a.isAttribute()};a=new Class("QName",QName,Domain.passthroughCallable(QName));a.extend(f);QNp=QName.prototype;defineNonEnumerableGetter(QNp,"localName",function(){this._localName||(this._localName=this.isAny?"*":this.mn.getName());return this._localName});defineNonEnumerableGetter(QNp,"uri",function(){if(!this._uri){var a=
this.mn.namespaces[0];this._uri=a&&a.originalURI?a.originalURI:this.isAny||this.isAnyNamespace?null:""}return this._uri});defineNonEnumerableGetter(QNp,"prefix",function(){return this.mn.namespaces[0].prefix});defineNonEnumerableSetter(QNp,"prefix",function(a){this.mn.namespaces[0].prefix=a});QNp.getNamespace=function(a){if(null===this.uri)throw"TypeError in QName.prototype.getNamespace()";a||(a=[]);for(var b,d=0;d<a.length;d++)this.uri===a[d].uri&&(b=a[d]);b||(b=ShumwayNamespace.createNamespace(this.uri));
return b};a.native={"static":{},instance:{localName:{get:function(){return this.localName}},uri:{get:function(){return this.uri}}}};return a}})();var JSON;JSON||(JSON={});
(function(){function a(a){return 10>a?"0"+a:a}function b(a){f.lastIndex=0;return f.test(a)?'"'+a.replace(f,function(a){var b=l[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function d(a,e){var f,l,z,A,C=g,u,y=e[a];y&&"object"===typeof y&&"function"===typeof y.toJSON&&(y=y.toJSON(a));"function"===typeof p&&(y=p.call(e,a,y));switch(typeof y){case "string":return b(y);case "number":return isFinite(y)?String(y):"null";case "boolean":case "null":return String(y);
case "object":if(!y)return"null";g+=m;u=[];if("[object Array]"===Object.prototype.toString.apply(y)){A=y.length;for(f=0;f<A;f+=1)u[f]=d(f,y)||"null";z=0===u.length?"[]":g?"[\n"+g+u.join(",\n"+g)+"\n"+C+"]":"["+u.join(",")+"]";g=C;return z}if(p&&"object"===typeof p){A=p.length;for(f=0;f<A;f+=1)"string"===typeof p[f]&&(l=p[f],(z=d(l,y))&&u.push(b(l)+(g?": ":":")+z))}else for(l in y)Object.prototype.hasOwnProperty.call(y,l)&&(z=d(l,y))&&u.push(b(l)+(g?": ":":")+z);z=0===u.length?"{}":g?"{\n"+g+u.join(",\n"+
g)+"\n"+C+"}":"{"+u.join(",")+"}";g=C;return z}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,m,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},p;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,b,e){var f;m=g="";if("number"===typeof e)for(f=0;f<e;f+=1)m+=" ";else"string"===typeof e&&(m=e);if((p=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return d("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function d(a,e){var f,g,l=a[e];if(l&&"object"===typeof l)for(f in l)Object.prototype.hasOwnProperty.call(l,f)&&(g=d(l,f),void 0!==g?l[f]=g:delete l[f]);return b.call(a,e,l)}var f;a=String(a);e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return f=eval("("+a+")"),"function"===typeof b?d({"":f},""):f;throw new SyntaxError("JSON.parse");})})();
var AMFUtils=function(){function a(a,b){if(65535<b.length)throw"AMF short string exceeded";if(b.length){var d=utf8decode(b);a.writeByte(d.length>>8&255);a.writeByte(d.length&255);for(var e=0;e<d.length;e++)a.writeByte(d[e])}else a.writeByte(0),a.writeByte(0)}function b(a){var b=a.readByte()<<8|a.readByte();if(!b)return"";for(var d=new Uint8Array(b),e=0;e<b;e++)d[e]=a.readByte();return utf8encode(d)}function d(a,b){var d=new ArrayBuffer(8),e=new DataView(d);e.setFloat64(0,b,!1);for(var f=0;f<d.byteLength;f++)a.writeByte(e.getUint8(f))}
function e(a){for(var b=new ArrayBuffer(8),d=new DataView(b),e=0;e<b.byteLength;e++)d.setUint8(e,a.readByte());return d.getFloat64(0,!1)}function f(a){var b=a.readByte();if(0===(b&128))return b;var d=a.readByte();if(0===(d&128))return(b&127)<<7|d;var e=a.readByte();if(0===(e&128))return(b&127)<<14|(d&127)<<7|e;a=a.readByte();return(b&127)<<22|(d&127)<<15|(e&127)<<8|a}function g(a,b){if(0===(b&4294967168))a.writeByte(b&127);else if(0===(b&4294950912))a.writeByte(128|b>>7&127),a.writeByte(b&127);else if(0===
(b&4292870144))a.writeByte(128|b>>14&127),a.writeByte(128|b>>7&127),a.writeByte(b&127);else if(0===(b&3221225472))a.writeByte(128|b>>22&127),a.writeByte(128|b>>15&127),a.writeByte(128|b>>8&127),a.writeByte(b&255);else throw"AMF3 U29 range";}function m(a,b){var d=f(a);if(1===d)return"";var e=b.stringsCache||(b.stringsCache=[]);if(0===(d&1))return e[d>>1];for(var d=d>>1,g=new Uint8Array(d),l=0;l<d;l++)g[l]=a.readByte();d=utf8encode(g);e.push(d);return d}function l(a,b,d){if(""===b)a.writeByte(1);else{d=
d.stringsCache||(d.stringsCache=[]);var e=d.indexOf(b);if(0<=e)g(a,e<<1);else{d.push(b);b=utf8decode(b);g(a,1|b.length<<1);for(d=0;d<b.length;d++)a.writeByte(b[d])}}}function p(a,b){var d=a.readByte();switch(d){case 1:return null;case 0:break;case 2:return!1;case 3:return!0;case 4:return f(a);case 5:return e(a);case 6:return m(a,b);case 8:return new Date(e(a));case 10:var g=f(a);if(0===(g&1))return b.objectsCache[g>>1];if(0!==(g&4))throw"AMF3 Traits-Ext is not supported";var l;if(0===(g&2))d=b.traitsCache[g>>
2],l=d.class;else{var d={},r=m(a,b);l=(d.className=r)&&v.names[r];d.class=l;d.isDynamic=0!==(g&8);d.members=[];for(var s=l&&l.instanceBindings.slots,r=0,g=g>>4;r<g;r++){for(var B=m(a,b),E=null,g=1;s&&g<s.length;g++)if(s[g].name.name===B){E=s[g];break}d.members.push(E?Multiname.getQualifiedName(E.name):Multiname.getPublicQualifiedName(B))}(b.traitsCache||(b.traitsCache=[])).push(d)}l=l?l.createInstance():{};(b.objectsCache||(b.objectsCache=[])).push(l);for(r=0;r<d.members.length;r++)s=p(a,b),l[d.members[r]]=
s;if(d.isDynamic)for(;;){r=m(a,b);if(!r.length)break;s=p(a,b);l.asSetPublicProperty(r,s)}return l;case 9:g=f(a);if(0===(g&1))return b.objectsCache[g>>1];l=[];(b.objectsCache||(b.objectsCache=[])).push(l);for(d=g>>1;;){r=m(a,b);if(!r.length)break;s=p(a,b);l.asSetPublicProperty(r,s)}for(r=0;r<d;r++)s=p(a,b),l.asSetPublicProperty(r,s);return l;default:throw"AMF3 Unknown marker "+d;}}function r(a,b,d){d=d.objectsCache||(d.objectsCache=[]);var e=d.indexOf(b);if(0>e)return d.push(b),!1;g(a,e<<1);return!0}
function s(a,b,e){switch(typeof b){case "boolean":a.writeByte(b?3:2);break;case "number":b===(b|0)?(a.writeByte(4),g(a,b)):(a.writeByte(5),d(a,b));break;case "undefined":a.writeByte(0);break;case "string":a.writeByte(6);l(a,b,e);break;case "object":if(null===b)a.writeByte(1);else if(Array.isArray(b)){a.writeByte(9);if(r(a,b,e))break;for(var f=0;f in b;)++f;g(a,f<<1|1);forEachPublicProperty(b,function(b,d){if(!isNumeric(b)||!(0<=b&&b<f))l(a,b,e),s(a,d,e)});l(a,"",e);for(var m=0;m<f;m++)s(a,b[m],e)}else if(b instanceof
Date){a.writeByte(8);if(r(a,b,e))break;g(a,1);d(a,b.valueOf())}else{a.writeByte(10);if(r(a,b,e))break;var m=!0,p=b.class;if(p){var m=!p.classInfo.instanceInfo.isSealed(),D=v.classes.get(p)||"",B,E=e.traitsCache||(e.traitsCache=[]),G=e.traitsInfos||(e.traitsInfos=[]),J=E.indexOf(p);if(0>J){var P=p.instanceBindings.slots;B=[];for(var J=[],Q=1;Q<P.length;Q++){var S=P[Q];S.name.getNamespace().isPublic()&&(B.push(Multiname.getQualifiedName(S.name)),J.push(S.name.name))}E.push(p);G.push(B);p=J.length;g(a,
(m?11:3)+(p<<4));l(a,D,e);for(Q=0;Q<p;Q++)l(a,J[Q],e)}else B=G[J],p=B.length,g(a,1+(J<<2));for(Q=0;Q<p;Q++)s(a,b[B[Q]],e)}else g(a,11),l(a,"",e);m&&(forEachPublicProperty(b,function(b,d){l(a,b,e);s(a,d,e)}),l(a,"",e))}}}var v={classes:new WeakMap,names:Object.create(null)};return{encodings:[{write:function(b,e){switch(typeof e){case "boolean":b.writeByte(1);b.writeByte(e?1:0);break;case "number":b.writeByte(0);d(b,e);break;case "undefined":b.writeByte(6);break;case "string":b.writeByte(2);a(b,e);
break;case "object":null===e?b.writeByte(5):(Array.isArray(e)?(b.writeByte(8),b.writeByte(e.length>>>24&255),b.writeByte(e.length>>16&255),b.writeByte(e.length>>8&255),b.writeByte(e.length&255),forEachPublicProperty(e,function(d,e){a(b,d);this.write(b,e)},this)):(b.writeByte(3),forEachPublicProperty(e,function(d,e){a(b,d);this.write(b,e)},this)),b.writeByte(0),b.writeByte(0),b.writeByte(9))}},read:function(a){var d=a.readByte();switch(d){case 0:return e(a);case 1:return!!a.readByte();case 2:return b(a);
case 3:for(d={};;){var f=b(a);if(!f.length)break;var g=this.read(a);d.asSetPublicProperty(f,g)}if(9!==a.readByte())throw"AMF0 End marker is not found";return d;case 5:return null;case 6:break;case 8:d=[];for(d.length=a.readByte()<<24|a.readByte()<<16|a.readByte()<<8|a.readByte();;){f=b(a);if(!f.length)break;g=this.read(a);d.asSetPublicProperty(f,g)}if(9!==a.readByte())throw"AMF0 End marker is not found";return d;case 10:d=[];d.length=a.readByte()<<24|a.readByte()<<16|a.readByte()<<8|a.readByte();
for(f=0;f<d.length;f++)d[f]=this.read(a);return d;case 17:return p(a,{});default:throw"AMF0 Unknown marker "+d;}}},null,null,{write:function(a,b){s(a,b,{})},read:function(a){return p(a,{})}}],aliasesCache:v}}();function ProxyClass(a,b,d,e){function f(){somewhatImplemented("Proxy")}a=new Class("Proxy",f,Domain.coerceCallable(f));a.extendBuiltin(e);return a}var proxyTrapQns={getProperty:null,setProperty:null,hasProperty:null,callProperty:null},name;
for(name in proxyTrapQns)proxyTrapQns[name]="open_"+Multiname.getQualifiedName(new Multiname([ShumwayNamespace.PROXY],name));var VM_IS_PROXY="vm is proxy",VM_CALL_PROXY="vm call proxy";function isProxyObject(a){return a["vm is proxy"]}function nameFromQualifiedName(a){if(isNumeric(a))return a;a=Multiname.fromQualifiedName(a);return void 0===a?void 0:a.name}function hasNonProxyingCaller(){for(var a=arguments.callee,b=0;5>b&&a;b++){if(a===nonProxyingHasProperty)return!0;a=a.caller}return!1}
function installProxyClassWrapper(a){var b=a.instanceConstructor;a.instanceConstructor=function(){var a=Object.create(b.prototype),e=Proxy.create({get:function(b,e){if("vm is proxy"===e)return!0;if("vm call proxy"===e)return function(e,g,m){g=(g=Multiname.isQName(e)?e:resolveMultiname(a,e))?Multiname.getQualifiedName(g):Multiname.getPublicQualifiedName(e.name);if(!nameInTraits(a,g))return a[proxyTrapQns.callProperty](e.name,m);if(a["vm open methods"]&&a["vm open methods"][g])return a["vm open methods"][g].apply(b,
m)};if(!hasNonProxyingCaller()){var m=nameFromQualifiedName(e);if(void 0!==m&&!nameInTraits(a,e))return a[proxyTrapQns.getProperty](m)}return a["vm open methods"]&&a["vm open methods"][e]?bindSafely(a["vm open methods"][e],b):a[e]},set:function(b,e,m){if(!hasNonProxyingCaller()&&(b=nameFromQualifiedName(e),void 0!==b&&!nameInTraits(a,e))){a[proxyTrapQns.setProperty](b,m);return}a[e]=m},has:function(b){if(!hasNonProxyingCaller()){var e=nameFromQualifiedName(b);if(void 0!==e&&!nameInTraits(a,b))return a[proxyTrapQns.hasProperty](e)}return b in
a},hasOwn:function(b){if(!hasNonProxyingCaller()){var e=nameFromQualifiedName(b);if(void 0!==e&&!nameInTraits(a,b))return a[proxyTrapQns.hasProperty](e)}return!!Object.getOwnPropertyDescriptor(a,b)},enumerate:function(){notImplemented("enumerate")},keys:function(){notImplemented("keys")}},b.prototype);b.apply(e,sliceArguments(arguments,0));return e}}
function DictionaryClass(a,b,d,e){function f(a){this.weakKeys=a;this.map=new WeakMap;a||(this.keys=[]);this.primitiveMap=createEmptyObject()}function g(a){if("string"===typeof a||"number"===typeof a)return a}a=new Class("Dictionary",f,Domain.passthroughCallable(f));a.extendNative(e,f);var m=f.prototype;defineNonEnumerableProperty(m,"asGetProperty",function(a,b){var d=g(b);return void 0!==d?this.primitiveMap[d]:this.map.get(Object(b))});defineNonEnumerableProperty(m,"asGetResolvedStringProperty",asGetResolvedStringPropertyFallback);
defineNonEnumerableProperty(m,"asSetProperty",function(a,b,d,e){a=g(b);void 0!==a?this.primitiveMap[a]=e:(this.map.set(Object(b),e),!this.weakKeys&&0>this.keys.indexOf(b)&&this.keys.push(b))});defineNonEnumerableProperty(m,"asCallProperty",function(){notImplemented("asCallProperty")});defineNonEnumerableProperty(m,"asHasProperty",function(a,b){var d=g(b);return void 0!==d?d in this.primitiveMap:this.map.has(Object(b))});defineNonEnumerableProperty(m,"asDeleteProperty",function(a,b){var d=g(b);void 0!==
d&&delete this.primitiveMap[d];this.map.delete(Object(b));var e;!this.weakKeys&&0<=(e=this.keys.indexOf(b))&&this.keys.splice(e,1);return!0});defineNonEnumerableProperty(m,"asGetEnumerableKeys",function(){if(m===this)return Object.prototype.asGetEnumerableKeys.call(this);var a=[],b;for(b in this.primitiveMap)a.push(b);return a.concat(this.keys)});a.native={instance:{init:function(){}}};return a}function debugBreak(a){debugger;print("\u001b[91mdebugBreak: "+a+"\u001b[0m")}
var ASNamespace,natives=function(){function a(a,b){var d;if(a){var e="Vector$"+a.classInfo.instanceInfo.name.name;switch(e){case "Vector$int":d=Int32Vector;break;case "Vector$uint":d=Uint32Vector;break;case "Vector$Number":d=Float64Vector;break;case "Vector$Object":d=GenericVector;break;default:unexpected()}}else d=GenericVector.applyType(null);var f=d.prototype,g=new Class(e,d,p(d.callable));d===GenericVector&&(g.applyType=function(){return g});g.extendWrapper(b,d);g.native={instance:{fixed:{get:function(){return this.fixed},
set:function(a){this.fixed=a}},length:{get:function(){return this.length},set:function(a){this.length=a}},push:f.push,pop:f.pop,shift:f.shift,unshift:f.unshift,_reverse:f.reverse,_every:f.every,_filter:f.filter,_forEach:f.forEach,_map:f.map,_some:f.some,_sort:f.sort,newThisType:function(){return new g.instanceConstructor},_spliceHelper:function(a,b,d,e,f){return this._spliceHelper(a,b,d,e,f)}},"static":{_every:function(a,b,d){return a.every(b,d)},_forEach:function(a,b,d){return a.forEach(b,d)}}};
g.vectorType=a;g.coerce=function(a){return a};g.isInstanceOf=function(){return!0};g.isInstance=function(a){return null===a||"object"!==typeof a?!1:!this.instanceConstructor.vectorType&&a.class.vectorType?!0:this.instanceConstructor.prototype.isPrototypeOf(a)};return g}function b(a){return a|0}function d(a){return Object(a|0)}function e(a){return a>>>0}function f(a){return Object(a>>>0)}function g(a){var b={__glue__:{script:{instance:{message:"public message",name:"public name"}},"native":{instance:{getStackTrace:function(){somewhatImplemented("Error.getStackTrace()");
return AVM2.getStackTrace()}},"static":{getErrorMessage:getErrorMessage}}}};return function(d,e,f,g){d=new Class(a,f);d.extend(g);"Error"===a&&(d.link(b),d.linkNatives(b));return d}}function m(a,b,d,e){a=new Class("RegExp",XRegExp,p(XRegExp));a.extendBuiltin(e);m.exec=function(){var a=this.exec.apply(this,arguments);if(!a)return a;for(var b=Object.keys(a),d=0;d<b.length;d++){var e=b[d];isNumeric(e)||void 0===a[e]&&(a[e]="")}publicizeProperties(a);return a};m.test=function(){return null!==this.exec.apply(this,
arguments)};a.native={instance:{global:{get:function(){return this.global}},source:{get:function(){return this.source}},ignoreCase:{get:function(){return this.ignoreCase}},multiline:{get:function(){return this.multiline}},lastIndex:{get:function(){return this.lastIndex},set:function(a){this.lastIndex=a}},dotall:{get:function(){return this.dotall}},extended:{get:function(){return this.extended}},exec:m.exec,test:m.test}};return a}function l(a){return function(){return a}}var p=Domain.passthroughCallable;
return{print:l(print),notImplemented:l(notImplemented),debugBreak:l(debugBreak),decodeURI:l(decodeURI),decodeURIComponent:l(decodeURIComponent),encodeURI:l(encodeURI),encodeURIComponent:l(encodeURIComponent),isNaN:l(isNaN),isFinite:l(isFinite),parseInt:l(parseInt),parseFloat:l(parseFloat),escape:l(escape),unescape:l(unescape),isXMLName:l("undefined"!==typeof isXMLName?isXMLName:function(){notImplemented("Chrome doesn't support isXMLName.")}),Function:Function,String:String,Array:Array,Number:Number,
Boolean:Boolean,Math:Math,Date:Date,RegExp:RegExp,Object:Object,ObjectClass:function(){var a=new Class("Object",Object,p(Object));a.native={instance:{length:{get:function(){return this.length},set:function(a){this.length=a}},isPrototypeOf:Object.prototype.isPrototypeOf,hasOwnProperty:function(a){if(void 0===a)return!1;a=Multiname.getPublicQualifiedName(a);return Object.prototype.hasOwnProperty.call(this,a)?!0:Object.getPrototypeOf(this).hasOwnProperty(a)},propertyIsEnumerable:function(a){if(void 0===
a)return!1;a=Multiname.getPublicQualifiedName(a);return Object.prototype.propertyIsEnumerable.call(this,a)}},"static":{_setPropertyIsEnumerable:function(a,b){b=Multiname.getPublicQualifiedName(b);var d=Object.getOwnPropertyDescriptor(a,b);d.enumerable=!1;Object.defineProperty(a,b,d)}}};a.dynamicPrototype=a.traitsPrototype=Object.prototype;a.setDefaultProperties();a.defaultValue=null;a.coerce=function(a){return asCoerceObject(a)};a.isInstanceOf=function(a){return null===a?!1:!0};a.isInstance=function(a){return null===
a||void 0===a?!1:!0};return a},Class:function(a,b,d,e){var f=Class;f.debugName="Class";f.prototype.extendBuiltin.call(f,e);f.coerce=function(a){return a};f.isInstanceOf=function(){return!0};f.isInstance=function(a){return a instanceof f.instanceConstructor};return f},NamespaceClass:function(a,b,d,e){ASNamespace=function(a,b){void 0===b&&(b=a,a=void 0);var d,e;if(void 0===a)void 0===b?e=d="":"object"===typeof b?(d=b.prefix,b instanceof ShumwayNamespace?e=b.originalURI:b instanceof QName&&(e=b.uri)):
(e=b+"",d=""===e?"":void 0);else if(e="object"===typeof b&&b instanceof QName&&null!==b.uri?b.uri:b+"",""===e)if(void 0===a||""===a+"")d="";else throw"type error";else d=void 0===a||""===a?void 0:a+"";return ShumwayNamespace.createNamespace(e,d)};a=new Class("Namespace",ASNamespace,p(ASNamespace));a.extendNative(e,ShumwayNamespace);e=ShumwayNamespace.prototype;a.native={instance:{prefix:{get:e.getPrefix},uri:{get:e.getURI}}};return a},FunctionClass:function(a,b,d,e){a=new Class("Function",Function,
p(Function));a.extendBuiltin(e);a.native={instance:{prototype:{get:function(){return this.prototype},set:function(a){this.prototype=a}},length:{get:function(){return this.hasOwnProperty("vm length")?this["vm length"]:this.length}},call:Function.prototype.call,apply:Function.prototype.apply}};a.coerce=function(a){return a};a.isInstanceOf=function(a){return"function"===typeof a};a.isInstance=function(a){return"function"===typeof a};return a},MethodClosureClass:function(a,b,d,e){a=new Class("MethodClosure",
MethodClosure);a.extendBuiltin(e);return a},BooleanClass:function(a,b,d,e){a=new Class("Boolean",Boolean,p(Boolean));a.extendBuiltin(e);a.native={instance:{toString:Boolean.prototype.toString,valueOf:Boolean.prototype.valueOf}};a.coerce=Boolean;a.isInstanceOf=function(a){return"boolean"===typeof a||a instanceof Boolean};a.isInstance=function(a){return"boolean"===typeof a||a instanceof Boolean?!0:!1};return a},StringClass:function(a,b,d,e){a=new Class("String",String,p(String));a.extendBuiltin(e);
var f=String.prototype;a.native={instance:{length:{get:function(){return this.length}},indexOf:f.indexOf,lastIndexOf:f.lastIndexOf,charAt:f.charAt,charCodeAt:f.charCodeAt,concat:f.concat,localeCompare:f.localeCompare,match:function(a){if(void 0===a||null===a)return null;if(a instanceof RegExp&&a.global){for(var b=[],d;d=a.exec(this);)b.push(d[0]);return b}!(a instanceof RegExp)&&"string"!==typeof a&&(a=String(a));return this.match(a)},replace:f.replace,search:function(a){return void 0===a?-1:this.search(a)},
slice:f.slice,split:f.split,substr:f.substr,substring:f.substring,toLowerCase:f.toLowerCase,toLocaleLowerCase:f.toLocaleLowerCase,toUpperCase:function(){var a=f.toUpperCase.apply(this);return a=a.replace(/\u039C/g,String.fromCharCode(181))},toLocaleUpperCase:function(){var a=f.toLocaleUpperCase.apply(this);return a=a.replace(/\u039C/g,String.fromCharCode(181))},toString:f.toString,valueOf:f.valueOf},"static":String};a.isInstance=function(a){return null!==a&&void 0!==a&&"string"===typeof a.valueOf()};
a.coerce=function(a){return null===a||void 0===a?null:String(a)};a.isInstanceOf=function(a){return Object(a)instanceof String};a.isInstance=function(a){return Object(a)instanceof String};return a},NumberClass:function(a,b,d,e){a=new Class("Number",Number,p(Number));a.extendBuiltin(e);a.native={instance:Number.prototype};a.defaultValue=Number(0);a.isInstance=function(a){return null!==a&&void 0!==a&&"number"===typeof a.valueOf()};a.coerce=Number;a.isInstanceOf=function(a){return Object(a)instanceof
Number};a.isInstance=function(a){return Object(a)instanceof Number};return a},intClass:function(a,e,f,g){a=new Class("int",d,p(b));a.extendBuiltin(g);a.defaultValue=0;a.coerce=b;a.isInstanceOf=function(){return!1};a.isInstance=function(a){a instanceof Number&&(a=a.valueOf());return(a|0)===a};return a},uintClass:function(a,b,d,g){a=new Class("uint",f,p(e));a.extend(g);a.defaultValue=0;a.isInstanceOf=function(){return!1};a.isInstance=function(a){a instanceof Number&&(a=a.valueOf());return a>>>0===a};
a.coerce=e;return a},ArrayClass:function(a,b,d,e){a=new Class("Array",Array,p(Array));a.extendBuiltin(e);e=Array.prototype;var f=createEmptyObject();a.native={instance:{length:{get:function(){return this.length},set:function(a){this.length=a}},join:e.join,pop:e.pop,push:e.push,reverse:e.reverse,concat:e.concat,shift:e.shift,slice:e.slice,unshift:e.unshift,splice:e.splice,indexOf:e.indexOf,lastIndexOf:e.lastIndexOf,every:e.every,filter:e.filter,forEach:e.forEach,map:e.map,some:e.some},"static":{_sortOn:function(a,
b,d){isString(b)&&(b=[b]);isNumber(d)&&(d=[d]);for(var e=b.length-1;0<=e;e--){var g=Multiname.getPublicQualifiedName(b[e]);if(d[e]&16){var l="var x = toNumber(a."+g+"), y = toNumber(b."+g+");",l=d[e]&2?l+"return x < y ? 1 : (x > y ? -1 : 0);":l+"return x < y ? -1 : (x > y ? 1 : 0);",m=f[l];m||(m=f[l]=new Function("a","b",l));a.sort(m)}else a.sort(function(a,b){return asCompare(a[g],b[g],d[e]|0)})}return a},_sort:function(a,b){if(0===b.length)return a.sort();var d,e=0;b[0]instanceof Function?d=b[0]:
isNumber(b[0])&&(e=b[0]);isNumber(b[1])&&(e=b[1]);a.sort(function(a,b){return asCompare(a,b,e,d)});return a}}};a.coerce=function(a){return a};a.isInstanceOf=function(){return!0};return a},VectorClass:function(b,d,e,f){return a(void 0,f)},ObjectVectorClass:function(b,d,e,f){return a(b.getClass("Object"),f)},IntVectorClass:function(b,d,e,f){return a(b.getClass("int"),f)},UIntVectorClass:function(b,d,e,f){return a(b.getClass("uint"),f)},DoubleVectorClass:function(b,d,e,f){return a(b.getClass("Number"),
f)},ByteArrayClass:function(a,b,d,e){function f(a){if(a instanceof f)return a;(a=a||this.symbol&&this.symbol.data)?(this.a=new ArrayBuffer(a.length),this.length=a.length,(new Uint8Array(this.a)).set(a)):(this.a=new ArrayBuffer(128),this.length=0);this.position=0;this.cacheViews();this.le=this.nativele=1===(new Int8Array((new Int32Array([])).buffer))[0];this.objectEncoding=D}function g(){a.throwErrorFromVM("flash.errors.EOFError","End of file was encountered.")}function l(){var b=Errors.ParamRangeError;
a.throwErrorFromVM("RangeError",getErrorMessage(b.code),b.code)}function m(a,b,d){a.position+d>a.length&&g();b=a.view[b](a.position,a.le);a.position+=d;return b}function y(a,b,d,e){d=a.position+d;a.ensureCapacity(d);a.view[b](a.position,e,a.le);a.position=d;d>a.length&&(a.length=d)}var D=3;b=new Class("ByteArray",f,p(f));b.extendBuiltin(e);e=f.prototype;e.asGetNumericProperty=function(a){return a>=this.length?void 0:this.uint8v[a]};e.asSetNumericProperty=function(a,b){var d=a+1;this.ensureCapacity(d);
this.uint8v[a]=b;d>this.length&&(this.length=d)};e.cacheViews=function(){var a=this.a;this.int8v=new Int8Array(a);this.uint8v=new Uint8Array(a);this.view=new DataView(a)};e.getBytes=function(){return new Uint8Array(this.a,0,this.length)};e.ensureCapacity=function(a){var b=this.a;if(b.byteLength<a){for(b=b.byteLength;b<a;)b*=2;a=new ArrayBuffer(b);b=this.int8v;this.a=a;this.cacheViews();this.int8v.set(b)}};e.clear=function(){this.position=this.length=0};e.readBoolean=function(){this.position+1>this.length&&
g();return 0!==this.int8v[this.position++]};e.readByte=function(){this.position+1>this.length&&g();return this.int8v[this.position++]};e.readUnsignedByte=function(){this.position+1>this.length&&g();return this.uint8v[this.position++]};e.readBytes=function(a,b,d){var e=this.position;e+d>this.length&&g();a.length<b+d&&(a.ensureCapacity(b+d),a.length=b+d);a.int8v.set(new Int8Array(this.a,e,d),b);this.position+=d};e.writeBoolean=function(a){var b=this.position+1;this.ensureCapacity(b);this.int8v[this.position++]=
a?1:0;b>this.length&&(this.length=b)};e.writeByte=function(a){var b=this.position+1;this.ensureCapacity(b);this.int8v[this.position++]=a;b>this.length&&(this.length=b)};e.writeUnsignedByte=function(a){var b=this.position+1;this.ensureCapacity(b);this.uint8v[this.position++]=a;b>this.length&&(this.length=b)};e.writeRawBytes=function(a){var b=this.position+a.length;this.ensureCapacity(b);this.int8v.set(a,this.position);this.position=b;b>this.length&&(this.length=b)};e.readRawBytes=function(){return new Int8Array(this.a,
0,this.length)};e.writeBytes=function(a,b,d){2>arguments.length&&(b=0);3>arguments.length&&(d=0);b!==clamp(b,0,a.length)&&l();var e=b+d;e!==clamp(e,0,a.length)&&l();0===d&&(d=a.length-b);this.writeRawBytes(new Int8Array(a.a,b,d))};e.readDouble=function(){return m(this,"getFloat64",8)};e.readFloat=function(){return m(this,"getFloat32",4)};e.readInt=function(){return m(this,"getInt32",4)};e.readShort=function(){return m(this,"getInt16",2)};e.readUnsignedInt=function(){return m(this,"getUint32",4)};
e.readUnsignedShort=function(){return m(this,"getUint16",2)};e.readObject=function(){return AMFUtils.encodings[this.objectEncoding].read(this)};e.writeDouble=function(a){y(this,"setFloat64",8,a)};e.writeFloat=function(a){y(this,"setFloat32",4,a)};e.writeInt=function(a){y(this,"setInt32",4,a)};e.writeShort=function(a){y(this,"setInt16",2,a)};e.writeUnsignedInt=function(a){y(this,"setUint32",4,a)};e.writeUnsignedShort=function(a){y(this,"setUint16",2,a)};e.writeObject=function(a){return AMFUtils.encodings[this.objectEncoding].write(this,
a)};e.readUTF=function(){return this.readUTFBytes(this.readShort())};e.readUTFBytes=function(a){var b=this.position;b+a>this.length&&g();this.position+=a;return utf8encode(new Int8Array(this.a,b,a))};e.writeUTF=function(a){a=utf8decode(a);this.writeShort(a.length);this.writeRawBytes(a)};e.writeUTFBytes=function(a){a=utf8decode(a);this.writeRawBytes(a)};e.toString=function(){return utf8encode(new Int8Array(this.a,0,this.length))};b.native={instance:{length:{get:function(){return this.length},set:function(a){a>
this.a.byteLength&&this.ensureCapacity(a);this.length=a;this.position=clamp(this.position,0,this.length)}},bytesAvailable:{get:function(){return this.length-this.position}},position:{get:function(){return this.position},set:function(a){this.position=a}},endian:{get:function(){return this.le?"littleEndian":"bigEndian"},set:function(a){this.le="littleEndian"===a}},objectEncoding:{get:function(){return this.objectEncoding},set:function(a){this.objectEncoding=a}},readBytes:e.readBytes,writeBytes:e.writeBytes,
writeBoolean:e.writeBoolean,writeByte:e.writeByte,writeShort:e.writeShort,writeInt:e.writeInt,writeUnsignedInt:e.writeUnsignedInt,writeFloat:e.writeFloat,writeDouble:e.writeDouble,writeMultiByte:e.writeMultiByte,writeUTF:e.writeUTF,writeUTFBytes:e.writeUTFBytes,writeObject:e.writeObject,readBoolean:e.readBoolean,readByte:e.readByte,readUnsignedByte:e.readUnsignedByte,readShort:e.readShort,readUnsignedShort:e.readUnsignedShort,readInt:e.readInt,readUnsignedInt:e.readUnsignedInt,readFloat:e.readFloat,
readDouble:e.readDouble,readMultiByte:e.readMultiByte,readUTF:e.readUTF,readUTFBytes:e.readUTFBytes,readObject:e.readObject,toString:e.toString,clear:e.clear},"static":{defaultObjectEncoding:{get:function(){return D},set:function(a){D=a}}}};return b},ProxyClass:ProxyClass,ErrorClass:g("Error"),DefinitionErrorClass:g("DefinitionError"),EvalErrorClass:g("EvalError"),RangeErrorClass:g("RangeError"),ReferenceErrorClass:g("ReferenceError"),SecurityErrorClass:g("SecurityError"),SyntaxErrorClass:g("SyntaxError"),
TypeErrorClass:g("TypeError"),URIErrorClass:g("URIError"),VerifyErrorClass:g("VerifyError"),UninitializedErrorClass:g("UninitializedError"),ArgumentErrorClass:g("ArgumentError"),DateClass:function(a,b,d,e){a=new Class("Date",Date,p(Date));a.extendBuiltin(e);a.native={instance:Date.prototype,"static":Date};return a},MathClass:function(){var a=new Class("Math");a.native={"static":Math};return a},RegExpClass:m,DictionaryClass:DictionaryClass,XMLClass:XMLClass,XMLListClass:XMLListClass,QNameClass:QNameClass,
JSONClass:function(a,b,d,e){function f(a){if("object"!==typeof a)return a;for(var b=Object.keys(a),d=a instanceof Array?[]:{},e=0;e<b.length;e++)d.asSetPublicProperty(b[e],f(a[b[e]]));return d}function g(a){if("object"!==typeof a)return a;for(var b=Object.keys(a),d=a instanceof Array?[]:{},e=0;e<b.length;e++){var f=b[e],l=f;isNumeric(f)||(l=fromResolvedName(f));d[l]=g(a[f])}return d}function l(){}a=new Class("JSON",l,p(l));a.extend(e);a.native={"static":{parseCore:function(a){return f(JSON.parse(a))},
stringifySpecializedToString:function(a,b,d,e){return JSON.stringify(g(a),d,e)}}};return a},ShumwayClass:function(a,b,d,e){function f(){}a=new Class("Shumway",f,p(f));a.extend(e);a.native={"static":{info:function(a){console.info(a)},json:function(a){return JSON.stringify(a)},eval:function(a){return eval(a)},"debugger":function(){debugger}}};return a},CapabilitiesClass:function(a,b,d,e){function f(){}a=new Class("Capabilities",f,p(f));a.extend(e);a.native={"static":{playerType:{get:function(){return"AVMPlus"}}}};
return a},FileClass:function(a,b,d,e){function f(){}a=new Class("File",f,p(f));a.extend(e);a.native={"static":{exists:function(){notImplemented("File.exists");return!1},read:function(a){return snarf(a)},write:function(){notImplemented("File.write");return!0},readByteArray:function(a){var b=AVM2.currentDomain().getClass("flash.utils.ByteArray").createInstance();b.writeRawBytes(snarf(a,"binary"));return b},writeByteArray:function(a,b){write("bin/"+a,b.getBytes());return!0}}};return a},DomainClass:function(a,
b,d,e){a=new Class("File",d,p(d));a.extend(e);a.native={instance:{init:function(a){this.base=a;this.nativeObject=new Domain(avm2,a?a.nativeObject:null)},loadBytes:function(a){this.nativeObject.executeAbc(new AbcFile(a.readRawBytes()))},getClass:function(a){return this.nativeObject.getClass(a)}},"static":{currentDomain:{get:function(){var a=Object.create(d.prototype);a.nativeObject=AVM2.currentDomain();return a}}}};return a},getQualifiedClassName:l(function(a){if(null===a)return"null";if(void 0===
a)return"void";switch(typeof a){case "number":return(a|0)===a?"int":"Number";case "string":return"String";case "boolean":return"Boolean";case "object":if(a instanceof Date)return"Date";var b;a instanceof Class?b=a:a.class?b=a.class:a.classInfo&&(b=a);if(b)return a=b.classInfo.instanceInfo.name,(b=a.namespaces[0].originalURI)?b+"::"+a.name:a.name}return notImplemented(a+" ("+typeof a+")")}),getQualifiedSuperclassName:l(function(a){switch(typeof a){case "number":case "string":case "boolean":return"Object";
case "function":return"Function";case "object":if(a instanceof Date)return"Object";var b;a.class?b=a.class:a.classInfo&&(b=a);return b&&b.baseClass?(a=b.baseClass.classInfo.instanceInfo.name,(b=a.namespaces[0].originalURI)?b+"::"+a.name:a.name):"Object"}return notImplemented(a+" (superOf "+typeof a+")")}),getDefinitionByName:l(function(a){a=String(a).replace("::",".");return AVM2.currentDomain().getClass(a)}),describeTypeJSON:l(function(a,b){function d(a){return Multiname.getPublicQualifiedName(a)}
function e(a){var b=a.name;return(a=a.namespaces[0])&&a.originalURI?a.originalURI+"::"+b:b}function f(a){var b={};b[D]=a.name;b[G]=a.value.map(function(a){return a});return b}var g=d("declaredBy"),l=d("metadata"),m=d("access"),p=d("uri"),D=d("name"),B=d("type"),E=d("returnType"),G=d("value");d("key");var J=d("parameters"),P=d("optional"),Q=a.classInfo?a:Object.getPrototypeOf(a).class;!0;var S=Q.classInfo,O={};O[D]=e(S.instanceInfo.name);O[d("isDynamic")]=Q===a?!0:!(S.instanceInfo.flags&1);O[d("isStatic")]=
Q===a;O[d("isFinal")]=Q===a?!0:!(S.instanceInfo.flags&2);if(b&256){var F=d("traits"),H=function(a){!0;for(var b=0;a&&b<a.length;b++){var d=a[b];if(R[d.kind]&&(d.name.getNamespace().isPublic()||d.name.uri)){var r=e(d.name);if(ea[r]){var s=ea[r];s[m]="readwrite";2===d.kind&&(s[B]=e(d.methodInfo.returnType))}else{s={};if(I&&d.metadata){var v=s[l]=[],G;for(G in d.metadata)v.push(f(d.metadata[G]))}else s[l]=null;s[g]=ka;s[p]=void 0===d.name.uri?null:d.name.uri;s[D]=r;if(d.typeName||d.methodInfo&&d.methodInfo.returnType)switch(s[d.kind===
TRAIT_Method?E:B]=e(0===d.kind?d.typeName:d.methodInfo.returnType),d.kind){case 0:s[m]="readwrite";V.push(s);break;case 1:r=s[J]=[];d=d.methodInfo.parameters;for(v=0;v<d.length;v++){var F=d[v],H={};H[B]=F.type?e(F.type):"*";H[P]="value"in F;r.push(H)}da.push(s);break;case 2:case 3:s[m]=2===d.kind?"read":"write",ca.push(s),ea[r]=s}}}}},R=[b&8,b&32,b&16,b&16],K=b&2,I=b&64,M={},T=M[d("bases")]=K?[]:null;if(b&4){var L=M[d("interfaces")]=[];if(b&512)for(var N in Q.implementedInterfaces)L.push(e(Q.implementedInterfaces[N].name))}else M[d("interfaces")]=
null;var V=M[d("variables")]=b&8?[]:null,ca=M[d("accessors")]=b&16?[]:null,da=M[d("methods")]=b&32?[]:null,ea={};for(N=!1;Q;){var ka=e(Q.classInfo.instanceInfo.name);K&&N?T.push(ka):N=!0;b&512?H(Q.classInfo.instanceInfo.traits):H(Q.classInfo.traits);Q=Q.baseClass}O[F]=M}F=null;S.metadata&&(F=Object.keys(S.metadata).map(function(a){return f(S.metadata[a])}));O[l]=F;return O}),original:jsGlobal["vm originals"]}}();
function getNative(a){a=a.split(".");for(var b=natives,d=0,e=a.length;d<e;d++)b=b&&b[a[d]];!0;return b}var disassemblerOptions=systemOptions.register(new OptionSet("Disassembler Options")),filter=disassemblerOptions.register(new Option("f","filter","string","SpciMsmNtu","[S]ource, constant[p]ool, [c]lasses, [i]nstances, [M]etadata, [s]cripts, [m]ethods, multi[N]ames, S[t]atistics, [u]tf"));
function traceArray(a,b,d,e){0!==d.length&&(a.enter(b+" {"),d.forEach(function(b){b.trace(a,e)}),a.leave("}"))}
AbcFile.prototype.trace=function(a){0<=filter.value.indexOf("p")&&this.constantPool.trace(a);0<=filter.value.indexOf("N")&&this.constantPool.traceMultinamesOnly(a);0<=filter.value.indexOf("c")&&traceArray(a,"classes",this.classes);0<=filter.value.indexOf("i")&&traceArray(a,"instances",this.instances);0<=filter.value.indexOf("M")&&traceArray(a,"metadata",this.metadata);0<=filter.value.indexOf("s")&&traceArray(a,"scripts",this.scripts);0<=filter.value.indexOf("m")&&traceArray(a,"methods",this.methods,
this);0<=filter.value.indexOf("S")&&traceSource(a,this);0<=filter.value.indexOf("t")&&traceStatistics(a,this);0<=filter.value.indexOf("u")&&print(JSON.stringify({strings:this.constantPool.strings,positionAfterUTFStrings:this.constantPool.positionAfterUTFStrings},null,2))};
ConstantPool.prototype.trace=function(a){a.enter("constantPool {");for(var b in this)"namespaces"===b?(a.enter("namespaces {"),this.namespaces.forEach(function(b,e){a.writeLn((""+e).padRight(" ",3)+(b?b.toString():"*"))}),a.leave("}")):this[b]instanceof Array&&(a.enter(b+" "+this[b].length+" {"),a.writeArray(this[b]),a.leave("}"));a.leave("}")};ConstantPool.prototype.traceMultinamesOnly=function(a){a.writeArray(this.multinames,null,!0)};
ClassInfo.prototype.trace=function(a){a.enter("class "+this+" {");traceArray(a,"traits",this.traits);a.leave("}")};MetaDataInfo.prototype.trace=function(a){a.enter(this+" {");this.value.forEach(function(b){a.writeLn((b.key?b.key+": ":"")+'"'+b.value+'"')});a.leave("}")};InstanceInfo.prototype.trace=function(a){a.enter("instance "+this+" {");traceArray(a,"traits",this.traits);a.leave("}")};ScriptInfo.prototype.trace=function(a){a.enter("script "+this+" {");traceArray(a,"traits",this.traits);a.leave("}")};
Trait.prototype.trace=function(a){if(this.metadata)for(var b in this.metadata)this.metadata.hasOwnProperty(b)&&this.metadata[b].trace(a);a.writeLn(this)};function traceAbc(a,b){b.trace(a)}
function traceOperand(a,b,d){var e=0;switch(a.size){case "s08":e=d.readS8();break;case "u08":e=d.readU8();break;case "s16":e=d.readS16();break;case "s24":e=d.readS24();break;case "u30":e=d.readU30();break;case "u32":e=d.readU32();break;default:!0}d="";switch(a.type){case "":break;case "I":d=b.constantPool.ints[e];break;case "U":d=b.constantPool.uints[e];break;case "D":d=b.constantPool.doubles[e];break;case "S":d=b.constantPool.strings[e];break;case "N":d=b.constantPool.namespaces[e];break;case "CI":d=
b.classes[e];break;case "M":return b.constantPool.multinames[e];default:d="?"}return a.name+":"+e+(""===d?"":" ("+d+")")}function traceOperands(a,b,d,e){e=e||!1;var f=d.position,g="";null===a.operands?g="null":a.operands.forEach(function(e,f){g+=traceOperand(e,b,d);f<a.operands.length-1&&(g+=", ")});e&&d.seek(f);return g}
MethodInfo.prototype.trace=function(a){var b=this.abc;a.enter("method"+(this.name?" "+this.name:"")+" {");a.writeLn("flags: "+getFlags(this.flags,"NEED_ARGUMENTS NEED_ACTIVATION NEED_REST HAS_OPTIONAL  NATIVE SET_DXN HAS_PARAM_NAMES".split(" ")));a.writeLn("parameters: "+this.parameters.map(function(a){return(a.type?Multiname.getQualifiedName(a.type)+"::":"")+a.name}));if(this.code){var d=new AbcStream(this.code);traceArray(a,"traits",this.traits);for(a.enter("code {");0<d.remaining();){var e=d.readU8(),
f=opcodeTable[e],g;g=(""+d.position).padRight(" ",6);switch(e){case 27:g+=f.name+": defaultOffset: "+d.readS24();e=d.readU30();g+=", caseCount: "+e;for(f=0;f<e+1;f++)g+=" offset: "+d.readS24();a.writeLn(g);break;default:f?(g+=f.name.padRight(" ",20),f.operands?(0<f.operands.length&&(g+=traceOperands(f,b,d)),a.writeLn(g)):!0):!0}}a.leave("}")}a.leave("}")};
var SourceTracer=function(){function a(a){return void 0===a?"undefined":null===a?"null":"string"===typeof a?'"'+a+'"':String(a)}function b(b,d){return b.parameters.map(function(b){var e=b.name;d||(b.type&&(e+=":"+b.type.getName()),void 0!==b.value&&(e+=" = "+a(b.value)));return e}).join(", ")}function d(a){this.writer=a}d.prototype={traceTraits:function(d,f,g){var m=this.writer,l=this;d.forEach(function(d){var e;e=Multiname.getAccessModifier(d.name);var s=d.name.namespaces[0].originalURI;s&&("http://adobe.com/AS3/2006/builtin"===
s&&(s="AS3"),e="public"===e?g===s?"":s:e);f&&(e+=" static");if(d.isSlot()||d.isConst())l.traceMetadata(d.metadata),e=d.isConst()?e+" const":e+" var",e+=" "+d.name.getName(),d.typeName&&(e+=":"+d.typeName.getName()),d.value&&(e+=" = "+a(d.value)),m.writeLn(e+";");else if(d.isMethod()||d.isGetter()||d.isSetter()){l.traceMetadata(d.metadata);s=d.methodInfo;d.attributes&2&&(e+=" override");s.isNative()&&(e+=" native");e=e+" function"+(d.isGetter()?" get":d.isSetter()?" set":"");e+=" "+d.name.getName();
e+="("+b(s)+")";e+=s.returnType?":"+s.returnType.getName():"";var v,w="";d.holder instanceof ClassInfo?(v=d.holder.instanceInfo.name,v.namespaces[0].originalURI&&(w+=v.namespaces[0].originalURI+"::"),w+=v.getName(),w+="$/"):d.holder instanceof InstanceInfo?(v=d.holder.name,v.namespaces[0].originalURI&&(w+=v.namespaces[0].originalURI+"::"),w+=v.getName(),w+="/"):w="global/";v=d.isGetter()?"get ":d.isSetter()?"set ":"";s.isNative()||print("XXX: "+w+v+d.name.getName()+" ()");s.isNative()?m.writeLn(e+
";"):g?m.writeLn(e+";"):m.writeLn(e+' { notImplemented("'+d.name.getName()+'"); }')}else d.isClass()?(v=d.classInfo.instanceInfo.name,m.enter("package "+v.namespaces[0].originalURI+" {\n"),l.traceMetadata(d.metadata),l.traceClass(d.classInfo),m.leave("\n}"),l.traceClassStub(d)):notImplemented()})},traceClassStub2:function(a){function d(a){var e=[];a.forEach(function(a){(a.isMethod()||a.isGetter()||a.isSetter())&&a.methodInfo.isNative()&&e.push(a)});e.forEach(function(a,d){var f=a.methodInfo,l=a.name.getName();
g.writeLn("// "+l+" :: "+(f.parameters.length?b(f):"void")+" -> "+(f.returnType?f.returnType.getName():"any"));var m;m=a.isGetter()?'"get '+l+'"':a.isSetter()?'"set '+l+'"':l;g.enter(m+": function "+l+"("+b(f,!0)+") {");g.writeLn('  notImplemented("'+p+"."+l+'");');g.leave("}"+(d===e.length-1?"":",\n"))})}var g=this.writer,m=a.classInfo,l=m.instanceInfo,p=l.name.getName();a=a.metadata?a.metadata.native:null;if(!a)return!1;g.writeLn("Cut and paste the following into `native.js' and edit accordingly");
g.writeLn("8< --------------------------------------------------------------");g.enter("natives."+a.cls+" = function "+a.cls+"(runtime, scope, instanceConstructor, baseClass) {");g.writeLn('var c = new Class("'+p+'", instanceConstructor, Domain.passthroughCallable(instanceConstructor));');g.writeLn("c.extend(baseClass);\n");g.enter("c.nativeStatics = {");d(m.traits,!0);g.leave("};\n");g.enter("c.nativeMethods = {");d(l.traits);g.leave("};\n");g.writeLn("return c;");g.leave("};");g.writeLn("-------------------------------------------------------------- >8");
return!0},traceClassStub:function(a){function d(a,e,f){function m(a,d){var e=a.methodInfo,r=a.name.getName(),p="// ("+(e.parameters.length?b(e):"void")+") -> "+(e.returnType?e.returnType.getName():"any"),s=r;a.isGetter()?s="get":a.isSetter()&&(s="set");g.enter(s+": function "+r+"("+b(e,!0)+") { "+p);g.writeLn('notImplemented("'+l+"."+r+'");');f||(a.isGetter()?g.writeLn("return this._"+r+";"):a.isSetter()&&g.writeLn("this._"+r+" = "+e.parameters[0].name+";"));g.leave("}"+(d?",":""))}var p=a;a={properties:p.filter(function(a){return!e&&
!(a.isMethod()||a.isGetter()||a.isSetter())}),methods:p.filter(function(a){return(a.isMethod()||a.isGetter()||a.isSetter())&&e===a.methodInfo.isNative()})};var A=[],C=createEmptyObject();a.methods.forEach(function(a){var b=a.name.getName();a.isGetter()||a.isSetter()?(C[b]||(C[b]=[]),C[b].push(a)):A.push(a)});for(p=0;p<A.length;p++)m(A[p],p<A.length-1);for(var u=toKeyValueArray(C),y=0;y<u.length;y++){g.enter(u[y][0]+": {");for(var D=u[y][1],p=0;p<D.length;p++)m(D[p],p<D.length-1);g.leave("}"+(y<u.length-
1?",":""))}a.properties.forEach(function(b,d){var e=b.name.getName(),f=d===a.properties.length-1;b.name.getNamespace().isPublic()&&g.writeLn(e+": "+("'public "+b.name.name+"'")+(f?"":","))})}var g=this.writer;a=a.classInfo;var m=a.instanceInfo,l=m.name.getName();g.writeLn("Cut and paste the following glue and edit accordingly.");g.writeLn("Class "+m);g.writeLn("8< --------------------------------------------------------------");var p=m.name.namespaces[0].originalURI;g.enter("var "+l+"Definition = (function () {");
g.enter("return {");g.writeLn("// ("+b(m.init,!1)+")");g.writeLn('__class__: "'+p+"."+l+'",');g.enter("initialize: function () {");g.leave("},");g.enter("__glue__: {");g.enter("native: {");g.enter("static: {");d(a.traits,!0,!0);g.leave("},");g.enter("instance: {");d(m.traits,!0);g.leave("}");g.leave("},");g.enter("script: {");g.enter("static: {");g.writeLn("// ...");g.leave("},");g.enter("instance: {");d(m.traits,!1);g.leave("}");g.leave("}");g.leave("}");g.leave("};");g.leave("}).call(this);");g.writeLn("-------------------------------------------------------------- >8");
return!0},traceClass:function(a){var d=this.writer,g=a.instanceInfo,m=g.name,l=Multiname.getAccessModifier(m);g.isFinal()&&(l+=" final");g.isSealed()||(l+=" dynamic");l+=g.isInterface()?" interface ":" class ";l+=m.getName();g.superName&&"Object"!==g.superName.getName()&&(l+=" extends "+g.superName.getName());g.interfaces.length&&(l+=" implements "+g.interfaces.map(function(a){return a.getName()}).join(", "));d.enter(l+" {");g.isInterface()||d.writeLn("public function "+m.getName()+"("+b(g.init)+
") {}");var p;g.isInterface()&&(p=m.namespaces[0].originalURI+":"+m.name);this.traceTraits(a.traits,!0,p);this.traceTraits(g.traits,!1,p);d.leave("}")},traceMetadata:function(a){var b=this.writer,d;for(d in a)a.hasOwnProperty(d)&&0!==d.indexOf("__")&&b.writeLn("["+d+"("+a[d].value.map(function(a){return(a.key?a.key+"=":"")+'"'+a.value+'"'}).join(", ")+")]")}};return d}();function traceSource(a,b){var d=new SourceTracer(a);b.scripts.forEach(function(a){d.traceTraits(a.traits)})}
function traceStatistics(a,b){var d=new metrics.Counter(!0),e=new metrics.Counter(!0),f=new metrics.Counter(!0),g=new metrics.Counter(!0),m={},l={},p={};b.classes.forEach(function(a){m[a.instanceInfo.name.name]=!0});b.scripts.forEach(function(a){a.traits.forEach(function(a){if(a.isClass()){var b=a.classInfo.instanceInfo.superName?a.classInfo.instanceInfo.superName.name:"?";b in m||e.count(b);a.classInfo.traits.forEach(function(a){a.isMethod()?l[a.name.name]=!0:p[a.name.name]=!0});a.classInfo.instanceInfo.traits.forEach(function(a){a.isMethod()&&
!(a.attributes&2)?l[a.name.name]=!0:p[a.name.name]=!0})}})});var r=new metrics.Counter(!0);b.methods.forEach(function(a){function e(a){var d=0;switch(a.size){case "s08":d=w.readS8();break;case "u08":d=w.readU8();break;case "s16":d=w.readS16();break;case "s24":d=w.readS24();break;case "u30":d=w.readU30();break;case "u32":d=w.readU32();break;default:!0}var f="";switch(a.type){case "":break;case "I":f=b.constantPool.ints[d];break;case "U":f=b.constantPool.uints[d];break;case "D":f=b.constantPool.doubles[d];
break;case "S":f=b.constantPool.strings[d];break;case "N":f=b.constantPool.namespaces[d];break;case "CI":f=b.classes[d];break;case "M":f=b.constantPool.multinames[d];break;default:f="?"}return f}if(a.code)for(var w=new AbcStream(a.code);0<w.remaining();){a=w.readU8();var z=opcodeTable[a],A=null;if(z)switch(r.count(z.name),z.operands&&(A=z.operands.map(e)),a){case 65:case 67:continue;case 70:case 76:case 79:case 68:case 69:case 78:A[0]&&!(A[0].name in l)&&f.count(A[0].name);break;case 74:A[0]&&!(A[0].name in
m)&&d.count(A[0].name);break;case 102:case 97:A[0]&&!(A[0].name in p)&&g.count(A[0].name)}}});a.writeLn(JSON.stringify({definedClasses:m,definedMethods:l,definedProperties:p,libraryClasses:d.counts,librarySuperClasses:e.counts,libraryMethods:f.counts,libraryProperties:g.counts,operations:r.counts},null,2))}
var Interpreter=new (function(){function a(){}function b(a,b){if(Multiname.isRuntime(b)){var d=b.namespaces,m=b.name,l=b.flags&Multiname.ATTRIBUTE;Multiname.isRuntimeName(b)&&(m=a.pop());if(isNumeric(m)||isObject(m))return!0,m;Multiname.isRuntimeNamespace(b)&&(d=[a.pop()]);b=new Multiname(d,m,l)}!0;return b}function d(a,b,d){d.flags=b.flags;d.name=b.isRuntimeName()?a.pop():b.name;d.namespaces=b.isRuntimeNamespace()?[a.pop()]:b.namespaces}a.prototype={interpretMethod:function(a,f,g,m){!0;Counter.count("Interpret Method");
var l=f.abc,p=l.constantPool.ints,r=l.constantPool.uints,s=l.constantPool.doubles,v=l.constantPool.strings,w=l.methods,z=l.constantPool.multinames,A=l.domain,C=f.exceptions;a=[a];for(var u=[],y=new ScopeStack(g),D=f.parameters.length,B=m.length,E,G=0;G<D;G++){var J=f.parameters[G];E=G<B?m[G]:J.value;J.type&&!J.type.isAnyName()&&(E=asCoerceByMultiname(A,J.type,E));a.push(E)}f.needsRest()?a.push(sliceArguments(m,D)):f.needsArguments()&&a.push(sliceArguments(m,0));var P,Q,S,O,F,H;m=[];var R,D=Multiname.TEMPORARY,
B=f.analysis.bytecodes,J=0,K=B.length;a:for(;J<K;)try{var I=B[J],M=I.op;switch(M|0){case 3:throw u.pop();case 4:R=b(u,z[I.index]);u[u.length-1]=getSuper(g,u[u.length-1],R);break;case 5:E=u.pop();R=b(u,z[I.index]);setSuper(g,u.pop(),R,E);break;case 8:a[I.index]=void 0;break;case 12:H=u.pop();F=u.pop();J=!(F<H)?I.offset:J+1;continue;case 24:H=u.pop();F=u.pop();J=F>=H?I.offset:J+1;continue;case 13:H=u.pop();F=u.pop();J=!(F<=H)?I.offset:J+1;continue;case 23:H=u.pop();F=u.pop();J=F>H?I.offset:J+1;continue;
case 14:H=u.pop();F=u.pop();J=!(F>H)?I.offset:J+1;continue;case 22:H=u.pop();F=u.pop();J=F<=H?I.offset:J+1;continue;case 15:H=u.pop();F=u.pop();J=!(F>=H)?I.offset:J+1;continue;case 21:H=u.pop();F=u.pop();J=F<H?I.offset:J+1;continue;case 16:J=I.offset;continue;case 17:J=u.pop()?I.offset:J+1;continue;case 18:J=!u.pop()?I.offset:J+1;continue;case 19:H=u.pop();F=u.pop();J=F==H?I.offset:J+1;continue;case 20:H=u.pop();F=u.pop();J=F!=H?I.offset:J+1;continue;case 25:H=u.pop();F=u.pop();J=F===H?I.offset:J+
1;continue;case 26:H=u.pop();F=u.pop();J=F!==H?I.offset:J+1;continue;case 27:Q=u.pop();if(0>Q||Q>=I.offsets.length)Q=I.offsets.length-1;J=I.offsets[Q];continue;case 28:y.push(boxValue(u.pop()),!0);break;case 29:y.pop();break;case 30:Q=u.pop();u[u.length-1]=boxValue(u[u.length-1]).asNextName(Q);break;case 35:Q=u.pop();u[u.length-1]=boxValue(u[u.length-1]).asNextValue(Q);break;case 50:O=asHasNext2(a[I.object],a[I.index]);a[I.object]=O.object;a[I.index]=O.index;u.push(!!O.index);break;case 32:u.push(null);
break;case 33:u.push(void 0);break;case 36:case 37:u.push(I.value);break;case 44:u.push(v[I.index]);break;case 45:u.push(p[I.index]);break;case 46:u.push(r[I.index]);break;case 47:u.push(s[I.index]);break;case 38:u.push(!0);break;case 39:u.push(!1);break;case 40:u.push(NaN);break;case 41:u.pop();break;case 42:u.push(u[u.length-1]);break;case 43:P=u[u.length-1];u[u.length-1]=u[u.length-2];u[u.length-2]=P;break;case 48:y.push(boxValue(u.pop()));break;case 64:u.push(createFunction(w[I.index],y.topScope(),
!0));break;case 65:popManyInto(u,I.argCount,m);P=u.pop();u[u.length-1]=u[u.length-1].apply(P,m);break;case 66:popManyInto(u,I.argCount,m);u[u.length-1]=construct(u[u.length-1],m);break;case 69:popManyInto(u,I.argCount,m);R=b(u,z[I.index]);P=u[u.length-1];u[u.length-1]=getSuper(g,P,R).apply(P,m);break;case 71:return;case 72:return f.returnType?asCoerceByMultiname(A,f.returnType,u.pop()):u.pop();case 73:popManyInto(u,I.argCount,m);P=u.pop();g.object.baseClass.instanceConstructorNoInitialize.apply(P,
m);break;case 74:popManyInto(u,I.argCount,m);d(u,z[I.index],D);P=boxValue(u[u.length-1]);P=P.asConstructProperty(D.namespaces,D.name,D.flags,m);u[u.length-1]=P;break;case 75:notImplemented();break;case 76:case 70:case 79:popManyInto(u,I.argCount,m);d(u,z[I.index],D);O=boxValue(u.pop()).asCallProperty(D.namespaces,D.name,D.flags,76===M,m);79!==M&&u.push(O);break;case 78:popManyInto(u,I.argCount,m);R=b(u,z[I.index]);P=u.pop();getSuper(g,P,R).apply(P,m);break;case 83:popManyInto(u,I.argCount,m);u[u.length-
1]=applyType(A,u[u.length-1],m);break;case 85:P={};for(G=0;G<I.argCount;G++)E=u.pop(),P[Multiname.getPublicQualifiedName(u.pop())]=E;u.push(P);break;case 86:P=[];popManyInto(u,I.argCount,m);P.push.apply(P,m);u.push(P);break;case 87:!0;u.push(createActivation(f));break;case 88:u[u.length-1]=createClass(l.classes[I.index],u[u.length-1],y.topScope());break;case 89:R=b(u,z[I.index]);u.push(getDescendants(u.pop(),R));break;case 90:!0;u.push(C[I.index].scopeObject);break;case 94:case 93:d(u,z[I.index],
D);u.push(y.topScope().findScopeProperty(D.namespaces,D.name,D.flags,A,93===M));break;case 96:S=z[I.index];u.push(y.topScope().findScopeProperty(S.namespaces,S.name,S.flags,A,!0).asGetProperty(S.namespaces,S.name,S.flags));break;case 104:case 97:E=u.pop();d(u,z[I.index],D);boxValue(u.pop()).asSetProperty(D.namespaces,D.name,D.flags,E);break;case 98:u.push(a[I.index]);break;case 99:a[I.index]=u.pop();break;case 100:u.push(g.global.object);break;case 101:u.push(y.get(I.index));break;case 102:d(u,z[I.index],
D);u[u.length-1]=boxValue(u[u.length-1]).asGetProperty(D.namespaces,D.name,D.flags);break;case 106:d(u,z[I.index],D);u[u.length-1]=boxValue(u[u.length-1]).asDeleteProperty(D.namespaces,D.name,D.flags);break;case 108:u[u.length-1]=asGetSlot(u[u.length-1],I.index);break;case 109:E=u.pop();P=u.pop();asSetSlot(P,I.index,E);break;case 112:u[u.length-1]+="";break;case 131:case 115:u[u.length-1]|=0;break;case 136:case 116:u[u.length-1]>>>=0;break;case 132:case 117:u[u.length-1]=+u[u.length-1];break;case 129:case 118:u[u.length-
1]=!!u[u.length-1];break;case 120:u[u.length-1]=checkFilter(u[u.length-1]);break;case 128:u[u.length-1]=asCoerce(A.getType(z[I.index]),u[u.length-1]);break;case 130:break;case 133:u[u.length-1]=asCoerceString(u[u.length-1]);break;case 135:u[u.length-2]=asAsType(u.pop(),u[u.length-1]);break;case 137:P=u[u.length-1];u[u.length-1]=void 0==P?null:P;break;case 144:u[u.length-1]=-u[u.length-1];break;case 145:++u[u.length-1];break;case 146:++a[I.index];break;case 147:--u[u.length-1];break;case 148:--a[I.index];
break;case 149:u[u.length-1]=asTypeOf(u[u.length-1]);break;case 150:u[u.length-1]=!u[u.length-1];break;case 151:u[u.length-1]=~u[u.length-1];break;case 160:u[u.length-2]=asAdd(u[u.length-2],u.pop());break;case 161:u[u.length-2]-=u.pop();break;case 162:u[u.length-2]*=u.pop();break;case 163:u[u.length-2]/=u.pop();break;case 164:u[u.length-2]%=u.pop();break;case 165:u[u.length-2]<<=u.pop();break;case 166:u[u.length-2]>>=u.pop();break;case 167:u[u.length-2]>>>=u.pop();break;case 168:u[u.length-2]&=u.pop();
break;case 169:u[u.length-2]|=u.pop();break;case 170:u[u.length-2]^=u.pop();break;case 171:u[u.length-2]=u[u.length-2]==u.pop();break;case 172:u[u.length-2]=u[u.length-2]===u.pop();break;case 173:u[u.length-2]=u[u.length-2]<u.pop();break;case 174:u[u.length-2]=u[u.length-2]<=u.pop();break;case 175:u[u.length-2]=u[u.length-2]>u.pop();break;case 176:u[u.length-2]=u[u.length-2]>=u.pop();break;case 177:u[u.length-2]=asIsInstanceOf(u.pop(),u[u.length-1]);break;case 178:u[u.length-1]=asIsType(A.getType(z[I.index]),
u[u.length-1]);break;case 179:u[u.length-2]=asIsType(u.pop(),u[u.length-1]);break;case 180:u[u.length-2]=boxValue(u.pop()).asHasProperty(null,u[u.length-1]);break;case 192:u[u.length-1]=(u[u.length-1]|0)+1;break;case 193:u[u.length-1]=(u[u.length-1]|0)-1;break;case 194:a[I.index]=(a[I.index]|0)+1;break;case 195:a[I.index]=(a[I.index]|0)-1;break;case 196:u[u.length-1]=~u[u.length-1];break;case 197:u[u.length-2]=u[u.length-2]+u.pop()|0;break;case 198:u[u.length-2]=u[u.length-2]-u.pop()|0;break;case 199:u[u.length-
2]=u[u.length-2]*u.pop()|0;break;case 208:case 209:case 210:case 211:u.push(a[M-208]);break;case 212:case 213:case 214:case 215:a[M-OP_setlocal0]=u.pop();break;case 239:case 240:case 241:break;default:notImplemented(opcodeName(M))}J++}catch(T){if(1>C.length)throw T;for(var T=translateError(A,T),G=0,L=C.length;G<L;G++){var N=C[G];if(J>=N.start&&J<=N.end&&(!N.typeName||A.getType(N.typeName).isInstance(T))){u.length=0;u.push(T);y.clear();J=N.offset;continue a}}throw T;}}};return a}()),AVM2=function(){function a(a,
d,e,f){this.systemDomain=new Domain(this,null,a,!0);this.applicationDomain=new Domain(this,this.systemDomain,d,!1);this.findDefiningAbc=e;this.loadAVM1=f;this.isAVM1Loaded=!1;this.exception={value:void 0}}a.currentDomain=function(){for(var a=arguments.callee,d,e=0;20>e&&a;e++){var f=a.methodInfo;if(f){d=f.abc.domain;break}a=a.caller}return d};a.callStack=[];a.getStackTrace=function(){return a.callStack.slice().reverse().map(function(a){var d="";a.method&&(a.method.holder&&(d+=a.method.holder+" "),
d+=a.method+":");return d+a.bc.originalPosition}).join("\n")};a.currentVM=function(){return a.stack.top().domain.system.vm};a.isRunning=function(){return 0!==a.stack.length};a.prototype={notifyConstruct:function(){}};return a}(),playerGlobalNames={},playerGlobalScripts={};
(function(){for(var a=[{name:"Object",offset:0,length:53432,defs:"Object Class Function Namespace Boolean Number int uint String Array AS3 bugzilla decodeURI decodeURIComponent encodeURI encodeURIComponent isNaN isFinite parseInt parseFloat escape unescape isXMLName NaN Infinity undefined __AS3__.vec:Vector __AS3__.vec:Vector$object __AS3__.vec:Vector$int __AS3__.vec:Vector$uint __AS3__.vec:Vector$double avmplus:describeTypeJSON avmplus:extendsXml avmplus:implementsXml avmplus:constructorXml avmplus:constantXml avmplus:variableXml avmplus:accessorXml avmplus:methodXml avmplus:parameterXml avmplus:metadataXml avmplus:argXml avmplus:typeXml avmplus:factoryXml avmplus:describeParams avmplus:describeMetadata avmplus:finish avmplus:describeTraits avmplus:HIDE_NSURI_METHODS avmplus:INCLUDE_BASES avmplus:INCLUDE_INTERFACES avmplus:INCLUDE_VARIABLES avmplus:INCLUDE_ACCESSORS avmplus:INCLUDE_METHODS avmplus:INCLUDE_METADATA avmplus:INCLUDE_CONSTRUCTOR avmplus:INCLUDE_TRAITS avmplus:USE_ITRAITS avmplus:HIDE_OBJECT avmplus:FLASH10_FLAGS avmplus:describeType avmplus:getQualifiedClassName avmplus:getQualifiedSuperclassName".split(" ")},{name:"flash/xml/XMLTag",
offset:53432,length:859,defs:["flash.xml:XMLTag"]},{name:"flash/net/NetStreamInfo",offset:54291,length:5307,defs:["flash.net:NetStreamInfo"]},{name:"flash/sampler/StackFrame",offset:59598,length:4475,defs:"flash.sampler:StackFrame flash.sampler:Sample flash.sampler:NewObjectSample flash.sampler:DeleteObjectSample flash.sampler:clearSamples flash.sampler:startSampling flash.sampler:stopSampling flash.sampler:pauseSampling flash.sampler:sampleInternalAllocs flash.sampler:setSamplerCallback flash.sampler:_setSamplerCallback flash.sampler:getSize flash.sampler:getMemberNames flash.sampler:getSamples flash.sampler:_getSamples flash.sampler:getSampleCount flash.sampler:getInvocationCount flash.sampler:getSetterInvocationCount flash.sampler:getGetterInvocationCount flash.sampler:_getInvocationCount flash.sampler:isGetterSetter flash.sampler:getLexicalScopes flash.sampler:getSavedThis flash.sampler:getMasterString flash.sampler:ClassFactory".split(" ")},
{name:"flash/display3D/Context3DBlendFactor",offset:64073,length:1101,defs:["flash.display3D:Context3DBlendFactor"]},{name:"flash/net/registerClassAlias",offset:65174,length:429,defs:["flash.net:registerClassAlias","flash.net:getClassByAlias"]},{name:"flash/display3D/Context3DStencilAction",offset:65603,length:896,defs:["flash.display3D:Context3DStencilAction"]},{name:"flash/text/engine/CFFHinting",offset:66499,length:504,defs:["flash.text.engine:CFFHinting"]},{name:"flash/display/IDrawCommand",offset:67003,
length:280,defs:["flash.display:IDrawCommand"]},{name:"flash/net/Responder",offset:67283,length:600,defs:["flash.net:Responder"]},{name:"flash/utils/IDataInput",offset:67883,length:2232,defs:["flash.utils:IDataInput"]},{name:"flash/utils/ObjectInput",offset:70115,length:1952,defs:["flash.utils:ObjectInput"]},{name:"flash/events/EventPhase",offset:72067,length:504,defs:["flash.events:EventPhase"]},{name:"flash/net/URLLoaderDataFormat",offset:72571,length:551,defs:["flash.net:URLLoaderDataFormat"]},
{name:"flash/net/IDynamicPropertyWriter",offset:73122,length:537,defs:["flash.net:IDynamicPropertyWriter"]},{name:"flash/geom/PerspectiveProjection",offset:73659,length:1312,defs:["flash.geom:PerspectiveProjection"]},{name:"flash/events/IEventDispatcher",offset:74971,length:1046,defs:["flash.events:IEventDispatcher"]},{name:"flash/events/EventDispatcher",offset:76017,length:3072,defs:["flash.events:EventDispatcher"]},{name:"flash/display/Stage3D",offset:79089,length:1225,defs:["flash.display:Stage3D"]},
{name:"flash/sensors/Geolocation",offset:80314,length:932,defs:["flash.sensors:Geolocation"]},{name:"Error",offset:81246,length:5961,defs:"Error DefinitionError EvalError RangeError ReferenceError SecurityError SyntaxError TypeError URIError VerifyError UninitializedError ArgumentError flash.errors:IOError flash.errors:EOFError flash.errors:MemoryError flash.errors:IllegalOperationError".split(" ")},{name:"flash/text/engine/ContentElement",offset:87207,length:1868,defs:["flash.text.engine:ContentElement"]},
{name:"flash/text/engine/TextElement",offset:89075,length:954,defs:["flash.text.engine:TextElement"]},{name:"flash/concurrent/Mutex",offset:90029,length:2484,defs:["flash.concurrent:Mutex","flash.concurrent:Condition","avm2.intrinsics.memory:mfence","avm2.intrinsics.memory:casi32"]},{name:"flash/display/NativeMenu",offset:92513,length:604,defs:["flash.display:NativeMenu"]},{name:"flash/ui/ContextMenu",offset:93117,length:2359,defs:["flash.ui:ContextMenu"]},{name:"flash/net/drm/DRMManagerSession",
offset:95476,length:20509,defs:"flash.net.drm:DRMManagerSession flash.net.drm:DRMAuthenticationContext flash.net.drm:DRMPlaybackTimeWindow flash.net.drm:DRMVoucher flash.net.drm:DRMVoucherDownloadContext flash.net.drm:DRMVoucherStoreContext flash.net.drm:DRMManager flash.net.drm:DRMModuleCycleProvider flash.net.drm:DRMURLDownloadContext".split(" ")},{name:"flash/display/IBitmapDrawable",offset:115985,length:281,defs:["flash.display:IBitmapDrawable"]},{name:"flash/display/DisplayObject",offset:116266,
length:5912,defs:["flash.display:DisplayObject"]},{name:"flash/display/Bitmap",offset:122178,length:1149,defs:["flash.display:Bitmap"]},{name:"flash/globalization/DateTimeFormatter",offset:123327,length:2422,defs:["flash.globalization:DateTimeFormatter"]},{name:"flash/media/VideoStatus",offset:125749,length:545,defs:["flash.media:VideoStatus"]},{name:"flash/system/fscommand",offset:126294,length:632,defs:["flash.system:fscommand","flash.system:FSCommand"]},{name:"adobe/utils/MMExecute",offset:126926,
length:436,defs:["adobe.utils:MMExecute","adobe.utils:MMEndCommand"]},{name:"flash/external/ExternalInterface",offset:127362,length:7206,defs:["flash.external:ExternalInterface"]},{name:"flash/security/CertificateStatus",offset:134568,length:939,defs:["flash.security:CertificateStatus"]},{name:"flash/system/Security",offset:135507,length:2365,defs:["flash.system:Security"]},{name:"flash/events/Event",offset:137872,length:4511,defs:["flash.events:Event"]},{name:"flash/events/KeyboardEvent",offset:142383,
length:2329,defs:["flash.events:KeyboardEvent"]},{name:"flash/net/navigateToURL",offset:144712,length:392,defs:["flash.net:navigateToURL","flash.net:sendToURL"]},{name:"flash/events/SoftKeyboardTrigger",offset:145104,length:562,defs:["flash.events:SoftKeyboardTrigger"]},{name:"flash/display3D/Context3DRenderMode",offset:145666,length:534,defs:["flash.display3D:Context3DRenderMode"]},{name:"flash/ui/GameInputControl",offset:146200,length:1234,defs:["flash.ui:GameInputControl"]},{name:"flash/geom/Matrix",
offset:147434,length:4980,defs:["flash.geom:Matrix"]},{name:"flash/events/ThrottleType",offset:152414,length:534,defs:["flash.events:ThrottleType"]},{name:"flash/text/TextInteractionMode",offset:152948,length:526,defs:["flash.text:TextInteractionMode"]},{name:"flash/filters/DisplacementMapFilterMode",offset:153474,length:636,defs:["flash.filters:DisplacementMapFilterMode"]},{name:"flash/geom/Rectangle",offset:154110,length:5057,defs:["flash.geom:Rectangle"]},{name:"flash/net/drm/AuthenticationMethod",
offset:159167,length:1246,defs:["flash.net.drm:AuthenticationMethod","flash.net.drm:LoadVoucherSetting","flash.net.drm:AddToDeviceGroupSetting"]},{name:"flash/utils/Timer",offset:160413,length:2134,defs:["flash.utils:Timer"]},{name:"flash/utils/SetIntervalTimer",offset:162547,length:1758,defs:["flash.utils:SetIntervalTimer","flash.utils:setInterval","flash.utils:setTimeout","flash.utils:clearInterval","flash.utils:clearTimeout"]},{name:"flash/text/engine/TextJustifier",offset:164305,length:1512,defs:["flash.text.engine:TextJustifier"]},
{name:"flash/media/Microphone",offset:165817,length:3070,defs:["flash.media:Microphone"]},{name:"flash/sensors/Accelerometer",offset:168887,length:958,defs:["flash.sensors:Accelerometer"]},{name:"flash/display3D/textures/TextureBase",offset:169845,length:622,defs:["flash.display3D.textures:TextureBase"]},{name:"flash/display3D/textures/Texture",offset:170467,length:1061,defs:["flash.display3D.textures:Texture"]},{name:"flash/net/drm/DRMDeviceGroup",offset:171528,length:1200,defs:["flash.net.drm:DRMDeviceGroup"]},
{name:"flash/display/InteractiveObject",offset:172728,length:4152,defs:["flash.display:InteractiveObject"]},{name:"flash/display/DisplayObjectContainer",offset:176880,length:2730,defs:["flash.display:DisplayObjectContainer"]},{name:"flash/display/FocusDirection",offset:179610,length:11058,defs:["flash.display:FocusDirection","flash.display:Stage"]},{name:"flash/events/UncaughtErrorEvents",offset:190668,length:573,defs:["flash.events:UncaughtErrorEvents"]},{name:"flash/display/IGraphicsData",offset:191241,
length:289,defs:["flash.display:IGraphicsData"]},{name:"flash/display/IGraphicsFill",offset:191530,length:289,defs:["flash.display:IGraphicsFill"]},{name:"flash/display/GraphicsEndFill",offset:191819,length:485,defs:["flash.display:GraphicsEndFill"]},{name:"flash/accessibility/Accessibility",offset:192304,length:842,defs:["flash.accessibility:Accessibility"]},{name:"flash/text/GridFitType",offset:193146,length:503,defs:["flash.text:GridFitType"]},{name:"flash/globalization/CollatorMode",offset:193649,
length:517,defs:["flash.globalization:CollatorMode"]},{name:"adobe/utils/CustomActions",offset:194166,length:799,defs:["adobe.utils:CustomActions"]},{name:"flash/errors/StackOverflowError",offset:194965,length:1011,defs:["flash.errors:StackOverflowError","flash.errors:ScriptTimeoutError","flash.errors:InvalidSWFError"]},{name:"flash/media/VideoCodec",offset:195976,length:510,defs:["flash.media:VideoCodec"]},{name:"flash/geom/Point",offset:196486,length:2138,defs:["flash.geom:Point"]},{name:"flash/ui/Mouse",
offset:198624,length:996,defs:["flash.ui:Mouse"]},{name:"flash/xml/XMLParser",offset:199620,length:619,defs:["flash.xml:XMLParser"]},{name:"flash/net/NetGroupInfo",offset:200239,length:2622,defs:["flash.net:NetGroupInfo"]},{name:"flash/display/ShaderJob",offset:202861,length:1486,defs:["flash.display:ShaderJob"]},{name:"flash/text/FontStyle",offset:204347,length:547,defs:["flash.text:FontStyle"]},{name:"flash/accessibility/ISearchableText",offset:204894,length:479,defs:["flash.accessibility:ISearchableText"]},
{name:"flash/display/GraphicsShaderFill",offset:205373,length:648,defs:["flash.display:GraphicsShaderFill"]},{name:"flash/net/NetStream",offset:206021,length:12820,defs:["flash.net:NetStream"]},{name:"flash/printing/PrintJobOptions",offset:218841,length:520,defs:["flash.printing:PrintJobOptions"]},{name:"flash/net/FileReference",offset:219361,length:3031,defs:["flash.net:FileReference"]},{name:"flash/display/StageQuality",offset:222392,length:777,defs:["flash.display:StageQuality"]},{name:"flash/geom/Transform",
offset:223169,length:1655,defs:["flash.geom:Transform"]},{name:"flash/accessibility/AccessibilityProperties",offset:224824,length:783,defs:["flash.accessibility:AccessibilityProperties"]},{name:"flash/filters/BitmapFilter",offset:225607,length:554,defs:["flash.filters:BitmapFilter"]},{name:"flash/filters/DropShadowFilter",offset:226161,length:2578,defs:["flash.filters:DropShadowFilter"]},{name:"flash/system/ApplicationInstaller",offset:228739,length:1092,defs:["flash.system:ApplicationInstaller"]},
{name:"flash/display3D/Context3DVertexBufferFormat",offset:229831,length:725,defs:["flash.display3D:Context3DVertexBufferFormat"]},{name:"flash/globalization/DateTimeNameContext",offset:230556,length:561,defs:["flash.globalization:DateTimeNameContext"]},{name:"flash/display/GraphicsSolidFill",offset:231117,length:635,defs:["flash.display:GraphicsSolidFill"]},{name:"flash/display/ShaderParameterType",offset:231752,length:1144,defs:["flash.display:ShaderParameterType"]},{name:"flash/filters/GradientGlowFilter",
offset:232896,length:2661,defs:["flash.filters:GradientGlowFilter"]},{name:"JSON",offset:235557,length:2655,defs:["JSON","Walker"]},{name:"flash/system/SecurityDomain",offset:238212,length:813,defs:["flash.system:SecurityDomain"]},{name:"flash/net/IDynamicPropertyOutput",offset:239025,length:507,defs:["flash.net:IDynamicPropertyOutput"]},{name:"flash/net/DynamicPropertyOutput",offset:239532,length:695,defs:["flash.net:DynamicPropertyOutput"]},{name:"flash/media/SoundTransform",offset:240227,length:1599,
defs:["flash.media:SoundTransform"]},{name:"flash/text/engine/FontLookup",offset:241826,length:501,defs:["flash.text.engine:FontLookup"]},{name:"flash/display/MorphShape",offset:242327,length:526,defs:["flash.display:MorphShape"]},{name:"flash/net/LocalConnection",offset:242853,length:1613,defs:["flash.net:LocalConnection"]},{name:"flash/display3D/Program3D",offset:244466,length:707,defs:["flash.display3D:Program3D"]},{name:"flash/ui/MouseCursor",offset:245173,length:596,defs:["flash.ui:MouseCursor"]},
{name:"flash/events/TextEvent",offset:245769,length:1293,defs:["flash.events:TextEvent"]},{name:"flash/net/URLRequestHeader",offset:247062,length:542,defs:["flash.net:URLRequestHeader"]},{name:"flash/display/TriangleCulling",offset:247604,length:561,defs:["flash.display:TriangleCulling"]},{name:"flash/display/JPEGEncoderOptions",offset:248165,length:624,defs:["flash.display:JPEGEncoderOptions"]},{name:"flash/net/URLLoader",offset:248789,length:2592,defs:["flash.net:URLLoader"]},{name:"flash/accessibility/ISimpleTextSelection",
offset:251381,length:685,defs:["flash.accessibility:ISimpleTextSelection"]},{name:"flash/display/Sprite",offset:252066,length:1976,defs:["flash.display:Sprite"]},{name:"_3fa260287b70f9c2758634de100a49d54c3f5d3f6359cd77d07fc7f4a8ccecbd_flash_display_Sprite",offset:254042,length:1433,defs:["_3fa260287b70f9c2758634de100a49d54c3f5d3f6359cd77d07fc7f4a8ccecbd_flash_display_Sprite"]},{name:"flash/utils/IDataOutput",offset:255475,length:1976,defs:["flash.utils:IDataOutput"]},{name:"flash/net/Socket",offset:257451,
length:4914,defs:["flash.net:Socket"]},{name:"flash/net/SecureSocket",offset:262365,length:3247,defs:["flash.net:SecureSocket"]},{name:"flash/text/engine/TypographicCase",offset:265612,length:793,defs:["flash.text.engine:TypographicCase"]},{name:"flash/display/IGraphicsPath",offset:266405,length:289,defs:["flash.display:IGraphicsPath"]},{name:"flash/display/GraphicsTrianglePath",offset:266694,length:1240,defs:["flash.display:GraphicsTrianglePath"]},{name:"flash/display/PixelSnapping",offset:267934,
length:521,defs:["flash.display:PixelSnapping"]},{name:"flash/display3D/Context3DProgramType",offset:268455,length:543,defs:["flash.display3D:Context3DProgramType"]},{name:"flash/display/Shape",offset:268998,length:590,defs:["flash.display:Shape"]},{name:"flash/media/SoundMixer",offset:269588,length:1436,defs:["flash.media:SoundMixer"]},{name:"flash/filters/ConvolutionFilter",offset:271024,length:2284,defs:["flash.filters:ConvolutionFilter"]},{name:"flash/net/NetGroupReceiveMode",offset:273308,length:523,
defs:["flash.net:NetGroupReceiveMode"]},{name:"flash/events/DRMDeviceGroupEvent",offset:273831,length:1334,defs:["flash.events:DRMDeviceGroupEvent"]},{name:"flash/text/engine/TextLineCreationResult",offset:275165,length:689,defs:["flash.text.engine:TextLineCreationResult"]},{name:"flash/events/StatusEvent",offset:275854,length:1267,defs:["flash.events:StatusEvent"]},{name:"flash/display/ShaderData",offset:277121,length:672,defs:["flash.display:ShaderData"]},{name:"flash/system/WorkerState",offset:277793,
length:2870,defs:["flash.system:WorkerState","flash.system:Worker"]},{name:"flash/system/LoaderContext",offset:280663,length:1320,defs:["flash.system:LoaderContext"]},{name:"flash/system/JPEGLoaderContext",offset:281983,length:735,defs:["flash.system:JPEGLoaderContext"]},{name:"flash/debugger/enterDebugger",offset:282718,length:279,defs:["flash.debugger:enterDebugger"]},{name:"flash/ui/Multitouch",offset:282997,length:1121,defs:["flash.ui:Multitouch"]},{name:"Date",offset:284118,length:10379,defs:["Date"]},
{name:"flash/display/SWFVersion",offset:294497,length:864,defs:["flash.display:SWFVersion"]},{name:"flash/events/ProgressEvent",offset:295361,length:1435,defs:["flash.events:ProgressEvent"]},{name:"flash/media/scanHardware",offset:296796,length:2968,defs:["flash.media:scanHardware","flash.media:Camera"]},{name:"flash/text/engine/TextBaseline",offset:299764,length:832,defs:["flash.text.engine:TextBaseline"]},{name:"flash/text/AntiAliasType",offset:300596,length:474,defs:["flash.text:AntiAliasType"]},
{name:"flash/net/NetGroup",offset:301070,length:5049,defs:["flash.net:NetGroup"]},{name:"flash/events/ErrorEvent",offset:306119,length:1052,defs:["flash.events:ErrorEvent"]},{name:"flash/events/IOErrorEvent",offset:307171,length:1204,defs:["flash.events:IOErrorEvent"]},{name:"flash/utils/describeType",offset:308375,length:1393,defs:"flash.utils:describeType flash.utils:getAliasName flash.utils:getQualifiedClassName flash.utils:getDefinitionByName flash.utils:getQualifiedSuperclassName flash.utils:getTimer flash.utils:escapeMultiByte flash.utils:unescapeMultiByte trace watson".split(" ")},
{name:"flash/display/ColorCorrectionSupport",offset:309768,length:621,defs:["flash.display:ColorCorrectionSupport"]},{name:"flash/ui/MultitouchInputMode",offset:310389,length:573,defs:["flash.ui:MultitouchInputMode"]},{name:"flash/text/TextFormatAlign",offset:310962,length:658,defs:["flash.text:TextFormatAlign"]},{name:"flash/text/engine/Kerning",offset:311620,length:500,defs:["flash.text.engine:Kerning"]},{name:"flash/net/NetStreamAppendBytesAction",offset:312120,length:639,defs:["flash.net:NetStreamAppendBytesAction"]},
{name:"flash/display/IGraphicsStroke",offset:312759,length:297,defs:["flash.display:IGraphicsStroke"]},{name:"flash/net/NetGroupSendResult",offset:313056,length:560,defs:["flash.net:NetGroupSendResult"]},{name:"flash/display/LineScaleMode",offset:313616,length:582,defs:["flash.display:LineScaleMode"]},{name:"flash/events/AsyncErrorEvent",offset:314198,length:1076,defs:["flash.events:AsyncErrorEvent"]},{name:"flash/display/StageScaleMode",offset:315274,length:595,defs:["flash.display:StageScaleMode"]},
{name:"flash/ui/GameInput",offset:315869,length:835,defs:["flash.ui:GameInput"]},{name:"flash/filters/BitmapFilterQuality",offset:316704,length:535,defs:["flash.filters:BitmapFilterQuality"]},{name:"flash/profiler/profile",offset:317239,length:454,defs:["flash.profiler:profile","flash.profiler:showRedrawRegions"]},{name:"flash/display/BitmapData",offset:317693,length:4790,defs:["flash.display:BitmapData"]},{name:"flash/events/ShaderEvent",offset:322483,length:1669,defs:["flash.events:ShaderEvent"]},
{name:"flash/events/TimerEvent",offset:324152,length:1048,defs:["flash.events:TimerEvent"]},{name:"XML",offset:325200,length:12638,defs:["XML","XMLList","QName"]},{name:"flash/ui/GameInputHand",offset:337838,length:523,defs:["flash.ui:GameInputHand"]},{name:"Math",offset:338361,length:1672,defs:["Math"]},{name:"flash/events/DRMAuthenticateEvent",offset:340033,length:2108,defs:["flash.events:DRMAuthenticateEvent"]},{name:"flash/media/H264Level",offset:342141,length:1104,defs:["flash.media:H264Level"]},
{name:"flash/text/FontType",offset:343245,length:504,defs:["flash.text:FontType"]},{name:"flash/display/NativeMenuItem",offset:343749,length:787,defs:["flash.display:NativeMenuItem"]},{name:"flash/net/FileFilter",offset:344536,length:937,defs:["flash.net:FileFilter"]},{name:"flash/text/Font",offset:345473,length:845,defs:["flash.text:Font"]},{name:"flash/events/SampleDataEvent",offset:346318,length:1415,defs:["flash.events:SampleDataEvent"]},{name:"flash/utils/Endian",offset:347733,length:454,defs:["flash.utils:Endian"]},
{name:"flash/filters/BevelFilter",offset:348187,length:2674,defs:["flash.filters:BevelFilter"]},{name:"flash/net/SharedObject",offset:350861,length:3383,defs:["flash.net:SharedObject"]},{name:"flash/media/SoundLoaderContext",offset:354244,length:596,defs:["flash.media:SoundLoaderContext"]},{name:"flash/events/AccelerometerEvent",offset:354840,length:1946,defs:["flash.events:AccelerometerEvent"]},{name:"flash/display/ShaderParameter",offset:356786,length:845,defs:["flash.display:ShaderParameter"]},
{name:"flash/ui/ContextMenuClipboardItems",offset:357631,length:1879,defs:["flash.ui:ContextMenuClipboardItems"]},{name:"flash/media/SoundCodec",offset:359510,length:563,defs:["flash.media:SoundCodec"]},{name:"flash/events/DRMCustomProperties",offset:360073,length:2540,defs:["flash.events:DRMCustomProperties","flash.events:DRMStatusEvent"]},{name:"flash/automation/ActionGenerator",offset:362613,length:801,defs:["flash.automation:ActionGenerator"]},{name:"flash/text/TextFormat",offset:363414,length:3332,
defs:["flash.text:TextFormat"]},{name:"flash/events/NetStatusEvent",offset:366746,length:1085,defs:["flash.events:NetStatusEvent"]},{name:"flash/display/GraphicsBitmapFill",offset:367831,length:760,defs:["flash.display:GraphicsBitmapFill"]},{name:"flash/system/DomainMemoryWithStage3D",offset:368591,length:1743,defs:["flash.system:DomainMemoryWithStage3D"]},{name:"flash/system/MessageChannelState",offset:370334,length:2210,defs:["flash.system:MessageChannelState","flash.system:MessageChannel"]},{name:"RegExp",
offset:372544,length:1471,defs:["RegExp"]},{name:"flash/display/LoaderInfo",offset:374015,length:3881,defs:["flash.display:LoaderInfo"]},{name:"flash/text/TextDisplayMode",offset:377896,length:518,defs:["flash.text:TextDisplayMode"]},{name:"flash/net/URLRequestMethod",offset:378414,length:624,defs:["flash.net:URLRequestMethod"]},{name:"flash/display/Shader",offset:379038,length:961,defs:["flash.display:Shader"]},{name:"flash/events/NetDataEvent",offset:379999,length:1149,defs:["flash.events:NetDataEvent"]},
{name:"flash/system/ImageDecodingPolicy",offset:381148,length:539,defs:["flash.system:ImageDecodingPolicy"]},{name:"flash/display/GraphicsGradientFill",offset:381687,length:2224,defs:["flash.display:GraphicsGradientFill"]},{name:"flash/text/engine/TextLineMirrorRegion",offset:383911,length:1170,defs:["flash.text.engine:TextLineMirrorRegion"]},{name:"flash/display3D/IndexBuffer3D",offset:385081,length:921,defs:["flash.display3D:IndexBuffer3D"]},{name:"flash/events/IMEEvent",offset:386002,length:1303,
defs:["flash.events:IMEEvent"]},{name:"flash/text/engine/TextLine",offset:387305,length:5029,defs:["flash.text.engine:TextLine"]},{name:"flash/display3D/VertexBuffer3D",offset:392334,length:940,defs:["flash.display3D:VertexBuffer3D"]},{name:"flash/utils/CompressionAlgorithm",offset:393274,length:5295,defs:["flash.utils:CompressionAlgorithm","flash.utils:IDataInput2","flash.utils:IDataOutput2","flash.utils:ByteArray"]},{name:"flash/display/FrameLabel",offset:398569,length:871,defs:["flash.display:FrameLabel"]},
{name:"adobe/utils/ProductManager",offset:399440,length:2071,defs:["adobe.utils:ProductManager"]},{name:"flash/events/GameInputEvent",offset:401511,length:849,defs:["flash.events:GameInputEvent"]},{name:"flash/net/ObjectEncoding",offset:402360,length:794,defs:["flash.net:ObjectEncoding"]},{name:"flash/geom/Matrix3D",offset:403154,length:3313,defs:["flash.geom:Matrix3D"]},{name:"flash/media/H264Profile",offset:406467,length:474,defs:["flash.media:H264Profile"]},{name:"flash/display/Scene",offset:406941,
length:802,defs:["flash.display:Scene"]},{name:"flash/display3D/Context3DClearMask",offset:407743,length:611,defs:["flash.display3D:Context3DClearMask"]},{name:"flash/net/NetStreamMulticastInfo",offset:408354,length:5325,defs:["flash.net:NetStreamMulticastInfo"]},{name:"flash/globalization/LastOperationStatus",offset:413679,length:1671,defs:["flash.globalization:LastOperationStatus"]},{name:"flash/events/ActivityEvent",offset:415350,length:1099,defs:["flash.events:ActivityEvent"]},{name:"flash/net/NetConnection",
offset:416449,length:3692,defs:["flash.net:NetConnection"]},{name:"flash/events/VideoEvent",offset:420141,length:968,defs:["flash.events:VideoEvent"]},{name:"flash/filters/BitmapFilterType",offset:421109,length:535,defs:["flash.filters:BitmapFilterType"]},{name:"flash/display/SpreadMethod",offset:421644,length:519,defs:["flash.display:SpreadMethod"]},{name:"flash/text/TextField",offset:422163,length:10471,defs:["flash.text:TextField"]},{name:"flash/events/GestureEvent",offset:432634,length:2768,defs:["flash.events:GestureEvent"]},
{name:"flash/events/PressAndTapGestureEvent",offset:435402,length:2208,defs:["flash.events:PressAndTapGestureEvent"]},{name:"flash/media/SoundChannel",offset:437610,length:1031,defs:["flash.media:SoundChannel"]},{name:"flash/text/engine/EastAsianJustifier",offset:438641,length:1350,defs:["flash.text.engine:EastAsianJustifier"]},{name:"flash/accessibility/AccessibilityImplementation",offset:439991,length:2663,defs:["flash.accessibility:AccessibilityImplementation"]},{name:"flash/text/CSMSettings",
offset:442654,length:648,defs:["flash.text:CSMSettings"]},{name:"flash/net/drm/DRMContentData",offset:443302,length:2300,defs:["flash.net.drm:DRMContentData"]},{name:"flash/events/StageVideoAvailabilityEvent",offset:445602,length:890,defs:["flash.events:StageVideoAvailabilityEvent"]},{name:"flash/net/NetGroupSendMode",offset:446492,length:538,defs:["flash.net:NetGroupSendMode"]},{name:"flash/text/TextRun",offset:447030,length:569,defs:["flash.text:TextRun"]},{name:"flash/net/XMLSocket",offset:447599,
length:2766,defs:["flash.net:XMLSocket"]},{name:"flash/utils/Dictionary",offset:450365,length:722,defs:["flash.utils:Dictionary"]},{name:"flash/display3D/Context3DCompareMode",offset:451087,length:827,defs:["flash.display3D:Context3DCompareMode"]},{name:"flash/text/TextFieldAutoSize",offset:451914,length:578,defs:["flash.text:TextFieldAutoSize"]},{name:"flash/text/engine/GroupElement",offset:452492,length:1911,defs:["flash.text.engine:GroupElement"]},{name:"flash/automation/AutomationAction",offset:454403,
length:669,defs:["flash.automation:AutomationAction"]},{name:"flash/automation/KeyboardAutomationAction",offset:455072,length:992,defs:["flash.automation:KeyboardAutomationAction"]},{name:"flash/net/NetStreamPlayOptions",offset:456064,length:891,defs:["flash.net:NetStreamPlayOptions"]},{name:"flash/text/engine/ElementFormat",offset:456955,length:4281,defs:["flash.text.engine:ElementFormat"]},{name:"flash/filters/DisplacementMapFilter",offset:461236,length:2454,defs:["flash.filters:DisplacementMapFilter"]},
{name:"flash/globalization/CurrencyParseResult",offset:463690,length:936,defs:["flash.globalization:CurrencyParseResult"]},{name:"flash/display3D/Context3D",offset:464626,length:5441,defs:["flash.display3D:Context3D"]},{name:"flash/printing/PrintJob",offset:470067,length:2693,defs:["flash.printing:PrintJob"]},{name:"flash/xml/XMLNodeType",offset:472760,length:746,defs:["flash.xml:XMLNodeType"]},{name:"flash/events/TransformGestureEvent",offset:473506,length:2762,defs:["flash.events:TransformGestureEvent"]},
{name:"flash/net/GroupSpecifier",offset:476268,length:9817,defs:["flash.net:GroupSpecifier"]},{name:"flash/system/SecurityPanel",offset:486085,length:760,defs:["flash.system:SecurityPanel"]},{name:"flash/globalization/Collator",offset:486845,length:2251,defs:["flash.globalization:Collator"]},{name:"flash/display/Graphics",offset:489096,length:5565,defs:["flash.display:Graphics"]},{name:"flash/ui/ContextMenuItem",offset:494661,length:1400,defs:["flash.ui:ContextMenuItem"]},{name:"flash/net/FileReferenceList",
offset:496061,length:805,defs:["flash.net:FileReferenceList"]},{name:"flash/events/DataEvent",offset:496866,length:1126,defs:["flash.events:DataEvent"]},{name:"flash/ui/GameInputFinger",offset:497992,length:584,defs:["flash.ui:GameInputFinger"]},{name:"flash/geom/Utils3D",offset:498576,length:768,defs:["flash.geom:Utils3D"]},{name:"flash/text/TextColorType",offset:499344,length:476,defs:["flash.text:TextColorType"]},{name:"flash/ui/KeyLocation",offset:499820,length:574,defs:["flash.ui:KeyLocation"]},
{name:"flash/display/BitmapDataChannel",offset:500394,length:566,defs:["flash.display:BitmapDataChannel"]},{name:"flash/text/StaticText",offset:500960,length:616,defs:["flash.text:StaticText"]},{name:"flash/events/FocusEvent",offset:501576,length:2097,defs:["flash.events:FocusEvent"]},{name:"flash/display/BlendMode",offset:503673,length:1090,defs:["flash.display:BlendMode"]},{name:"flash/net/SharedObjectFlushStatus",offset:504763,length:531,defs:["flash.net:SharedObjectFlushStatus"]},{name:"flash/display/GraphicsPath",
offset:505294,length:2513,defs:["flash.display:GraphicsPath"]},{name:"flash/events/HTTPStatusEvent",offset:507807,length:1677,defs:["flash.events:HTTPStatusEvent"]},{name:"flash/geom/Orientation3D",offset:509484,length:560,defs:["flash.geom:Orientation3D"]},{name:"flash/text/engine/TextBlock",offset:510044,length:5617,defs:["flash.text.engine:TextBlock"]},{name:"flash/system/System",offset:515661,length:1753,defs:["flash.system:System"]},{name:"flash/filters/BlurFilter",offset:517414,length:1123,
defs:["flash.filters:BlurFilter"]},{name:"flash/media/StageVideoAvailability",offset:518537,length:556,defs:["flash.media:StageVideoAvailability"]},{name:"flash/system/Capabilities",offset:519093,length:3483,defs:["flash.system:Capabilities"]},{name:"flash/system/ApplicationDomain",offset:522576,length:1494,defs:["flash.system:ApplicationDomain"]},{name:"flash/display/StageAlign",offset:524070,length:716,defs:["flash.display:StageAlign"]},{name:"flash/text/TextFieldType",offset:524786,length:470,
defs:["flash.text:TextFieldType"]},{name:"flash/display/GraphicsStroke",offset:525256,length:2213,defs:["flash.display:GraphicsStroke"]},{name:"flash/utils/flash_proxy",offset:527469,length:1800,defs:["flash.utils:flash_proxy","flash.utils:Proxy"]},{name:"flash/globalization/DateTimeStyle",offset:529269,length:647,defs:["flash.globalization:DateTimeStyle"]},{name:"flash/events/DRMAuthenticationErrorEvent",offset:529916,length:1895,defs:["flash.events:DRMAuthenticationErrorEvent"]},{name:"flash/net/NetGroupReplicationStrategy",
offset:531811,length:591,defs:["flash.net:NetGroupReplicationStrategy"]},{name:"flash/events/NetFilterEvent",offset:532402,length:950,defs:["flash.events:NetFilterEvent"]},{name:"flash/geom/Vector3D",offset:533352,length:3920,defs:["flash.geom:Vector3D"]},{name:"flash/events/ThrottleEvent",offset:537272,length:1278,defs:["flash.events:ThrottleEvent"]},{name:"flash/globalization/LocaleID",offset:538550,length:1487,defs:["flash.globalization:LocaleID"]},{name:"flash/events/GesturePhase",offset:540037,
length:570,defs:["flash.events:GesturePhase"]},{name:"flash/globalization/DateTimeNameStyle",offset:540607,length:627,defs:["flash.globalization:DateTimeNameStyle"]},{name:"flash/automation/MouseAutomationAction",offset:541234,length:1829,defs:["flash.automation:MouseAutomationAction"]},{name:"flash/ui/GameInputControlType",offset:543063,length:738,defs:["flash.ui:GameInputControlType"]},{name:"flash/display3D/Context3DTextureFormat",offset:543801,length:631,defs:["flash.display3D:Context3DTextureFormat"]},
{name:"flash/ui/MouseCursorData",offset:544432,length:1004,defs:["flash.ui:MouseCursorData"]},{name:"flash/display/StageDisplayState",offset:545436,length:592,defs:["flash.display:StageDisplayState"]},{name:"flash/net/NetMonitor",offset:546028,length:655,defs:["flash.net:NetMonitor"]},{name:"flash/events/SyncEvent",offset:546683,length:1055,defs:["flash.events:SyncEvent"]},{name:"flash/globalization/NumberFormatter",offset:547738,length:3379,defs:["flash.globalization:NumberFormatter"]},{name:"flash/media/MicrophoneEnhancedOptions",
offset:551117,length:2019,defs:["flash.media:MicrophoneEnhancedOptions"]},{name:"flash/xml/XMLNode",offset:553136,length:4338,defs:["flash.xml:XMLNode"]},{name:"flash/trace/Trace",offset:557474,length:1014,defs:["flash.trace:Trace"]},{name:"flash/system/IMEConversionMode",offset:558488,length:793,defs:["flash.system:IMEConversionMode"]},{name:"flash/text/TextFormatDisplay",offset:559281,length:508,defs:["flash.text:TextFormatDisplay"]},{name:"flash/events/DRMErrorEvent",offset:559789,length:2017,
defs:["flash.events:DRMErrorEvent"]},{name:"flash/filters/ColorMatrixFilter",offset:561806,length:895,defs:["flash.filters:ColorMatrixFilter"]},{name:"flash/system/SystemUpdater",offset:562701,length:2410,defs:["flash.system:SystemUpdater","flash.system:SystemUpdaterType"]},{name:"flash/display/ActionScriptVersion",offset:565111,length:515,defs:["flash.display:ActionScriptVersion"]},{name:"flash/media/Video",offset:565626,length:1376,defs:["flash.media:Video"]},{name:"flash/desktop/ClipboardFormats",
offset:567002,length:8298,defs:["flash.desktop:ClipboardFormats","flash.desktop:ClipboardTransferMode","flash.desktop:Clipboard"]},{name:"flash/display/AVM1Movie",offset:575300,length:1865,defs:["flash.display:AVM1Movie"]},{name:"flash/filters/GradientBevelFilter",offset:577165,length:2694,defs:["flash.filters:GradientBevelFilter"]},{name:"flash/ui/ContextMenuBuiltInItems",offset:579859,length:2547,defs:["flash.ui:ContextMenuBuiltInItems"]},{name:"flash/text/engine/BreakOpportunity",offset:582406,
length:601,defs:["flash.text.engine:BreakOpportunity"]},{name:"flash/display/PNGEncoderOptions",offset:583007,length:627,defs:["flash.display:PNGEncoderOptions"]},{name:"flash/globalization/NationalDigitsType",offset:583634,length:1896,defs:["flash.globalization:NationalDigitsType"]},{name:"flash/text/TextExtent",offset:585530,length:695,defs:["flash.text:TextExtent"]},{name:"flash/text/engine/GraphicElement",offset:586225,length:1341,defs:["flash.text.engine:GraphicElement"]},{name:"flash/system/IME",
offset:587566,length:1381,defs:["flash.system:IME"]},{name:"flash/text/engine/FontMetrics",offset:588947,length:1075,defs:["flash.text.engine:FontMetrics"]},{name:"flash/security/X509Certificate",offset:590022,length:1735,defs:["flash.security:X509Certificate"]},{name:"flash/events/TouchEvent",offset:591757,length:5240,defs:["flash.events:TouchEvent"]},{name:"flash/text/engine/TextRotation",offset:596997,length:661,defs:["flash.text.engine:TextRotation"]},{name:"flash/display3D/Context3DProfile",
offset:597658,length:547,defs:["flash.display3D:Context3DProfile"]},{name:"flash/text/ime/IIMEClient",offset:598205,length:1802,defs:["flash.text.ime:IIMEClient"]},{name:"flash/display3D/Context3DTriangleFace",offset:600007,length:641,defs:["flash.display3D:Context3DTriangleFace"]},{name:"flash/events/MouseEvent",offset:600648,length:4905,defs:["flash.events:MouseEvent"]},{name:"flash/xml/XMLDocument",offset:605553,length:3522,defs:["flash.xml:XMLDocument"]},{name:"flash/text/engine/RenderingMode",
offset:609075,length:502,defs:["flash.text.engine:RenderingMode"]},{name:"flash/net/URLRequest",offset:609577,length:2169,defs:["flash.net:URLRequest"]},{name:"flash/automation/StageCapture",offset:611746,length:1555,defs:["flash.automation:StageCapture"]},{name:"flash/media/StageVideo",offset:613301,length:1641,defs:["flash.media:StageVideo"]},{name:"flash/events/DRMDeviceGroupErrorEvent",offset:614942,length:2201,defs:["flash.events:DRMDeviceGroupErrorEvent"]},{name:"flash/events/SoftKeyboardEvent",
offset:617143,length:1653,defs:["flash.events:SoftKeyboardEvent"]},{name:"flash/errors/DRMManagerError",offset:618796,length:874,defs:["flash.errors:DRMManagerError"]},{name:"flash/text/engine/FontPosture",offset:619670,length:494,defs:["flash.text.engine:FontPosture"]},{name:"flash/display/JointStyle",offset:620164,length:502,defs:["flash.display:JointStyle"]},{name:"flash/display/ShaderPrecision",offset:620666,length:502,defs:["flash.display:ShaderPrecision"]},{name:"flash/text/engine/LineJustification",
offset:621168,length:710,defs:["flash.text.engine:LineJustification"]},{name:"flash/globalization/StringTools",offset:621878,length:1250,defs:["flash.globalization:StringTools"]},{name:"flash/text/StyleSheet",offset:623128,length:3305,defs:["flash.text:StyleSheet"]},{name:"flash/display/ShaderInput",offset:626433,length:1038,defs:["flash.display:ShaderInput"]},{name:"flash/net/NetStreamPlayTransitions",offset:627471,length:848,defs:["flash.net:NetStreamPlayTransitions"]},{name:"flash/display/BitmapEncodingColorSpace",
offset:628319,length:688,defs:["flash.display:BitmapEncodingColorSpace"]},{name:"flash/display/InterpolationMethod",offset:629007,length:518,defs:["flash.display:InterpolationMethod"]},{name:"flash/media/ID3Info",offset:629525,length:541,defs:["flash.media:ID3Info"]},{name:"flash/system/TouchscreenType",offset:630066,length:549,defs:["flash.system:TouchscreenType"]},{name:"flash/events/DRMAuthenticationCompleteEvent",offset:630615,length:1774,defs:["flash.events:DRMAuthenticationCompleteEvent"]},
{name:"flash/events/SecurityErrorEvent",offset:632389,length:1045,defs:["flash.events:SecurityErrorEvent"]},{name:"flash/system/AuthorizedFeatures",offset:633434,length:1104,defs:["flash.system:AuthorizedFeatures"]},{name:"flash/media/Sound",offset:634538,length:2359,defs:["flash.media:Sound"]},{name:"flash/system/WorkerDomain",offset:636897,length:996,defs:["flash.system:WorkerDomain"]},{name:"flash/net/URLStream",offset:637893,length:2721,defs:["flash.net:URLStream"]},{name:"flash/events/OutputProgressEvent",
offset:640614,length:1459,defs:["flash.events:OutputProgressEvent"]},{name:"flash/display/SimpleButton",offset:642073,length:2124,defs:["flash.display:SimpleButton"]},{name:"flash/display/JPEGXREncoderOptions",offset:644197,length:760,defs:["flash.display:JPEGXREncoderOptions"]},{name:"flash/display/GradientType",offset:644957,length:472,defs:["flash.display:GradientType"]},{name:"flash/net/URLVariables",offset:645429,length:1584,defs:["flash.net:URLVariables"]},{name:"flash/globalization/CurrencyFormatter",
offset:647013,length:4010,defs:["flash.globalization:CurrencyFormatter"]},{name:"flash/printing/PrintJobOrientation",offset:651023,length:529,defs:["flash.printing:PrintJobOrientation"]},{name:"flash/crypto/generateRandomBytes",offset:651552,length:347,defs:["flash.crypto:generateRandomBytes"]},{name:"flash/events/NetMonitorEvent",offset:651899,length:1060,defs:["flash.events:NetMonitorEvent"]},{name:"flash/text/engine/TextLineValidity",offset:652959,length:638,defs:["flash.text.engine:TextLineValidity"]},
{name:"flash/text/TextSnapshot",offset:653597,length:1344,defs:["flash.text:TextSnapshot"]},{name:"flash/display/Loader",offset:654941,length:4198,defs:["flash.display:Loader"]},{name:"flash/events/FullScreenEvent",offset:659139,length:1328,defs:["flash.events:FullScreenEvent"]},{name:"flash/utils/ObjectOutput",offset:660467,length:1784,defs:["flash.utils:ObjectOutput"]},{name:"flash/utils/IExternalizable",offset:662251,length:577,defs:["flash.utils:IExternalizable"]},{name:"flash/text/engine/FontDescription",
offset:662828,length:2196,defs:["flash.text.engine:FontDescription"]},{name:"flash/globalization/NumberParseResult",offset:665024,length:1E3,defs:["flash.globalization:NumberParseResult"]},{name:"flash/automation/StageCaptureEvent",offset:666024,length:1310,defs:["flash.automation:StageCaptureEvent"]},{name:"flash/security/X500DistinguishedName",offset:667334,length:1215,defs:["flash.security:X500DistinguishedName"]},{name:"adobe/utils/XMLUI",offset:668549,length:662,defs:["adobe.utils:XMLUI"]},{name:"flash/display/ColorCorrection",
offset:669211,length:542,defs:["flash.display:ColorCorrection"]},{name:"flash/text/engine/LigatureLevel",offset:669753,length:652,defs:["flash.text.engine:LigatureLevel"]},{name:"flash/media/VideoStreamSettings",offset:670405,length:2164,defs:["flash.media:VideoStreamSettings"]},{name:"flash/media/H264VideoStreamSettings",offset:672569,length:1813,defs:["flash.media:H264VideoStreamSettings"]},{name:"flash/automation/Configuration",offset:674382,length:786,defs:["flash.automation:Configuration"]},
{name:"flash/text/engine/JustificationStyle",offset:675168,length:652,defs:["flash.text.engine:JustificationStyle"]},{name:"flash/ui/KeyboardType",offset:675820,length:532,defs:["flash.ui:KeyboardType"]},{name:"flash/display/CapsStyle",offset:676352,length:497,defs:["flash.display:CapsStyle"]},{name:"flash/text/ime/CompositionAttributeRange",offset:676849,length:753,defs:["flash.text.ime:CompositionAttributeRange"]},{name:"flash/text/engine/TabStop",offset:677602,length:1048,defs:["flash.text.engine:TabStop"]},
{name:"flash/text/engine/FontWeight",offset:678650,length:485,defs:["flash.text.engine:FontWeight"]},{name:"flash/ui/GameInputDevice",offset:679135,length:1552,defs:["flash.ui:GameInputDevice"]},{name:"flash/media/AudioDecoder",offset:680687,length:768,defs:["flash.media:AudioDecoder"]},{name:"flash/text/TextRenderer",offset:681455,length:1074,defs:["flash.text:TextRenderer"]},{name:"flash/events/StageVideoEvent",offset:682529,length:1341,defs:["flash.events:StageVideoEvent"]},{name:"flash/text/engine/DigitWidth",
offset:683870,length:553,defs:["flash.text.engine:DigitWidth"]},{name:"flash/geom/ColorTransform",offset:684423,length:1790,defs:["flash.geom:ColorTransform"]},{name:"flash/system/AuthorizedFeaturesLoader",offset:686213,length:969,defs:["flash.system:AuthorizedFeaturesLoader"]},{name:"flash/display/GraphicsPathWinding",offset:687182,length:539,defs:["flash.display:GraphicsPathWinding"]},{name:"flash/display/GraphicsPathCommand",offset:687721,length:744,defs:["flash.display:GraphicsPathCommand"]},
{name:"flash/text/engine/TabAlignment",offset:688465,length:588,defs:["flash.text.engine:TabAlignment"]},{name:"flash/profiler/Telemetry",offset:689053,length:1062,defs:["flash.profiler:Telemetry"]},{name:"flash/events/UncaughtErrorEvent",offset:690115,length:1159,defs:["flash.events:UncaughtErrorEvent"]},{name:"flash/text/engine/DigitCase",offset:691274,length:538,defs:["flash.text.engine:DigitCase"]},{name:"flash/filters/ShaderFilter",offset:691812,length:1919,defs:["flash.filters:ShaderFilter"]},
{name:"flash/events/GeolocationEvent",offset:693731,length:2920,defs:["flash.events:GeolocationEvent"]},{name:"flash/ui/Keyboard",offset:696651,length:17797,defs:["flash.ui:Keyboard"]},{name:"flash/media/MicrophoneEnhancedMode",offset:714448,length:708,defs:["flash.media:MicrophoneEnhancedMode"]},{name:"flash/filters/GlowFilter",offset:715156,length:1920,defs:["flash.filters:GlowFilter"]},{name:"flash/display/MovieClip",offset:717076,length:2591,defs:["flash.display:MovieClip"]},{name:"flash/text/engine/SpaceJustifier",
offset:719667,length:1661,defs:["flash.text.engine:SpaceJustifier"]},{name:"flash/net/drm/VoucherAccessInfo",offset:721328,length:1113,defs:["flash.net.drm:VoucherAccessInfo"]},{name:"flash/events/ContextMenuEvent",offset:722441,length:1822,defs:["flash.events:ContextMenuEvent"]},{name:"flash/display3D/textures/CubeTexture",offset:724263,length:1114,defs:["flash.display3D.textures:CubeTexture"]},{name:"flash/text/TextLineMetrics",offset:725377,length:732,defs:["flash.text:TextLineMetrics"]}],b=0;b<
a.length;b++){var d=a[b];playerGlobalScripts[d.name]=d;if("string"===typeof d.defs)playerGlobalNames[d.defs]=d.name;else for(var e=0;e<d.defs.length;e++)playerGlobalNames[d.defs[e]]=d.name}})();enableVerifier.value=!0;
var release=enableC4.value=!0,avm2Root=SHUMWAY_ROOT+"avm2/",builtinPath=avm2Root+"generated/builtin/builtin.abc",avm1Path=avm2Root+"generated/avm1lib/avm1lib.abc",playerGlobalPath=SHUMWAY_ROOT+"flash/playerglobal.abc",BinaryFileReader=function(){function a(a,d){this.url=a;this.responseType=d||"arraybuffer"}a.prototype={readAll:function(a,d){var e=this.url,f=new XMLHttpRequest;f.open("GET",this.url,!0);f.responseType=this.responseType;a&&(f.onprogress=function(d){a(f.response,d.loaded,d.total)});f.onreadystatechange=
function(){4===f.readyState&&(200!==f.status&&0!==f.status?(unexpected("Path: "+e+" not found."),d(null,f.statusText)):d(f.response))};f.send(null)},readAsync:function(a,d,e,f,g){var m=new XMLHttpRequest({mozSystem:!0}),l=this.url;m.open(this.method||"GET",l,!0);var p;try{m.responseType="moz-chunked-arraybuffer",p="moz-chunked-arraybuffer"!==m.responseType}catch(r){p=!0}p&&(m.responseType="arraybuffer");m.onprogress=function(d){p||a(new Uint8Array(m.response),{loaded:d.loaded,total:d.total})};m.onreadystatechange=
function(){2===m.readyState&&g&&g(l,m.status,m.getAllResponseHeaders());if(4===m.readyState){200!==m.status&&0!==m.status&&d(m.statusText);if(p){var r=m.response;a(new Uint8Array(r),{loaded:r.byteLength,total:r.byteLength})}f&&f()}else 2===m.readyState&&e&&e()};m.send(null)}};return a}(),libraryAbcs;function grabAbc(a){var b=libraryScripts[a];return b?new AbcFile(new Uint8Array(libraryAbcs,b.offset,b.length),a):null}
function findDefiningAbc(a){if(!avm2.builtinsLoaded)return null;for(var b,d=0;d<a.namespaces.length&&!(b=a.namespaces[d].originalURI+":"+a.name,b=playerGlobalNames[b]);d++);return b?grabAbc(b):null}var avm2,libraryScripts=playerGlobalScripts,libraryNames=playerGlobalNames;
function createAVM2(a,b,d,e,f,g){avm2=new AVM2(e,f,findDefiningAbc,function(a){(new BinaryFileReader(d)).readAll(null,function(b){l=new AbcFile(new Uint8Array(b),"avm1.abc");avm2.systemDomain.executeAbc(l);a()})});var m,l;(new BinaryFileReader(b)).readAll(null,function(b){libraryAbcs=b;(new BinaryFileReader(a)).readAll(null,function(a){m=new AbcFile(new Uint8Array(a),"builtin.abc");avm2.builtinsLoaded=!1;avm2.systemDomain.onMessage.register("classCreated",Stubs.onClassCreated);avm2.systemDomain.executeAbc(m);
avm2.builtinsLoaded=!0;console.info(JSON.stringify(Counter.toJSON()));console.timeEnd("Load AVM2");addProfileMarker("End Load AVM2");g(avm2)})})}
var BitmapDefinition=function(){function a(a){this._bitmapData&&(this._bitmapData._changeNotificationTarget=null);if(this._bitmapData=a)this._bitmapData._changeNotificationTarget=this;a?(a=a._drawable,this._bbox={xMin:0,yMin:0,xMax:20*a.width,yMax:20*a.height}):this._bbox={xMin:0,yMin:0,xMax:0,yMax:0};this._invalidate();this._invalidateBounds();this._invalidateTransform()}return{__class__:"flash.display.Bitmap",draw:function(a,d,e){if(this._bitmapData){a.save();if("auto"===this._pixelSnapping||"always"===
this._pixelSnapping)d=this._getConcatenatedTransform(!0),0.001>=Math.abs(Math.abs(d.a)-1)&&(0.001>=Math.abs(Math.abs(d.d)-1)&&0.001>=Math.abs(d.b)&&0.001>=Math.abs(d.c))&&a.setTransform(0>d.a?-1:1,0,0,0>d.d?-1:1,d.tx/20|0,d.ty/20|0);e.setAlpha(a,!0);a.imageSmoothingEnabled=a.mozImageSmoothingEnabled=this._smoothing;a.drawImage(this._bitmapData._drawable,0,0);a.imageSmoothingEnabled=a.mozImageSmoothingEnabled=!1;a.restore();traceRenderer.value&&frameWriter.writeLn("Bitmap.draw() snapping: "+this._pixelSnapping+
", dimensions: "+this._bitmapData._drawable.width+" x "+this._bitmapData._drawable.height);FrameCounter.count("Bitmap.draw()")}},initialize:function(){},__glue__:{"native":{"static":{},instance:{ctor:function(b,d,e){this._pixelSnapping="never"===d||"always"===d?d:"auto";this._smoothing=!!e;!b&&this.symbol&&(d=this.symbol,b=new flash.display.BitmapData(d.width,d.height,!0,0),b._ctx.imageSmoothingEnabled=this._smoothing,b._ctx.mozImageSmoothingEnabled=this._smoothing,b._ctx.drawImage(d.img,0,0),b._ctx.imageSmoothingEnabled=
!1,b._ctx.mozImageSmoothingEnabled=!1);a.call(this,b||null)},pixelSnapping:{get:function(){return this._pixelSnapping},set:function(a){this._pixelSnapping=a}},smoothing:{get:function(){return this._smoothing},set:function(a){this._smoothing=a}},bitmapData:{get:function(){return this._bitmapData},set:a}}}}}}.call(this),BitmapDataDefinition=function(){function a(a,b,d,m,l,p){255>p&&a.clearRect(b,d,m,l);0<p&&a.fillRect(b,d,m,l)}var b={__class__:"flash.display.BitmapData",initialize:function(){this._changeNotificationTarget=
null;this._locked=!1;this.symbol&&(this._img=this.symbol.img,this._skipCopyToCanvas=this.symbol.skipCopyToCanvas)},_checkCanvas:function(){if(null===this._drawable)throw ArgumentError();},ctor:function(a,b,d,m){this._img?(a=this._img.naturalWidth||this._img.width,b=this._img.naturalHeight||this._img.height):(isNaN(a+b)||0>=a||0>=b)&&throwError("ArgumentError",Errors.ArgumentError);this._transparent=void 0===d?!0:!!d;this._backgroundColor=void 0===m?4294967295:m;this._transparent||(this._backgroundColor|=
4278190080);this._skipCopyToCanvas?this._drawable=this._img:(d=document.createElement("canvas"),this._ctx=d.getContext("2d"),d.width=a|0,d.height=b|0,this._drawable=d,(!this._transparent||!this._img&&this._backgroundColor)&&this.fillRect(new flash.geom.Rectangle(0,0,a|0,b|0),this._backgroundColor),this._img&&this._ctx.drawImage(this._img,0,0))},dispose:function(){this._ctx=null;this._drawable.width=0;this._drawable.height=0;this._drawable=null},draw:function(a,b,d,m,l,p){this._checkCanvas();d=this._ctx;
d.save();d.beginPath();l&&(0<l.width&&0<l.height)&&(d.rect(l.x,l.y,l.width,l.height),d.clip());b&&d.transform(b.a,b.b,b.c,b.d,b.tx,b.ty);d.globalCompositeOperation=getBlendModeName(m);d.imageSmoothingEnabled=d.mozImageSmoothingEnabled=!!p;flash.display.BitmapData.class.isInstanceOf(a)?d.drawImage(a._drawable,0,0):(new RenderVisitor(a,d,null,!0)).startFragment(b);d.imageSmoothingEnabled=d.mozImageSmoothingEnabled=!1;d.restore();this._invalidate()},fillRect:function(b,d){this._checkCanvas();this._transparent||
(d|=4278190080);var g=this._ctx;g.fillStyle=argbUintToStr(d);a(g,b.x,b.y,b.width,b.height,d>>>24&255);this._invalidate()},getPixel:function(a,b){this._checkCanvas();var d=this._ctx.getImageData(a,b,1,1).data;return dataToRGB(d)},getPixel32:function(a,b){this._checkCanvas();var d=this._ctx.getImageData(a,b,1,1).data;return dataToARGB(d)},_invalidate:function(a){a&&somewhatImplemented("BitmapData._invalidate(changeRect)");this._locked||this._changeNotificationTarget&&this._changeNotificationTarget._invalidate()},
setPixel:function(a,b,d){this.fillRect({x:a,y:b,width:1,height:1},d|4278190080);this._invalidate()},setPixel32:function(a,b,d){this.fillRect({x:a,y:b,width:1,height:1},d);this._invalidate()},copyPixels:function(a,b,d,m,l,p){m&&notImplemented("BitmapData.copyPixels w/ alpha");m=b.width;l=b.height;var r=b.x;b=b.y;var s=d.x;d=d.y;p||this._ctx.clearRect(s,d,m,l);this._ctx.drawImage(a._drawable,r,b,m,l,s,d,m,l);this._invalidate()},lock:function(){this._locked=!0},unlock:function(a){this._locked=!1;this._invalidate(a)},
clone:function(){this._checkCanvas();var a=new flash.display.BitmapData(this._drawable.width,this._drawable.height,!0,0);a._ctx.drawImage(this._drawable,0,0);return a},scroll:function(b,d){this._checkCanvas();this._ctx.draw(this._drawable,b,d);this._ctx.save();var g=this._img?0:this._backgroundColor;this._transparent||(g|=4278190080);var m=g>>>24&255;this._ctx.fillStyle=argbUintToStr(g);var g=this._drawable.width,l=this._drawable.height;0<b?a(this._ctx,0,0,b,l,m):0>b&&a(this._ctx,g+b,0,-b,l,m);0<
d?a(this._ctx,0,0,g,d,m):0>d&&a(this._ctx,l+d,g,-d,m);this._ctx.restore();this._invalidate()},get width(){return this._drawable.width},get height(){return this._drawable.height}},d=Object.getOwnPropertyDescriptor;b.__glue__={"native":{instance:{ctor:b.ctor,fillRect:b.fillRect,dispose:b.dispose,getPixel:b.getPixel,getPixel32:b.getPixel32,setPixel:b.setPixel,setPixel32:b.setPixel32,copyPixels:b.copyPixels,lock:b.lock,unlock:b.unlock,draw:b.draw,clone:b.clone,scroll:b.scroll,width:d(b,"width"),height:d(b,
"height")}}};return b}.call(this);function dataToRGB(a){return a[0]<<16|a[1]<<8|a[2]}function dataToARGB(a){return a[3]<<24|dataToRGB(a)}
var DisplayObjectDefinition=function(){var a,b=1,d={advanceFrame:!1,enterFrame:!0,constructChildren:!1,frameConstructed:!0,executeFrame:!1,exitFrame:!0,render:!0},e={x:0,y:0},f={x:0,y:0},g={x:0,y:0},m={x:0,y:0},l={__class__:"flash.display.DisplayObject",initialize:function(){var b=flash.display.BlendMode.class;this._alpha=1;this._animated=!1;this._bitmap=this._bbox=null;this._blendMode=b.NORMAL;this._bounds={xMin:0,xMax:0,yMin:0,yMax:0,invalid:!0};this._cacheAsBitmap=!1;this._children=[];this._currentTransform=
this._clipDepth=null;this._concatenatedTransform={a:1,b:0,c:0,d:1,tx:0,ty:0,invalid:!0};this._graphics=this._cxform=this._current3DTransform=null;this._filters=[];this._loader=null;this._mouseChildren=!0;this._mouseOver=!1;this._mouseY=this._mouseX=0;this._opaqueBackground=this._name=null;this._owned=!1;this._parent=null;this._rotation=0;this._scale9Grid=null;this._scaleY=this._scaleX=1;this._transform=this._stage=null;this._visible=!0;this._destroyed=this._wasCachedAsBitmap=this._hidden=!1;this._scrollRect=
this._maskedObject=null;this._invalid=!1;this._region=null;this._depth=this._index=this._level=-1;this._isContainer=!1;a=[b.NORMAL,b.NORMAL,b.LAYER,b.MULTIPLY,b.SCREEN,b.LIGHTEN,b.DARKEN,b.DIFFERENCE,b.ADD,b.SUBTRACT,b.INVERT,b.ALPHA,b.ERASE,b.OVERLAY,b.HARDLIGHT,b.SHADER];if(b=this.symbol){this._animated=b.animated||!1;this._bbox=b.bbox||null;this._blendMode=this._resolveBlendMode(b.blendMode);this._children=b.children||[];this._clipDepth=b.clipDepth||null;this._cxform=b.cxform||null;this._loader=
b.loader||null;this._name=b.name||null;this._owned=b.owned||!1;this._parent=b.parent||null;this._level=isNaN(b.level)?-1:b.level;this._index=isNaN(b.index)?-1:b.index;this._depth=isNaN(b.depth)?-1:b.depth;this._root=b.root||null;this._stage=b.stage||null;var d=b.scale9Grid;d&&(this._scale9Grid=new flash.geom.Rectangle(d.left,d.top,d.right-d.left,d.bottom-d.top));if(b=b.currentTransform){var d=b.a,e=b.b,f=b.c,g=b.d;this._rotation=0!==d?180*Math.atan(e/d)/Math.PI:0<e?90:-90;var l=Math.sqrt(d*d+e*e);
this._scaleX=0<d?l:-l;l=Math.sqrt(g*g+f*f);this._scaleY=0<g?l:-l;this._currentTransform={a:d,b:e,c:f,d:g,tx:b.tx,ty:b.ty}}}this._currentTransform||(this._currentTransform={a:1,b:0,c:0,d:1,tx:0,ty:0});this._accessibilityProperties=null;var m=this;this._onBroadcastMessage=function(a){m._listeners[a]&&m._dispatchEvent(a)}},_addEventListener:function(a,b,e,f){!1===d[a]?avm2.systemDomain.onMessage.register(a,b):(a in d&&!this._listeners[a]&&avm2.systemDomain.onMessage.register(a,this._onBroadcastMessage),
this._addEventListenerImpl(a,b,e,f))},_removeEventListener:function(a,b,e){!1===d[a]?avm2.systemDomain.onMessage.unregister(a,b):(this._removeEventListenerImpl(a,b,e),a in d&&!this._listeners[a]&&avm2.systemDomain.onMessage.unregister(a,this._onBroadcastMessage))},_resolveBlendMode:function(b){return a[b]||flash.display.BlendMode.class.NORMAL},_getConcatenatedTransform:function(a){var b=this._stage;if(this===this._stage)return a?this._concatenatedTransform:this._currentTransform;var d,e;if(this._concatenatedTransform.invalid)if(this._parent===
b)d=this._concatenatedTransform,e=this._currentTransform,d.a=e.a,d.b=e.b,d.c=e.c,d.d=e.d,d.tx=e.tx,d.ty=e.ty;else{var f=[this];for(e=this._parent;e!==b;)e._concatenatedTransform.invalid&&f.push(e),e=e._parent;for(;f.length;){var g=f.pop();d=g._concatenatedTransform;e=g._currentTransform;g._parent?g._parent!==this._stage&&(g=g._parent._concatenatedTransform,d.a=e.a*g.a+e.b*g.c,d.b=e.a*g.b+e.b*g.d,d.c=e.c*g.a+e.d*g.c,d.d=e.d*g.d+e.c*g.b,d.tx=e.tx*g.a+g.tx+e.ty*g.c,d.ty=e.ty*g.d+g.ty+e.tx*g.b):(d.a=
e.a,d.b=e.b,d.c=e.c,d.d=e.d,d.tx=e.tx,d.ty=e.ty);d.invalid=!1}}else d=this._concatenatedTransform;return a&&b?(e=b._concatenatedTransform,{a:d.a*e.a,b:d.b*e.d,c:d.c*e.a,d:d.d*e.d,tx:d.tx*e.a+e.tx,ty:d.ty*e.d+e.ty}):d},_applyCurrentTransform:function(a,b,d){var e;e=a&&a!==this._parent?this._getConcatenatedTransform():this._currentTransform;for(var f=1;f<arguments.length;f++){var g=arguments[f],l=g.x,m=g.y;g.x=Math.round(e.a*l+e.c*m+e.tx);g.y=Math.round(e.d*m+e.b*l+e.ty)}e===this._concatenatedTransform&&
(e=a._applyCurrentInverseTransform,e.call.apply(e,arguments))},_applyCurrentInverseTransform:function(a,b){for(var d=this._getConcatenatedTransform(),e=1/(d.a*d.d-d.b*d.c),f=0;f<arguments.length;f++){var g=arguments[f],l=g.x-d.tx,m=g.y-d.ty;g.x=Math.round((d.d*l-d.c*m)*e);g.y=Math.round((d.a*m-d.b*l)*e)}},_hitTest:function(a,b,d,e,f){if(a){f={x:b,y:d};this._applyCurrentInverseTransform(f);a=this._getContentBounds();if(!(f.x>=a.xMin&&f.x<a.xMax&&f.y>=a.yMin&&f.y<a.yMax))return!1;if(!e||!this._graphics)return!0;
if(this._graphics){var g=this._graphics._paths;e=0;for(a=g.length;e<a;e++){var l=g[e];if(l.isPointInPath(f.x,f.y))return!0;if(l.strokeStyle){var m=l._strokePath;m||(m=l.strokePath(l.drawingStyles),l._strokePath=m);if(m.isPointInPath(f.x,f.y))return!0}}}f=this._children;e=0;for(a=f.length;e<a;e++)if(g=f[e],g._hitTest&&g._hitTest(!0,b,d,!0))return!0;return!1}e=this.getBounds();f=f.getBounds();b=Math.max(e.xMin,f.xMin);d=Math.max(e.yMin,f.yMin);b=Math.min(e.xMax,f.xMax)-b;d=Math.min(e.yMax,f.yMax)-d;
return 0<b&&0<d},_invalidate:function(){!this._invalid&&this._stage&&this._stage._invalidateOnStage(this)},_invalidateBounds:function(){for(var a=this;a&&!a._bounds.invalid;)a._bounds.invalid=!0,a=a._parent},_invalidateTransform:function(){for(var a=[this];a.length;){var b=a.pop();if(b._concatenatedTransform&&!b._concatenatedTransform.invalid){b._concatenatedTransform.invalid=!0;for(var b=b._children,d=0;d<b.length;d++)a.push(b[d])}}},_updateCurrentTransform:function(){var a=this._scaleX,b=this._scaleY,
d,e;switch(this._rotation){case 0:case 360:e=1;d=0;break;case 90:case -270:e=0;d=1;break;case 180:case -180:e=-1;d=0;break;case 270:case -90:e=0;d=-1;break;default:d=this._rotation/180*Math.PI,e=Math.cos(d),d=Math.sin(d)}this._invalidateTransform();var f=this._currentTransform;f.a=e*a;f.b=d*a;f.c=-d*b;f.d=e*b},get accessibilityProperties(){return this._accessibilityProperties},set accessibilityProperties(a){this._accessibilityProperties=a},get alpha(){return this._alpha},set alpha(a){a!==this._alpha&&
(this._alpha=a,this._invalidate())},get blendMode(){return this._blendMode},set blendMode(b){0<=a.indexOf(b)?this._blendMode=b:throwError("ArgumentError",Errors.InvalidEnumError,"blendMode")},get cacheAsBitmap(){return this._cacheAsBitmap},set cacheAsBitmap(a){this._cacheAsBitmap=this._filters.length?!0:a},get filters(){return this._filters},set filters(a){a.length?(this._filters.length||(this._wasCachedAsBitmap=this._cacheAsBitmap),this._cacheAsBitmap=!0):this._cacheAsBitmap=this._wasCachedAsBitmap;
this._filters=a},get height(){var a=this._getContentBounds(),b=this._currentTransform;return Math.abs(b.b)*(a.xMax-a.xMin)+Math.abs(b.d)*(a.yMax-a.yMin)|0},set height(a){if(!(0>a)){var b=this._rotation/180*Math.PI,d=Math.abs(Math.cos(b)),b=Math.abs(Math.sin(b)),e=this._getContentBounds(),f=b*(e.xMax-e.xMin)+d*(e.yMax-e.yMin);0!==f&&(this.scaleX=this.width/(d*(e.xMax-e.xMin)+b*(e.yMax-e.yMin)),this.scaleY=a/f)}},get loaderInfo(){return this._loader&&this._loader._contentLoaderInfo||this._parent.loaderInfo},
get mask(){return this._mask},set mask(a){if(this._mask!==a){a&&a._maskedObject&&(a._maskedObject.mask=null);if(this._mask=a)a._maskedObject=this;this._invalidate()}},get name(){return this._name||(this._name="instance"+b++)},set name(a){this._name=a},get mouseX(){if(!this._stage)return 0;e.x=this._stage._mouseX;e.y=this._stage._mouseY;this._applyCurrentInverseTransform(e);return e.x},get mouseY(){if(!this._stage)return 0;e.x=this._stage._mouseX;e.y=this._stage._mouseY;this._applyCurrentInverseTransform(e);
return e.y},get opaqueBackground(){return this._opaqueBackground},set opaqueBackground(a){this._opaqueBackground=a},get parent(){return-1<this._index?this._parent:null},get root(){return this._stage&&this._stage._root},get rotation(){return this._rotation},set rotation(a){a%=360;180<a&&(a-=360);a!==this._rotation&&(this._invalidate(),this._invalidateBounds(),this._rotation=a,this._updateCurrentTransform())},get rotationX(){return 0},set rotationX(a){somewhatImplemented("DisplayObject.rotationX")},
get rotationY(){return 0},set rotationY(a){somewhatImplemented("DisplayObject.rotationY")},get rotationZ(){return this.rotation},set rotationZ(a){this.rotation=a;somewhatImplemented("DisplayObject.rotationZ")},get stage(){return this._stage},get scaleX(){return this._scaleX},set scaleX(a){a!==this._scaleX&&(this._invalidate(),this._invalidateBounds(),this._scaleX=a,this._updateCurrentTransform())},get scaleY(){return this._scaleY},set scaleY(a){a!==this._scaleY&&(this._invalidate(),this._invalidateBounds(),
this._scaleY=a,this._updateCurrentTransform())},get scaleZ(){return 1},set scaleZ(a){somewhatImplemented("DisplayObject.scaleZ")},get scale9Grid(){return this._scale9Grid},set scale9Grid(a){somewhatImplemented("DisplayObject.scale9Grid");this._scale9Grid=a},get scrollRect(){return this._scrollRect},set scrollRect(a){somewhatImplemented("DisplayObject.scrollRect");this._scrollRect=a},get transform(){return this._transform||new flash.geom.Transform(this)},set transform(a){this._animated=!1;this._invalidateBounds();
var b=this._transform;b.colorTransform=a.colorTransform;a.matrix3D?b.matrix3D=a.matrix3D:b.matrix=a.matrix},get visible(){return this._visible},set visible(a){a!==this._visible&&(this._visible=a,this._invalidate())},get width(){var a=this._getContentBounds(),b=this._currentTransform;return Math.abs(b.a)*(a.xMax-a.xMin)+Math.abs(b.c)*(a.yMax-a.yMin)|0},set width(a){if(!(0>a)){var b=this._rotation/180*Math.PI,d=Math.abs(Math.cos(b)),b=Math.abs(Math.sin(b)),e=this._getContentBounds(),f=d*(e.xMax-e.xMin)+
b*(e.yMax-e.yMin);0!==f&&(this.scaleY=this.height/(b*(e.xMax-e.xMin)+d*(e.yMax-e.yMin)),this.scaleX=a/f)}},get x(){return this._currentTransform.tx},set x(a){a!==this._currentTransform.tx&&(this._invalidate(),this._invalidateBounds(),this._invalidateTransform(),this._currentTransform.tx=a)},get y(){return this._currentTransform.ty},set y(a){a!==this._currentTransform.ty&&(this._invalidate(),this._invalidateBounds(),this._invalidateTransform(),this._currentTransform.ty=a)},get z(){return 0},set z(a){somewhatImplemented("DisplayObject.z")},
_getContentBounds:function(){var a=this._bounds;if(a.invalid){var b=this._bbox,d=Number.MAX_VALUE,e=Number.MIN_VALUE,f=Number.MAX_VALUE,g=Number.MIN_VALUE;if(b)d=b.xMin,e=b.xMax,f=b.yMin,g=b.yMax;else{for(var b=this._children,l=b.length,m=0;m<l;m++){var p=b[m];if(p._visible)var D=p.getBounds(null),p=D.xMin,B=D.yMin,E=D.xMax,D=D.yMax,d=Math.min(d,p,E),e=Math.max(e,p,E),f=Math.min(f,B,D),g=Math.max(g,B,D)}this._graphics&&(D=this._graphics._getBounds(!0),D.xMin!==D.xMax&&D.yMin!==D.yMax&&(p=D.xMin,B=
D.yMin,E=D.xMax,D=D.yMax,d=Math.min(d,p,E),e=Math.max(e,p,E),f=Math.min(f,B,D),g=Math.max(g,B,D)))}d===Number.MAX_VALUE&&(d=e=f=g=0);a.xMin=d;a.xMax=e;a.yMin=f;a.yMax=g;a.invalid=!1}return a},_getRegion:function(a){var b=this._graphics?this._graphics._getBounds(!0):this._getContentBounds();return this._getTransformedRect(b,a)},getBounds:function(a){return this._getTransformedRect(this._getContentBounds(),a)},_getTransformedRect:function(a,b){if(0===a.xMax-a.xMin||0===a.yMax-a.yMin)return{xMin:0,yMin:0,
xMax:0,yMax:0};e.x=a.xMin;e.y=a.yMin;f.x=a.xMax;f.y=a.yMin;g.x=a.xMax;g.y=a.yMax;m.x=a.xMin;m.y=a.yMax;this._applyCurrentTransform(b,e,f,g,m);var d=Math.min(e.x,f.x,g.x,m.x),l=Math.max(e.x,f.x,g.x,m.x),p=Math.min(e.y,f.y,g.y,m.y),A=Math.max(e.y,f.y,g.y,m.y);return{xMin:d,yMin:p,xMax:l,yMax:A}},hitTestObject:function(a){return this._hitTest(!1,0,0,!1,a)},hitTestPoint:function(a,b,d){return this._hitTest(!0,a,b,d,null)},destroy:function(){this._destroyed||(this._destroyed=!0,this.cleanupBroadcastListeners())},
cleanupBroadcastListeners:function(){var a=this._listeners,b;for(b in a)avm2.systemDomain.onMessage.unregister(b,this._onBroadcastMessage)}},p=Object.getOwnPropertyDescriptor;l.__glue__={"native":{instance:{root:p(l,"root"),stage:p(l,"stage"),name:p(l,"name"),parent:p(l,"parent"),mask:p(l,"mask"),visible:p(l,"visible"),x:{get:function(){return this.x/20},set:function(a){this.x=20*a|0}},y:{get:function(){return this.y/20},set:function(a){this.y=20*a|0}},z:{get:function(){return this.z/20},set:function(a){this.z=
20*a|0}},scaleX:p(l,"scaleX"),scaleY:p(l,"scaleY"),scaleZ:p(l,"scaleZ"),mouseX:{get:function(){return this.mouseX/20},set:function(a){this.mouseX=20*a|0}},mouseY:{get:function(){return this.mouseY/20},set:function(a){this.mouseY=20*a|0}},rotation:p(l,"rotation"),rotationX:p(l,"rotationX"),rotationY:p(l,"rotationY"),rotationZ:p(l,"rotationZ"),alpha:p(l,"alpha"),width:{get:function(){return this.width/20},set:function(a){this.width=20*a|0}},height:{get:function(){return this.height/20},set:function(a){this.height=
20*a|0}},_hitTest:function(a,b,d,e,f){return this._hitTest(a,20*b|0,20*d|0,e,f)},cacheAsBitmap:p(l,"cacheAsBitmap"),opaqueBackground:p(l,"opaqueBackground"),scrollRect:p(l,"scrollRect"),filters:p(l,"filters"),blendMode:p(l,"blendMode"),transform:p(l,"transform"),scale9Grid:p(l,"scale9Grid"),loaderInfo:p(l,"loaderInfo"),accessibilityProperties:p(l,"accessibilityProperties"),globalToLocal:function(a){a={x:20*a.x|0,y:20*a.y|0};this._applyCurrentInverseTransform(a);return new flash.geom.Point(a.x/20,
a.y/20)},localToGlobal:function(a){a={x:20*a.x|0,y:20*a.y|0};this._applyCurrentTransform(this._stage,a);return new flash.geom.Point(a.x/20,a.y/20)},getBounds:function(a){a=this.getBounds(a);return new flash.geom.Rectangle(a.xMin/20,a.yMin/20,(a.xMax-a.xMin)/20,(a.yMax-a.yMin)/20)},getRect:function(a){somewhatImplemented("DisplayObject.getRect");a=this.getBounds(a);return new flash.geom.Rectangle(a.xMin/20,a.yMin/20,(a.xMax-a.xMin)/20,(a.yMax-a.yMin)/20)}}}};return l}.call(this),DisplayObjectContainerDefinition=
function(){var a={get mouseChildren(){return this._mouseChildren},set mouseChildren(a){this._mouseChildren=a},get numChildren(){return this._children.length},get tabChildren(){return this._tabChildren},set tabChildren(a){this._tabChildren=a},get textSnapshot(){notImplemented()},addChild:function(a){return this.addChildAt(a,this._children.length)},addChildAt:function(b,e){b===this&&throwError("ArgumentError",Errors.CantAddSelfError);if(b._parent===this)return this.setChildIndex(b,e);var f=this._children;
(0>e||e>f.length)&&throwError("RangeError",Errors.ParamRangeError);-1<b._index&&(avm2.systemDomain.getClass("flash.display.Loader").isInstanceOf(b._parent)?a.removeChild.call(b._parent,b):b._parent.removeChild(b));if(!this._sparse)for(var g=f.length;g&&g>e;g--)f[g-1]._index++;f.splice(e,0,b);b._owned=!1;b._parent=this;b._stage=this._stage;b._index=e;b._invalidateTransform();this._invalidateBounds();b._dispatchEvent("added");this._stage&&this._stage._addToStage(b);return b},areInaccessibleObjectsUnderPoint:function(){notImplemented()},
contains:function(a){return a._parent===this},getChildAt:function(a){var b=this._children;(0>a||a>b.length)&&throwError("RangeError",Errors.ParamRangeError);a=b[a];return!flash.display.DisplayObject.class.isInstanceOf(a)?null:a},getChildByName:function(a){for(var b=this._children,f=0,g=b.length;f<g;f++)if(b[f].name===a)return this.getChildAt(f);return null},getChildIndex:function(a){a._parent!==this&&throwError("ArgumentError",Errors.NotAChildError);return this._sparse?this._children.indexOf(a):a._index},
getObjectsUnderPoint:function(){notImplemented()},removeChild:function(a){a._parent!==this&&throwError("ArgumentError",Errors.NotAChildError);return this.removeChildAt(this.getChildIndex(a))},removeChildAt:function(a){var b=this._children;(0>a||a>=b.length)&&throwError("RangeError",Errors.ParamRangeError);var f=b[a];f._dispatchEvent("removed");this._stage&&this._stage._removeFromStage(f);if(!this._sparse)for(var g=b.length;g&&g>a;g--)b[g-1]._index--;b.splice(a,1);f._owned=!1;f._parent=null;f._index=
-1;f._invalidateTransform();this._invalidateBounds();return f},setChildIndex:function(a,b){a._parent!==this&&throwError("ArgumentError",Errors.NotAChildError);var f=this.getChildIndex(a);if(f!==b){var g=this._children;(0>b||b>g.length)&&throwError("RangeError",Errors.ParamRangeError);g.splice(f,1);g.splice(b,0,a);if(!this._sparse)for(f=f<b?f:b;f<g.length;)g[f]._index=f++;a._owned=!1;a._invalidate();return a}},removeChildren:function(a,b){var f=this._children.length;(0>a||a>f||0>b||b<a||b>f)&&throwError("RangeError",
Errors.ParamRangeError);for(f=a;f<b;f++)this.removeChildAt(f)},swapChildren:function(a,b){(a._parent!==this||b._parent!==this)&&throwError("ArgumentError",Errors.NotAChildError);this.swapChildrenAt(this.getChildIndex(a),this.getChildIndex(b))},swapChildrenAt:function(a,b){var f=this._children,g=f.length;(0>a||a>g||0>b||b>g)&&throwError("RangeError",Errors.ParamRangeError);var g=f[a],m=f[b];f[a]=m;f[b]=g;g._index=b;m._index=a;g._owned=!1;m._owned=!1;g._invalidate();m._invalidate()},destroy:function(){this._destroyed||
(this._destroyed=!0,this._children.forEach(function(a){a.destroy&&a.destroy()}),this.cleanupBroadcastListeners())}},b=Object.getOwnPropertyDescriptor;a.initialize=function(){this._tabChildren=this._mouseChildren=!0;this._sparse=!1;this._isContainer=!0};a.__glue__={"native":{instance:{numChildren:b(a,"numChildren"),tabChildren:b(a,"tabChildren"),mouseChildren:b(a,"mouseChildren"),textSnapshot:b(a,"textSnapshot"),addChild:a.addChild,addChildAt:a.addChildAt,removeChild:a.removeChild,removeChildAt:a.removeChildAt,
getChildIndex:a.getChildIndex,setChildIndex:a.setChildIndex,getChildAt:a.getChildAt,getChildByName:a.getChildByName,contains:a.contains,swapChildrenAt:a.swapChildrenAt,swapChildren:a.swapChildren,removeChildren:a.removeChildren}}};return a}.call(this),FrameLabelDefinition=function(){return{__class__:"flash.display.FrameLabel",initialize:function(){},__glue__:{"native":{"static":{},instance:{ctor:function(a,b){this._name=a;this._frame=b},name:{get:function(){return this._name}},frame:{get:function(){return this._frame}}}}}}}.call(this),
GraphicsDefinition=function(){var a={__class__:"flash.display.Graphics",initialize:function(){this._paths=[];this.beginPath();this._bitmap=null;this._parent=0},_invalidate:function(){this._parent._stage&&this._parent._stage._invalidateOnStage(this._parent);this._parent._invalidateBounds()},beginPath:function(){var a=this._currentPath;if(!a||!(0===a.commands.length||1===a.commands.length&&1===a.commands[0])){var d=this._currentPath=new ShapePath(null,null);this._paths.push(d);a&&(d.fillStyle=a.fillStyle,
d.lineStyle=a.lineStyle,d.fillRule=a.fillRule)}},_drawPathObject:function(a){"flash.display.GraphicsPath"===a.__class__?this.drawPath(a.commands,a.data,a.winding):"flash.display.GraphicsTrianglePath"===a.__class__&&this.drawTriangles(a.vertices,a.indices,a.uvtData,a.culling)},draw:function(a,d,e,f){for(var g=this._paths,m=0;m<g.length;m++)g[m].draw(a,d,e,f)},beginFill:function(a,d){void 0===d&&(d=1);this.beginPath();this._currentPath.fillStyle=d?{style:rgbIntAlphaToStr(a,d)}:null},beginGradientFill:function(a,
d,e,f,g,m,l,p){a=createGradientStyle(a,d,e,f,g,m,l,p);this.beginPath();this._currentPath.fillStyle=a},beginBitmapFill:function(a,d,e,f){this.beginPath();this._currentPath.fillStyle=createPatternStyle(a,d,!1!==e,!!f)},clear:function(){this._invalidate();this._paths=[];this._currentPath=null;this.beginPath()},copyFrom:function(){notImplemented("Graphics#copyFrom")},cubicCurveTo:function(a,d,e,f,g,m){this._invalidate();this._currentPath.cubicCurveTo(20*a|0,20*d|0,20*e|0,20*f|0,20*g|0,20*m|0)},curveTo:function(a,
d,e,f){this._invalidate();this._currentPath.curveTo(20*a|0,20*d|0,20*e|0,20*f|0)},drawCircle:function(a,d,e){this._invalidate();this._currentPath.circle(20*a|0,20*d|0,20*e|0)},drawEllipse:function(a,d,e,f){this._invalidate();e=20*(e/2)|0;f=20*(f/2)|0;this._currentPath.ellipse(20*a|0+e,20*d|0+f,e,f)},drawPath:function(a,d,e){this._invalidate();this.beginPath();this._currentPath.fillRule=e||"evenOdd";this._currentPath.commands=a;this._currentPath.data=d},drawRect:function(a,d,e,f){isNaN(e+f)&&throwError("ArgumentError",
Errors.InvalidParamError);this._invalidate();this._currentPath.rect(20*a|0,20*d|0,20*e|0,20*f|0)},drawRoundRect:function(a,d,e,f,g,m){(isNaN(e+f+g)||void 0!==m&&isNaN(m))&&throwError("ArgumentError",Errors.InvalidParamError);this._invalidate();void 0===m&&(m=g);a=20*a|0;d=20*d|0;e=20*e|0;f=20*f|0;if(!m||!g)this._currentPath.rect(a,d,e,f);else{g=20*(g/2)|0;m=20*(m/2)|0;var l=e/2|0,p=f/2|0;g>l&&(g=l);m>p&&(m=p);l===g&&p===m?g===m?this._currentPath.circle(a+g,d+m,g):this._currentPath.ellipse(a+g,d+m,
g,m):(e=a+e,f=d+f,l=a+g,g=e-g,p=d+m,m=f-m,this._currentPath.moveTo(e,m),this._currentPath.curveTo(e,f,g,f),this._currentPath.lineTo(l,f),this._currentPath.curveTo(a,f,a,m),this._currentPath.lineTo(a,p),this._currentPath.curveTo(a,d,l,d),this._currentPath.lineTo(g,d),this._currentPath.curveTo(e,d,e,p),this._currentPath.lineTo(e,m))}},drawRoundRectComplex:function(a,d,e,f,g,m,l,p){isNaN(e+f+g+m+l+p)&&throwError("ArgumentError",Errors.InvalidParamError);this._invalidate();a=20*a|0;d=20*d|0;e=20*e|0;
f=20*f|0;if(!g&&!m&&!l&&!p)this._currentPath.rect(a,d,e,f);else{g=20*g|0;m=20*m|0;l=20*l|0;p=20*p|0;e=a+e;f=d+f;var r=a+g;this._currentPath.moveTo(e,f-p);this._currentPath.curveTo(e,f,e-p,f);this._currentPath.lineTo(a+l,f);this._currentPath.curveTo(a,f,a,f-l);this._currentPath.lineTo(a,d+g);this._currentPath.curveTo(a,d,r,d);this._currentPath.lineTo(e-m,d);this._currentPath.curveTo(e,d,e,d+m);this._currentPath.lineTo(e,f-p)}},drawTriangles:function(){notImplemented("Graphics#drawTriangles")},endFill:function(){this.beginPath();
this._currentPath.fillStyle=null},lineBitmapStyle:function(a,d,e,f){this.beginPath();this._currentPath.lineStyle=createPatternStyle(a,d,e,f)},lineGradientStyle:function(a,d,e,f,g,m,l,p){a=createGradientStyle(a,d,e,f,g,m,l,p);this.beginPath();this._currentPath.lineStyle=a},lineStyle:function(a,d,e,f,g,m,l,p){this.beginPath();a?(void 0===e&&(e=1),void 0===p&&(p=3),this._currentPath.lineStyle={style:rgbIntAlphaToStr(d,e),lineCap:m||"round",lineJoin:m||"round",width:20*a|0,miterLimit:2*p}):this._currentPath.lineStyle=
null},lineTo:function(a,d){this._invalidate();this._currentPath.lineTo(20*a|0,20*d|0)},moveTo:function(a,d){this._currentPath.moveTo(20*a|0,20*d|0)},_getBounds:function(a){var d;a&&this.strokeBbox?d=this.strokeBox:this.bbox&&(d=this.bbox);if(d)return d;if(this.bbox)return this.bbox;var e=this._paths,f=[],g=[];d=[];a=[];for(var m=0,l=e.length;m<l;m++){var p=e[m];if(p.commands.length&&(p=p.getBounds(!0)))f.push(p.xMin),g.push(p.yMin),d.push(p.xMax),a.push(p.yMax)}if(0===f.length)return 0;e=Math.min.apply(Math,
f);g=Math.min.apply(Math,g);d=Math.max.apply(Math,d);a=Math.max.apply(Math,a);return{xMin:e,yMin:g,xMax:d,yMax:a}}};a.__glue__={"native":{instance:{beginFill:a.beginFill,beginGradientFill:a.beginGradientFill,beginBitmapFill:a.beginBitmapFill,beginFillObject:a.beginFillObject,beginStrokeObject:a.beginStrokeObject,clear:a.clear,copyFrom:a.copyFrom,cubicCurveTo:a.cubicCurveTo,curveTo:a.curveTo,drawCircle:a.drawCircle,drawEllipse:a.drawEllipse,drawPath:a.drawPath,drawRect:a.drawRect,drawRoundRect:a.drawRoundRect,
drawRoundRectComplex:a.drawRoundRectComplex,drawTriangles:a.drawTriangles,endFill:a.endFill,lineBitmapStyle:a.lineBitmapStyle,lineGradientStyle:a.lineGradientStyle,lineStyle:a.lineStyle,moveTo:a.moveTo,lineTo:a.lineTo}}};return a}.call(this);function createPatternStyle(a,b,d,e){return{style:factoryCtx.createPattern(a._drawable,!1===d?"no-repeat":"repeat"),transform:b?{a:b.a,b:b.b,c:b.c,d:b.d,e:b.tx,f:b.ty}:{a:1,b:0,c:0,d:1,e:0,f:0},smooth:e}}
function createGradientStyle(a,b,d,e,f,g,m,l){null===a||void 0===a&&throwError("TypeError",Errors.NullPointerError,"type");null===b||void 0===a&&throwError("TypeError",Errors.NullPointerError,"colors");"linear"===a||"radial"===a||throwError("ArgumentError",Errors.InvalidEnumError,"type");g=[];m=0;for(var p=b.length;m<p;m++)g.push({ratio:e[m]/255,color:rgbIntAlphaToStr(b[m],d[m])});return{style:"linear"===a?buildLinearGradientFactory(g):buildRadialGradientFactory(l||0,g),transform:f?{a:819.2*f.a,b:819.2*
f.b,c:819.2*f.c,d:819.2*f.d,e:f.tx,f:f.ty}:{a:819.2,b:0,c:0,d:819.2,e:0,f:0}}}
var InteractiveObjectDefinition=function(){var a={initialize:function(){this._contextMenu=null;this._doubleClickEnabled=!1;this._focusRect=null;this._mouseEnabled=!0;this._tabEnabled=!1},get accessibilityImplementation(){return null},set accessibilityImplementation(a){somewhatImplemented("accessibilityImplementation")},get contextMenu(){somewhatImplemented("contextMenu");return this._contextMenu},set contextMenu(a){somewhatImplemented("contextMenu");this._contextMenu=a},get doubleClickEnabled(){return this._doubleClickEnabled},
set doubleClickEnabled(a){this._doubleClickEnabled=a},get focusRect(){return this._focusRect},set focusRect(a){this._focusRect=a},get mouseEnabled(){return this._mouseEnabled},set mouseEnabled(a){this._mouseEnabled=a},get needsSoftKeyboard(){return!1},set needsSoftKeyboard(a){notImplemented()},get softKeyboardInputAreaOfInterest(){return null},set softKeyboardInputAreaOfInterest(a){notImplemented()},get tabEnabled(){return this._tabEnabled},set tabEnabled(a){var b=this._tabEnabled;this._tabEnabled=
a;b!==a&&this._dispatchEvent(new flash.events.Event("tabEnabledChange",!1,!1))},requestSoftKeyboard:function(){notImplemented()}},b=Object.getOwnPropertyDescriptor;a.__glue__={"native":{instance:{tabEnabled:b(a,"tabEnabled"),tabIndex:{get:function(){return this._tabIndex},set:function(a){this._tabIndex=a}},focusRect:b(a,"focusRect"),mouseEnabled:b(a,"mouseEnabled"),doubleClickEnabled:b(a,"doubleClickEnabled"),accessibilityImplementation:b(a,"accessibilityImplementation"),softKeyboardInputAreaOfInterest:b(a,
"softKeyboardInputAreaOfInterest"),needsSoftKeyboard:b(a,"needsSoftKeyboard"),contextMenu:b(a,"contextMenu"),requestSoftKeyboard:a.requestSoftKeyboard}}};return a}.call(this),$RELEASE=!1,LoaderDefinition=function(){function a(a,d){function e(){var a={},b={type:"frame"},d=0,l=null,m=0;return{onstart:function(a){g({command:"init",result:a})},onprogress:function(e){if(Date.now()-m>1E3/24||e.bytesLoaded===e.bytesTotal)g({command:"progress",result:{bytesLoaded:e.bytesLoaded,bytesTotal:e.bytesTotal}}),
m=Date.now();e=e.tags;for(var p=e.length;d<p;d++){var v=e[d];if("id"in v){var w=void 0;switch(v.code){case 6:case 21:case 35:case 90:case 8:w=defineImage(v,f);break;case 20:case 36:w=defineBitmap(v);break;case 7:case 34:w=defineButton(v,f);break;case 37:w=defineText(v,f);break;case 10:case 48:case 75:case 91:w=defineFont(v,f);break;case 46:case 84:case 2:case 22:case 32:case 83:w=defineShape(v,f);break;case 14:w=defineSound(v,f);break;case 87:w={type:"binary",id:v.id,data:v.data};break;case 39:for(var w=
{},J={type:"frame"},P=[],Q=v.tags,S=null,O=0,F=null,H=0,R=Q.length;H<R;H++){var K=Q[H];switch(K.code){case 12:S||(S=[]);S.push(O);S.push(K.actionsData);break;case 15:(J.startSounds||(J.startSounds=[])).push(K);break;case 18:try{F=createSoundStream(K),J.soundStream=F.info}catch(I){}break;case 19:F&&(J.soundStreamBlock=F.decode(K.data));break;case 43:J.labelName=K.name;break;case 4:case 26:case 70:w[K.depth]=K;break;case 5:case 28:w[K.depth]=null;break;case 1:for(K=1;H<R-1&&1===Q[H+1].code;)H++,K++;
O+=K;J.repeat=K;J.depths=w;P.push(J);w={};J={type:"frame"}}}w={type:"sprite",id:v.id,frameCount:v.frameCount,frames:P,frameScripts:S};break;case 11:case 33:w=defineLabel(v,f)}w?(w.isSymbol=!0,f[v.id]=w,g(w,w.transferables)):g({command:"error",message:"unknown symbol type: "+v.code})}else switch(v.code){case 86:b.sceneData=v;break;case 78:g({isSymbol:!0,id:v.symbolId,updates:{scale9Grid:v.splitter}});break;case 82:case 72:(w=b.abcBlocks)?w.push({data:v.data,flags:v.flags}):b.abcBlocks=[{data:v.data,
flags:v.flags}];break;case 12:(w=b.actionBlocks)?w.push(v.actionsData):b.actionBlocks=[v.actionsData];break;case 59:(b.initActionBlocks||(b.initActionBlocks=[])).push({spriteId:v.spriteId,actionsData:v.actionsData});break;case 15:w=b.startSounds;w||(b.startSounds=w=[]);w.push(v);break;case 18:try{l=createSoundStream(v),b.soundStream=l.info}catch(M){}break;case 19:l&&(b.soundStreamBlock=l.decode(v.data));break;case 56:w=b.exports;b.exports=w?w.concat(v.exports):v.exports.slice(0);break;case 76:w=b.symbolClasses;
b.symbolClasses=w?w.concat(v.exports):v.exports.slice(0);break;case 43:b.labelName=v.name;break;case 4:case 26:case 70:a[v.depth]=v;break;case 5:case 28:a[v.depth]=null;break;case 9:b.bgcolor=v.color;break;case 1:for(v=1;d<p;){w=e[d+1];if(!w||1!==w.code)break;d++;v++}b.repeat=v;b.depths=a;g(b);a={};b={type:"frame"}}}},oncomplete:function(a){g(a);var b;"number"===typeof a.swfVersion&&(b=a.bbox,b={topic:"parseInfo",parseTime:a.parseTime,bytesTotal:a.bytesTotal,swfVersion:a.swfVersion,frameRate:a.frameRate,
width:(b.xMax-b.xMin)/20,height:(b.yMax-b.yMin)/20,isAvm2:!!a.fileAttributes.doAbc});g({command:"complete",stats:b})}}}var f={},g;g=a?function(b){return a._commitData(b)}:function(a,b){self.postMessage(a,b)};if(b||!flash.net.URLRequest.class.isInstanceOf(d))if(d instanceof ArrayBuffer)SWF.parse(d,e());else if("subscribe"in d){var v=SWF.parseAsync(e());d.subscribe(function(a,b){a?v.push(a,b):v.close()})}else if("undefined"!==typeof FileReaderSync){var w=new FileReaderSync,w=w.readAsArrayBuffer(d);
SWF.parse(w,e())}else w=new FileReader,w.onload=function(){SWF.parse(this.result,e())},w.readAsArrayBuffer(d);else w=FileLoadingService.createSession(),v=SWF.parseAsync(e()),w.onprogress=function(b,d){v.push(b,d);b={command:"progress",result:{bytesLoaded:d.bytesLoaded,bytesTotal:d.bytesTotal}};a._commitData(b)},w.onerror=function(b){a._commitData({command:"error",error:b})},w.onopen=function(){},w.onclose=function(){v.close()},w.open(d._toFileRequest())}var b="undefined"===typeof window;if(b){var d=
null;self.onmessage=function(b){d?d.callback(b.data.data,b.data.progress):"pipe:"===b.data?(d={subscribe:function(a){this.callback=a}},a(null,d)):a(null,b.data)}}else{var e=document.head;e.insertBefore(document.createElement("style"),e.firstChild);var f=document.styleSheets[0],g={__class__:"flash.display.Loader",initialize:function(){this._contentLoaderInfo=new flash.display.LoaderInfo;this._contentLoaderInfo._loader=this;this._dictionary={};this._displayList=null;this._timeline=[];this._worker=this._uncaughtErrorEvents=
this._lastPromise=null},_commitData:function(a){switch(a.command){case "init":this._init(a.result);break;case "progress":this._updateProgress(a.result);break;case "complete":var b=new Promise;avm2.systemDomain.onMessage.register("frameConstructed",function r(a){"frameConstructed"===a&&(b.resolve(),avm2.systemDomain.onMessage.unregister("frameConstructed",r))});Promise.when(b,this._lastPromise).then(function(){this.contentLoaderInfo._dispatchEvent("complete")}.bind(this));(a=a.stats)&&TelemetryService.reportTelemetry(a);
this._worker&&this._worker.terminate();break;case "empty":this._lastPromise=new Promise;this._lastPromise.resolve();break;case "error":this.contentLoaderInfo._dispatchEvent("ioError",flash.events.IOErrorEvent);break;default:if(0===a.id)break;a.isSymbol?this._commitSymbol(a):"frame"===a.type?this._commitFrame(a):"image"===a.type&&this._commitImage(a)}},_updateProgress:function(a){var b=this.contentLoaderInfo;b._bytesLoaded=a.bytesLoaded||0;b._bytesTotal=a.bytesTotal||0;a=new flash.events.ProgressEvent("progress",
!1,!1,b._bytesLoaded,b._bytesTotal);b._dispatchEvent(a)},_buildFrame:function(a,b,d,e){var f=this._dictionary,g={},w=[],z=e.depths;if(a)for(var A=a.depths,C=0;C<A.length;C++){var u=A[C];null!==z[u]&&(g[u]=a[u],w.push(u))}for(u in z)if(A=z[u]){if(A.move){var C=A,A=cloneObject(a[u]),y;for(y in C){var D=C[y];D&&(A[y]=D)}}A.symbolId&&((C=f[A.symbolId])&&!C.resolved&&d.push(C),A=cloneObject(A),A.promise=C);g[u]||w.push(u);g[u]=A}w.sort(sortNumeric);g.depths=w;for(C=e.repeat;C--;)b.push(g);return g},_commitFrame:function(a){var b=
a.abcBlocks,d=a.actionBlocks,e=a.initActionBlocks,f=a.exports,g=a.symbolClasses,w=a.sceneData,z=this,A=z._dictionary,C=z.contentLoaderInfo,u=z._timeline,y=u.length+1,D=new Promise,B=a.labelName,E=this._lastPromise;this._lastPromise=D;E=[E];this._displayList=this._buildFrame(this._displayList,u,E,a,y);a.bgcolor?C._backgroundColor=a.bgcolor:isNullOrUndefined(C._backgroundColor)&&(C._backgroundColor={red:255,green:255,blue:255,alpha:255});Promise.when.apply(Promise,E).then(function(){if(b&&z._isAvm2Enabled)for(var a=
avm2.applicationDomain,d=0,e=b.length;d<e;d++){var m=new AbcFile(b[d].data,"abc_block_"+d);b[d].flags?a.loadAbc(m):a.executeAbc(m)}if(g&&z._isAvm2Enabled){for(var p=[],d=0,e=g.length;d<e;d++)if(a=g[d],m=A[a.symbolId])m.then(function(a,b){return function(){var d=a.value;d.className=b;avm2.applicationDomain.getClass(b).setSymbol(d.props)}}(m,a.className)),p.push(m);return Promise.when.apply(Promise,p)}if(f&&!z._isAvm2Enabled){p=[];d=0;for(e=f.length;d<e;d++)if(a=f[d],m=A[a.symbolId])m.then(function(a,
b){return function(){z._avm1Context.addAsset(b,a.value.props)}}(m,a.className)),p.push(m);return Promise.when.apply(Promise,p)}}).then(function(){var b=z._content,f;if(b){if(b._framesLoaded+=a.repeat,B&&b._labelMap&&void 0===b._labelMap[B]){b._labelMap[B]=y;for(var g=0,l=b.symbol.scenes.length;g<l;g++)if(M=b.symbol.scenes[g],y>=M._startFrame&&y<=M._endFrame){M.labels.push(new flash.display.FrameLabel(B,y-M._startFrame));break}}}else{var s=z._parent;!0;b=A[0].value;l=avm2.applicationDomain.getClass(b.className);
b=l.createAsSymbol({framesLoaded:u.length,loader:z,parent:s||z,index:s?0:-1,level:s?0:-1,timeline:u,totalFrames:b.props.totalFrames,stage:z._stage});s&&s==z._stage&&0===z._stage._children.length?(s._frameRate=C._frameRate,s._stageHeight=C._height,s._stageWidth=C._width,s._root=b,s._setup()):z._children.push(b);f=b.symbol.labelMap=createEmptyObject();if(w){for(var v=[],E,H=b.symbol.totalFrames-1,R=w.scenes,K=w.labels,g=R.length;g--;){var I=R[g];E=I.offset;for(var M=[],T=K.length;T--;){var L=K[T];L.frame>=
E&&L.frame<=H&&(f[L.name]=L.frame+1,M.unshift(new flash.display.FrameLabel(L.name,L.frame-E+1)))}var M=new flash.display.Scene(I.name,M,H-E+1);M._startFrame=E+1;M._endFrame=H+1;v.unshift(M);H=E-1}b.symbol.scenes=v}else M=[],B&&(f[B]=y,M.push(new flash.display.FrameLabel(B,y))),M=new flash.display.Scene("Scene 1",M,b.symbol.totalFrames),M._endFrame=b.symbol.totalFrames,b.symbol.scenes=[M];if(!z._isAvm2Enabled){var N=z._avm1Context,g=b;if(s&&s!==z._stage){for(s=s._loader;s._parent&&s._parent!==z._stage;)s=
s._parent._loader;g=s._content}s=g._getAS2Object();N.globals.asSetPublicProperty("_root",s);N.globals.asSetPublicProperty("_level0",s);N.globals.asSetPublicProperty("_level1",s);var g=z.loaderInfo._parameters,V;for(V in g)V in s||(s[V]=g[V])}l.instanceConstructor.call(b);z._content=b}a.startSounds&&b._registerStartSounds(y,a.startSounds);a.soundStream&&b._initSoundStream(a.soundStream);a.soundStreamBlock&&b._addSoundStreamBlock(y,a.soundStreamBlock);if(!z._isAvm2Enabled){N=z._avm1Context;if(e)for(g=
0;g<e.length;g++)b.addFrameScript(y-1,function(a,b,d){if(!d.executed)return d.executed=!0,executeActions(a,N,this._getAS2Object())}.bind(b,e[g].actionsData,e[g].spriteId,{executed:!1}));if(d)for(g=0;g<d.length;g++)b.addFrameScript(y-1,function(a){return function(){return executeActions(a,N,this._getAS2Object())}}(d[g]))}1===y&&C._dispatchEvent(new flash.events.Event("init",!1,!1));D.resolve(a)})},_commitImage:function(a){var b=this,d=this._lastPromise=new Promise,e=new Image;a.props.img=e;e.onload=
function(){var e=a.props;e.parent=b._parent;e.stage=b._stage;e.skipCopyToCanvas=!0;var f=avm2.systemDomain.getClass("flash.display.Bitmap"),g=avm2.systemDomain.getClass("flash.display.BitmapData"),e=g.createAsSymbol(e);g.instanceConstructor.call(e,0,0,!0,4294967295);g=f.createAsSymbol(e);b._children.push(g);f.instanceConstructor.call(g,e);g._parent=b;b._content=g;d.resolve(a);b.contentLoaderInfo._dispatchEvent("init")};e.src=URL.createObjectURL(a.data);delete a.data},_commitSymbol:function(a){var b=
this._dictionary;if("updates"in a)b[a.id].then(function(b){for(var d in a.updates)b.props[d]=a.updates[d]});else{var d="flash.display.DisplayObject",e=a.require,g=[],v={symbolId:a.id,loader:this},w=new Promise;if(e&&e.length)for(var z=0,A=e.length;z<A;z++){var C=b[e[z]];C&&!C.resolved&&g.push(C)}switch(a.type){case "button":var A={},u;for(u in a.states){for(var C=[],e={},y=a.states[u],D=Object.keys(y),z=0;z<D.length;z++){var B=D[z],E=y[B],G=b[E.symbolId];G&&!G.resolved&&g.push(G);C.push(G);e[B]=Object.create(E,
{promise:{value:G}})}D.sort(sortNumeric);e.depths=D;z=new Promise;z.resolve({className:"flash.display.Sprite",props:{loader:this,timeline:[e]}});A[u]=z}d="flash.display.SimpleButton";v.states=A;v.buttonActions=a.buttonActions;break;case "font":if(fromCharCode.apply(null,a.codes)&&(f.insertRule('@font-face{font-family:"'+a.uniqueName+'";src:url(data:font/opentype;base64,'+btoa(a.data)+")}",f.cssRules.length),!/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.test(window.navigator.userAgent))){var J=document.createElement("div");
J.setAttribute("style",'position: absolute; top: 0; right: 0;visibility: hidden; z-index: -500;font-family:"'+a.uniqueName+'";');J.textContent="font test";document.body.appendChild(J);var P=new Promise;setTimeout(function(){P.resolve();document.body.removeChild(J)},200);g.push(P)}d="flash.text.Font";v.name=a.name;v.uniqueName=a.uniqueName;v.charset=a.charset;v.bold=a.bold;v.italic=a.italic;v.metrics=a.metrics;this._registerFont(d,v);break;case "image":var Q=new Image,S=new Promise;Q.onload=function(){if(a.mask){var b=
document.createElement("canvas");b.width=a.width;b.height=a.height;var d=b.getContext("2d");d.drawImage(Q,0,0);for(var e=d.getImageData(0,0,a.width,a.height),f=e.data,g=a.mask,l=e.width*e.height,p=0,r=3;p<l;p++,r+=4)f[r]=g[p];d.putImageData(e,0,0);v.img=b}S.resolve()};Q.src=URL.createObjectURL(a.data);g.push(S);d="flash.display.Bitmap";v.img=Q;v.width=a.width;v.height=a.height;break;case "label":z=new Function("c,r,ct",a.data);d="flash.text.StaticText";v.bbox=a.bbox;v.draw=z;break;case "text":v.bbox=
a.bbox;v.html=a.html;"label"===a.type?d="flash.text.StaticText":(d="flash.text.TextField",v.tag=a.tag,v.variableName=a.variableName);break;case "shape":d=a.morph?"flash.display.MorphShape":"flash.display.Shape";v.bbox=a.bbox;v.strokeBbox=a.strokeBbox;v.paths=a.paths;v.dictionary=b;break;case "sound":if(!a.pcm&&!PLAY_USING_AUDIO_TAG){var O=new Promise;MP3DecoderSession.processAll(a.packaged.data,function(a,b,d,e){a.pcm=b||new Uint8Array(0);O.resolve();e&&console.error("ERROR: "+e)}.bind(null,v));g.push(O)}d=
"flash.media.Sound";v.sampleRate=a.sampleRate;v.channels=a.channels;v.pcm=a.pcm;v.packaged=a.packaged;break;case "binary":v.data=a.data;break;case "sprite":e=null;u=a.frameCount;C={};y=1;E=a.frames;D=[];B=[];z=0;for(A=E.length;z<A;z++){G=E[z];y=D.length+1;G.labelName&&(C[G.labelName]=y);if(G.startSounds){B[y]=G.startSounds;for(var F=0;F<G.startSounds.length;F++){var H=b[G.startSounds[F].soundId];H&&!H.resolved&&g.push(H)}}e=this._buildFrame(e,D,g,G,y)}e={};if(!this._isAvm2Enabled&&a.frameScripts){A=
a.frameScripts;for(z=0;z<A.length;z+=2)y=A[z]+1,E=function(a,b){return function(){return executeActions(a,b._avm1Context,this._getAS2Object())}}(A[z+1],this),e[y]?e[y].push(E):e[y]=[E]}d="flash.display.MovieClip";v.timeline=D;v.framesLoaded=u;v.labelMap=C;v.frameScripts=e;v.totalFrames=u;v.startSoundRegistrations=B}b[a.id]=w;Promise.when.apply(Promise,g).then(function(){w.resolve({className:d,props:v})})}},_registerFont:function(a,b){this._vmPromise.then(function(){var d=avm2.applicationDomain.getClass(a),
e=d.createAsSymbol(b);d.instanceConstructor.call(e)})},_init:function(a){var b=this.contentLoaderInfo;b._swfVersion=a.swfVersion;var d=a.bbox;b._width=d.xMax-d.xMin;b._height=d.yMax-d.yMin;b._frameRate=a.frameRate;var e=new Promise,b=new Promise;b.then(function(){e.resolve({className:"flash.display.MovieClip",props:{totalFrames:a.frameCount}})});this._lastPromise=this._dictionary[0]=e;this._vmPromise=b;this._isAvm2Enabled=a.fileAttributes.doAbc;this._setup()},_load:function(d){!b&&flash.net.URLRequest.class.isInstanceOf(d)&&
(this._contentLoaderInfo._url=d._url);if(b)a(this,d);else{var e=this,f=e._worker=new Worker(SHUMWAY_ROOT+"shumway-worker.js");f.onmessage=function(a){e._commitData(a.data)};if(flash.net.URLRequest.class.isInstanceOf(d)){var g=FileLoadingService.createSession();g.onprogress=function(a,b){f.postMessage({data:a,progress:b})};g.onerror=function(a){e._commitData({command:"error",error:a})};g.onopen=function(){f.postMessage("pipe:")};g.onclose=function(){f.postMessage({data:null})};g.open(d._toFileRequest())}else f.postMessage(d)}},
_setup:function(){var a=this,b=a._stage;if(a._isAvm2Enabled)avm2.systemDomain.getClass("flash.ui.Mouse")._stage=b,a._vmPromise.resolve();else if(avm2.loadAVM1){var d=function(){var d=new AS2Context(a.contentLoaderInfo._swfVersion);d.stage=b;a._avm1Context=d;avm1lib.AS2Key.class.$bind(b);avm1lib.AS2Mouse.class.$bind(b);b._addEventListener("frameConstructed",d.flushPendingScripts.bind(d),!1,Number.MAX_VALUE);a._vmPromise.resolve()};avm2.isAVM1Loaded?d():(avm2.isAVM1Loaded=!0,avm2.loadAVM1(d))}else a._vmPromise.reject("AVM1 loader is not found")},
get contentLoaderInfo(){return this._contentLoaderInfo},get content(){somewhatImplemented("Loader.content");return this._content}};g.__glue__={"native":{instance:{content:Object.getOwnPropertyDescriptor(g,"content"),contentLoaderInfo:Object.getOwnPropertyDescriptor(g,"contentLoaderInfo"),_getJPEGLoaderContextdeblockingfilter:function(){return 0},_load:g._load,_loadBytes:function(a,b,d,e){g._load.call(this,a.a,b,d,e)},_unload:function(){somewhatImplemented("Loader._unload, do we even need to do anything here?")},
_close:function(){somewhatImplemented("Loader._close")},_getUncaughtErrorEvents:function(){somewhatImplemented("Loader._getUncaughtErrorEvents");return this._uncaughtErrorEvents},_setUncaughtErrorEvents:function(a){somewhatImplemented("Loader._setUncaughtErrorEvents");this._uncaughtErrorEvents=a}}}};return g}}.call(this),LoaderInfoDefinition=function(){return{__class__:"flash.display.LoaderInfo",initialize:function(){this._bytes=this._backgroundColor=this._actionScriptVersion=null;this._bytesTotal=
this._bytesLoaded=0;this._width=this._url=this._swfVersion=this._loaderURL=this._loader=this._height=this._frameRate=this._contentType=this._content=null},__glue__:{"native":{"static":{getLoaderInfoByDefinition:function(){notImplemented("LoaderInfo.getLoaderInfoByDefinition")}},instance:{_getArgs:function(){var a=this._parameters,b={},d;for(d in a)b[Multiname.getPublicQualifiedName(d)]=a[d];return b},_getUncaughtErrorEvents:function(){notImplemented("LoaderInfo._getUncaughtErrorEvents")},_setUncaughtErrorEvents:function(){notImplemented("LoaderInfo._setUncaughtErrorEvents")},
loaderURL:{get:function(){return this._loaderURL}},url:{get:function(){return this._url}},isURLInaccessible:{get:function(){return this._isURLInaccessible}},bytesLoaded:{get:function(){return this._bytesLoaded}},bytesTotal:{get:function(){return this._bytesTotal}},applicationDomain:{get:function(){return new flash.system.ApplicationDomain(avm2.applicationDomain)}},swfVersion:{get:function(){return this._swfVersion}},actionScriptVersion:{get:function(){return this._actionScriptVersion}},frameRate:{get:function(){return this._frameRate}},
width:{get:function(){return this._width}},height:{get:function(){return this._height}},contentType:{get:function(){return this._contentType}},sharedEvents:{get:function(){return this._sharedEvents}},parentSandboxBridge:{get:function(){return this._parentSandboxBridge},set:function(a){this._parentSandboxBridge=a}},childSandboxBridge:{get:function(){return this._childSandboxBridge},set:function(a){this._childSandboxBridge=a}},sameDomain:{get:function(){return this._sameDomain}},childAllowsParent:{get:function(){return this._childAllowsParent}},
parentAllowsChild:{get:function(){return this._parentAllowsChild}},loader:{get:function(){return this._loader}},content:{get:function(){return this._loader._content}},bytes:{get:function(){return this._bytes}}}},script:{instance:scriptProperties("public",["swfVersion","bytesTotal","bytesLoaded","parameters","uncaughtErrorEvent"])}}}}.call(this),MorphShapeDefinition=function(){return{__class__:"flash.display.MorphShape",initialize:function(){var a=this._graphics=new flash.display.Graphics,b=this.symbol;
b&&b.paths&&(initPathStyles(b.paths,b.dictionary),a._paths=b.paths,a.bbox=b.bbox,a.strokeBbox=b.strokeBbox,a.dictionary=b.dictionary,this._stage&&("low"===this._stage._quality&&!a._bitmap)&&a._cacheAsBitmap(this._bbox))},__glue__:{"native":{instance:{graphics:{get:function(){return this._graphics}}}}}}}.call(this),MovieClipDefinition=function(){var a={__class__:"flash.display.MovieClip",initialize:function(){this._currentFrame=this._playHead=1;this._currentLabel=this._currentFrameLabel=null;this._currentScene=
0;this._enabled=!0;this._frameScripts={};this._framesLoaded=1;this._isPlaying=!1;this._labelMap={};this._sceneFrameMap={};this._sceneMap={};this._timeline=this._scenes=null;this._totalFrames=1;this._startSoundRegistrations=[];this._allowFrameNavigation=!0;var a=this.symbol;if(a){this._timeline=a.timeline||null;this._framesLoaded=a.framesLoaded||1;this._labelMap=Object.create(a.labelMap||null);this._frameScripts=Object.create(a.frameScripts||null);this._totalFrames=a.totalFrames||1;this._startSoundRegistrations=
a.startSoundRegistrations||[];this._scenes=a.scenes||null;var a=this._labelMap,b;for(b in a)1==a[b]&&(this._currentFrameLabel=this._currentLabel=b)}this._enterFrame(1);var f=this;this._onExecuteFrame=function m(){f._removeEventListener("executeFrame",m);f._allowFrameNavigation=!1;f._callFrame(f._currentFrame);f._allowFrameNavigation=!0;f._playHead!==f._currentFrame&&f._gotoFrame(f._playHead,!0);f._postConstructChildren()};this._addEventListener("executeFrame",this._onExecuteFrame);if(1>=this._totalFrames)return this;
this._onAdvanceFrame=function(){var a=f._playHead+1;if(a>f._totalFrames)a=1;else if(a>f._framesLoaded)return;f._destructChildren(a);f._declareChildren(a);f._sparse&&f._addEventListener("constructChildren",f._onConstructChildren);f._startSounds(a);f._enterFrame(a);a in f._frameScripts&&f._addEventListener("executeFrame",f._onExecuteFrame)};this._onConstructChildren=function l(){f._removeEventListener("constructChildren",l);f._constructChildren()};this.play()},_declareChildren:function(a){var b=this._currentFrame;
if(a!==b){var f=this._timeline;a=f[a-1];if(a!==f[b-1])for(var b=null,f=this._currentDisplayList,g=a.depths,m=this._children.length,l=g.length;l--;){for(var p=g[l],r=p|0;f&&f.depth>r;)b=f,f=f.next;var s=null;f&&f.depth===r&&(s=f.obj)&&s._owned&&(m=this.getChildIndex(s));r=f&&f.depth===r?f.cmd:null;if((p=a[p])&&p!==r)if(r&&s&&s._animated&&p.symbolId===r.symbolId&&p.ratio===r.ratio){s._invalidate();s._invalidateBounds();if(p.hasMatrix){var r=p.matrix,v=r.a,w=r.b,z=r.c,A=r.d;s._rotation=180*Math.atan2(w,
v)/Math.PI;var C=Math.sqrt(v*v+w*w);s._scaleX=0<v?C:-C;C=Math.sqrt(A*A+z*z);s._scaleY=0<A?C:-C;C=s._currentTransform;C.a=v;C.b=w;C.c=z;C.d=A;C.tx=r.tx;C.ty=r.ty;s._invalidateTransform()}p.hasCxform&&(s._cxform=p.cxform);p.clip&&(s._clipDepth=p.clipDepth);p.hasName&&(s.name=p.name);p.blend&&(s.blendMode=this._resolveBlendMode(p.blendMode))}else s=this._addTimelineChild(p,m),s.next=f,b?b.next=s:this._currentDisplayList=s,b=s}}},_destructChildren:function(a){var b=this._currentFrame;if(a!==b){var f=
this._timeline;a=f[a-1];if(a!==f[b-1]){for(var f=null,g=this._currentDisplayList,b=null;g;){var m=g.cmd,l=a[g.depth];!l||l.symbolId!==m.symbolId||l.ratio!==m.ratio?(m=g.next,f?f.next=m:this._currentDisplayList=m,g.next=b,b=g,g=m):(f=g,g=g.next)}for(;b;){if(a=b.obj)this._sparse=!0,this.removeChild(a),a.destroy(),a._isPlaying&&a.stop();b=b.next}}}},_gotoFrame:function(a,b){var f=a!==this._currentFrame;this._allowFrameNavigation||!this._loader._isAvm2Enabled?(f&&(this._destructChildren(a),this._declareChildren(a),
this._enterFrame(a)),this._constructChildren(),this._loader._isAvm2Enabled&&10<=this.loaderInfo._swfVersion?(f&&this._addEventListener("executeFrame",this._onExecuteFrame),f=avm2.systemDomain,f.broadcastMessage("frameConstructed"),f.broadcastMessage("executeFrame"),f.broadcastMessage("exitFrame")):(f&&(b||!this._loader._isAvm2Enabled)&&this._callFrame(a),this._postConstructChildren())):f&&(this._playHead=a)},_enterFrame:function(a){if(a!==this._currentFrame){this._currentFrameLabel=null;1===a&&(this._currentLabel=
null);var b=this._labelMap,f;for(f in b)if(b[f]===a){this._currentFrameLabel=this._currentLabel=f;break}if(this._scenes){b=this._scenes;f=0;for(var g=b.length;f<g;f++){var m=b[f];if(a>=m._startFrame&&a<=m._endFrame){this._currentScene=f;break}}}this._playHead=this._currentFrame=a}},_callFrame:function(a){if(isNaN(a)&&(a=this._labelMap[a],void 0===a))return;if(a in this._frameScripts){a=this._frameScripts[a];try{for(var b=0,f=a.length;b<f;b++)a[b].call(this)}catch(g){throw TelemetryService.reportTelemetry({topic:"error",
error:2}),this.stop(),g;}}},_gotoButtonState:function(a){this._enabled&&this.gotoLabel("_"+a)},_getAbsFrameNum:function(a,b){1>a&&(a=1);if(b&&this._scenes&&1<this._scenes.length)for(var f=this._scenes,g=0;g<f.length;g++){var m=f[g];if(m.name===b){a+=m._startFrame-1;a>m._endFrame&&(a=m._endFrame);break}}return a>this._totalFrames?1:a>this._framesLoaded?this._framesLoaded:a},_registerStartSounds:function(a,b){this._startSoundRegistrations[a]=b},_initSoundStream:function(a){var b=this._soundStream={data:{sampleRate:a.sampleRate,
channels:a.channels},seekIndex:[],position:0},f="mp3"===a.format;if(f&&PLAY_USING_AUDIO_TAG){var g=document.createElement("audio");if(g.canPlayType("audio/mpeg")){b.element=g;b.rawFrames=[];return}}b.data.pcm=new Float32Array(a.samplesCount*a.channels);f&&(b.decoderPosition=0,b.decoderSession=new MP3DecoderSession,b.decoderSession.onframedata=function(a){var d=b.decoderPosition;b.data.pcm.set(a,d);b.decoderPosition=d+a.length}.bind(this),b.decoderSession.onerror=function(a){console.error("ERROR: MP3DecoderSession: "+
a)})},_addSoundStreamBlock:function(a,b){var f=this._soundStream,g=f.position;f.seekIndex[a]=g+b.seek*f.data.channels;f.position=g+b.samplesCount*f.data.channels;if(f.rawFrames)f.rawFrames.push(b.data);else{var m=f.decoderSession;m?m.pushAsync(b.data):f.data.pcm.set(b.pcm,g)}},_startSounds:function(a){var b=this._startSoundRegistrations[a];if(b)for(var f=this._sounds||(this._sounds={}),g=this.loaderInfo._loader,m=0;m<b.length;m++){var l=b[m],p=l.soundId,r=l.soundInfo,s=f[p];if(!s){s=g._dictionary[p].value;
if(!s)continue;l=avm2.systemDomain.findClass(s.className)?avm2.systemDomain.getClass(s.className):avm2.applicationDomain.getClass(s.className);s=l.createAsSymbol(s.props);l.instanceConstructor.call(s);f[p]=s={object:s}}s.channel&&(s.channel.stop(),delete s.channel);r.stop||(s.channel=s.object.play(0,r.hasLoops?r.loopCount:0))}if(this._soundStream&&!isNaN(this._soundStream.seekIndex[a]))if(b=this._soundStream,f=b.element)if(l=b.data,a=b.seekIndex[a]/l.sampleRate/l.channels,this._framesLoaded>=this._totalFrames&&
!b.channel)a=new Blob(b.rawFrames),f.preload="metadata",f.loop=!1,f.src=URL.createObjectURL(a),l=flash.media.SoundChannel.class,a=l.createAsSymbol({element:f}),l.instanceConstructor.call(a),b.channel=a;else if(!isNaN(f.duration)&&f.currentTime>a+2&&f.currentTime<a+4)f.pause();else{if(!isNaN(f.duration)&&(f.paused||4<Math.abs(f.currentTime-a)))2<Math.abs(f.currentTime-a)&&(f.pause(),f.currentTime=a),f.play()}else b.sound||(l=flash.media.Sound.class,s=l.createAsSymbol(this._soundStream.data),l.instanceConstructor.call(s),
a=s.play(),b.sound=s,b.channel=a)},_getAS2Object:function(){if(!this.$as2Object)if(this._avm1SymbolClass){var a=this,b=this._avm1SymbolClass,f=function(){this.init(a);b.call(this)};f.prototype=Object.create(b.prototype);f.instanceConstructor=f;f.debugName="avm1 <symbol constructor wrapper>";construct(f)}else new avm1lib.AS2MovieClip(this);return this.$as2Object},get currentFrame(){var a=this._currentFrame;return this._scenes?a-this.currentScene._startFrame+1:a},get currentFrameLabel(){return this._currentFrameLabel},
get currentLabel(){return this._currentLabel},get currentLabels(){if(this._scenes)return this._scenes[this._currentScene].labels;var a=[],b=this._labelMap,f;for(f in b)a.push(new flash.display.FrameLabel(f,b[f]));return a},get currentScene(){return this._scenes?this._scenes[this._currentScene]:new flash.display.Scene("",this.currentLabels,this._totalFrames)},get enabled(){return this._enabled},set enabled(a){this._enabled=a},get framesLoaded(){return this._framesLoaded},get totalFrames(){return this._totalFrames},
get scenes(){return this._scenes||[new flash.display.Scene("",this.currentLabels,this._totalFrames)]},get trackAsMenu(){return!1},set trackAsMenu(a){notImplemented()},addFrameScript:function(){for(var a=this._frameScripts,b=0,f=arguments.length;b<f;b+=2){var g=arguments[b]+1,m=arguments[b+1],l=a[g];l?l.push(m):a[g]=[m];g===this._currentFrame&&this._addEventListener("executeFrame",this._onExecuteFrame)}},gotoAndPlay:function(a,b){this.play();isNaN(a)?this.gotoLabel(a):this._gotoFrame(this._getAbsFrameNum(a,
b))},gotoAndStop:function(a,b){this.stop();isNaN(a)?this.gotoLabel(a):this._gotoFrame(this._getAbsFrameNum(a,b))},gotoLabel:function(a){a=this._labelMap[a];void 0!==a&&this._gotoFrame(a)},isPlaying:function(){return this._isPlaying},nextFrame:function(){this.stop();this._currentFrame<this._framesLoaded&&this._gotoFrame(this._currentFrame+1)},nextScene:function(){this._scenes&&this._currentScene<this._scenes.length-1&&this._gotoFrame(this._scenes[this._currentScene+1]._startFrame)},play:function(){this._isPlaying||
1>=this._totalFrames||(this._isPlaying=!0,this._addEventListener("advanceFrame",this._onAdvanceFrame))},prevFrame:function(){this.stop();1<this._currentFrame&&this._gotoFrame(this._currentFrame-1)},prevScene:function(){this._scenes&&0<this._currentScene&&this._gotoFrame(this._scenes[this._currentScene-1]._startFrame)},stop:function(){this._isPlaying&&!(1>=this._totalFrames)&&(this._isPlaying=!1,this._removeEventListener("advanceFrame",this._onAdvanceFrame))}},b=Object.getOwnPropertyDescriptor;a.__glue__=
{"native":{instance:{currentFrame:b(a,"currentFrame"),framesLoaded:b(a,"framesLoaded"),totalFrames:b(a,"totalFrames"),trackAsMenu:b(a,"trackAsMenu"),scenes:b(a,"scenes"),currentScene:b(a,"currentScene"),currentLabel:b(a,"currentLabel"),currentFrameLabel:b(a,"currentFrameLabel"),enabled:b(a,"enabled"),isPlaying:b(a,"isPlaying"),play:a.play,stop:a.stop,nextFrame:a.nextFrame,prevFrame:a.prevFrame,gotoAndPlay:a.gotoAndPlay,gotoAndStop:a.gotoAndStop,addFrameScript:a.addFrameScript,prevScene:a.prevScene,
nextScene:a.nextScene}}};return a}.call(this),NativeMenuDefinition=function(){return{__class__:"flash.display.NativeMenu",initialize:function(){},__glue__:{"native":{"static":{},instance:{}}}}}.call(this),NativeMenuItemDefinition=function(){return{__class__:"flash.display.NativeMenuItem",initialize:function(){},__glue__:{"native":{"static":{},instance:{enabled:{get:function(){somewhatImplemented("NativeMenuItem.enabled");return this._enabled},set:function(a){somewhatImplemented("NativeMenuItem.enabled");
this._enabled=a}}}}}}}.call(this),SceneDefinition=function(){return{__class__:"flash.display.Scene",initialize:function(){this._endFrame=this._startFrame=1},__glue__:{"native":{"static":{},instance:{}},script:{"static":{},instance:{name:{get:function(){notImplemented("Scene.name");return this._name}},labels:{get:function(){notImplemented("Scene.labels");return this._labels}},numFrames:{get:function(){notImplemented("Scene.numFrames");return this._numFrames}}}}}}}.call(this),ShapeDefinition=function(){return{__class__:"flash.display.Shape",
initialize:function(){var a=this._graphics=new flash.display.Graphics;a._parent=this;var b=this.symbol;if(b&&b.paths){a._paths=b.paths;for(var d=0;d<b.paths.length;d++)b.paths[d]=finishShapePath(b.paths[d],b.dictionary);a.bbox=b.bbox;a.strokeBbox=b.strokeBbox;a.dictionary=b.dictionary;this._stage&&("low"===this._stage._quality&&!a._bitmap)&&a._cacheAsBitmap(this._bbox);this.ratio=b.ratio||0}},__glue__:{"native":{instance:{graphics:{get:function(){return this._graphics}}}}}}}.call(this),SimpleButtonDefinition=
function(){var a=[0,37,39,36,35,45,46,0,8,0,0,0,0,13,38,40,33,34,9,27],b=[0,0,1,128,64,0,0,32,2,0,0,4,256,16,8,0];return{__class__:"flash.display.SimpleButton",initialize:function(){this._enabled=this._useHandCursor=!0;this._trackAsMenu=!1;this._hitTestState=this._downState=this._overState=this._upState=null;this._currentButtonState="up";this._mouseChildren=!1;this._buttonMode=!0;this._avm1StateCode=this._prevAvm1StateCode=0;this._avm1MouseEvents=null;this._isContainer=!0;var a=this.symbol;if(a){var b=
a.states;b.down&&(this._downState=this._constructState(b.down.value,this));b.hitTest&&(this._hitTestState=this._constructState(b.hitTest.value,this));b.over&&(this._overState=this._constructState(b.over.value,this));b.up&&(this._upState=this._constructState(b.up.value,this))}this._loader&&(!this._loader._isAvm2Enabled&&a&&a.buttonActions)&&this._addEventListener("addedToStage",function(){this._initAvm1Events(a.buttonActions)}.bind(this),!1)},_constructState:function(a){var b=avm2.systemDomain.findClass(a.className)?
avm2.systemDomain.getClass(a.className):avm2.applicationDomain.getClass(a.className);a=b.createAsSymbol(a.props);b.instanceConstructor.call(a);1===a._children.length&&(a=a._children[0],a._parent=null,a._index=-1);return a},_updateButton:function(){var a=null;switch(this._currentButtonState){case "up":a=this._upState;break;case "over":a=this._overState;break;case "down":a=this._downState}var b=this._children[0];if(b){if(b===a)return;this._stage&&this._stage._removeFromStage(b);b._invalidateTransform()}this._children[0]=
a;a._parent=this;a._invalidateTransform();this._stage&&this._stage._addToStage(a)},_gotoButtonState:function(a){this._invalidateBounds();this._currentButtonState=a;this._updateButton();this._avm1MouseEvents&&this._processAvm1MouseEvents(this._avm1MouseEvents)},_getRegion:function(a){if(!this._hitTestState)return{xMin:0,yMin:0,xMax:0,yMax:0};var b=this._hitTestState.getBounds(null);return this._getTransformedRect(b,a)},_getAS2Object:function(){this.$as2Object||new avm1lib.AS2Button(this);return this.$as2Object},
_initAvm1Events:function(b){for(var e=this._loader._avm1Context,f=null,g=0;g<b.length;g++){var m=b[g],l=function(a){return executeActions(a,e,this._getAS2Object())}.bind(this.parent,m.actionsData),p=m.mouseEventFlags;p&&(this._avm1MouseEvents||(this._avm1MouseEvents=[])).push({flags:p,listener:l});if(m=m.keyPress)f=f||(f=[]),f.push({keyCode:a[m]||0,charCode:m,listener:l})}if(f){var r=function(a){for(var b=0;b<f.length;b++){var d=f[b];(d.keyCode?d.keyCode===a.keyCode:d.charCode===a.charCode)&&d.listener()}},
s=flash.events.KeyboardEvent;this.stage._addEventListener(s.class.KEY_DOWN,r,!1);this._addEventListener("removedFromStage",function(a){a._removeEventListener(s.class.KEY_DOWN,r,!1)}.bind(this,this.stage),!1)}},_processAvm1MouseEvents:function(a){var e=this._avm1StateCode,f=("down"===this._currentButtonState?1:0)|("up"!==this._currentButtonState?2:0);if(e!==f){this._prevAvm1StateCode=e;this._avm1StateCode=f;e=b[e<<2|f];for(f=0;f<a.length;f++){var g=a[f];0!==(g.flags&e)&&g.listener()}}},__glue__:{"native":{instance:{_updateButton:function(){this._updateButton()},
useHandCursor:{get:function(){return this._useHandCursor},set:function(a){this._useHandCursor=a}},enabled:{get:function(){return this._enabled},set:function(a){this._enabled=a}},trackAsMenu:{get:function(){notImplemented("SimpleButton.trackAsMenu");return this._trackAsMenu},set:function(a){notImplemented("SimpleButton.trackAsMenu");this._trackAsMenu=a}},upState:{get:function(){return this._upState},set:function(a){this._upState=a;this._updateButton()}},overState:{get:function(){return this._overState},
set:function(a){this._overState=a;this._updateButton()}},downState:{get:function(){return this._downState},set:function(a){this._downState=a;this._updateButton()}},hitTestState:{get:function(){return this._hitTestState},set:function(a){a!==this._hitTestState&&(this._invalidate(),this._hitTestState=a)}},soundTransform:{get:function(){notImplemented("SimpleButton.soundTransform");return this._soundTransform},set:function(a){notImplemented("SimpleButton.soundTransform");this._soundTransform=a}}}}}}}.call(this),
SpriteDefinition=function(){var a={__class__:"flash.display.Sprite",initialize:function(){this._buttonMode=!1;this._hitArea=null;this._useHandCursor=!0;this._currentDisplayList=this._hitTarget=null;var a=this.symbol;if(a){if(this._graphics=a.graphics||new flash.display.Graphics,a.timeline&&(a=a.timeline[0]))for(var b=a.depths,f=0;f<b.length;f++){var g=a[b[f]];g&&(g=this._addTimelineChild(g),g.next=this._currentDisplayList,this._currentDisplayList=g)}}else this._graphics=new flash.display.Graphics;
this._graphics._parent=this},_addTimelineChild:function(a,b){var f=a.promise.value,g=Object.create(f.props);g.symbolId=a.symbolId;g.depth=a.depth;a.clip&&(g.clipDepth=a.clipDepth);a.hasCxform&&(g.cxform=a.cxform);a.hasMatrix&&(g.currentTransform=a.matrix);a.hasName&&(g.name=a.name);a.hasRatio&&(g.ratio=a.ratio/65535);a.blend&&(g.blendMode=a.blendMode);f={cmd:a,depth:a.depth,className:f.className,props:g,events:a.events,obj:null};void 0!==b?this._children.splice(b,0,f):this._children.push(f);this._sparse=
!0;return f},_constructChildren:function(){if(this._sparse){for(var a=this._loader,b=this._children,f=0;f<b.length;f++){var g=b[f];if(flash.display.DisplayObject.class.isInstanceOf(g))g._index=f;else{var m=avm2.systemDomain.findClass(g.className)?avm2.systemDomain.getClass(g.className):avm2.applicationDomain.getClass(g.className),l=Object.create(g.props),p=l.name;l.animated=!0;l.owned=!0;l.parent=this;l.stage=this._stage;-1<this._level&&(l.level=this._level+1);l.index=f;var r=m.createAsSymbol(l);
p&&(this[Multiname.getPublicQualifiedName(p)]=r);m.instanceConstructor.call(r);flash.display.BitmapData.class.isInstanceOf(r)&&(m=r,r=flash.display.Bitmap.class.createAsSymbol(l),flash.display.Bitmap.class.instanceConstructor.call(r,m));a._isAvm2Enabled?r._dispatchEvent("load"):(this._initAvm1Bindings(r,p,g.events),r._dispatchEvent("init"),r._dispatchEvent("construct"),r._needLoadEvent=!0);r._dispatchEvent("added");this._stage&&this._stage._addToStage(r);b[f]=r;g.obj=r}}this._sparse=!1}},_postConstructChildren:function(){var a=
this._loader;if(a&&!a._isAvm2Enabled)for(var a=this._children,b=0;b<a.length;b++){var f=a[b];f._needLoadEvent&&(delete f._needLoadEvent,f._dispatchEvent("load"))}},_duplicate:function(a,b){var f=this._loader,g=this._parent,m=g._children,l=this.class,p=this.symbol,r=Object.create(p);r.name=a;r.parent=g;r.depth=b;r=l.createAsSymbol(r);a&&(f&&!f._isAvm2Enabled&&!g.asHasProperty(void 0,a,0,!1))&&g.asSetPublicProperty(a,r);l.instanceConstructor.call(r);r._index=m.length;m.push(r);f._isAvm2Enabled||(g._initAvm1Bindings(r,
a,p&&p.events),r._dispatchEvent("init"),r._dispatchEvent("construct"));r._dispatchEvent("load");r._dispatchEvent("added");this._stage&&r._invalidate();return r},_insertChildAtDepth:function(a){this.addChild(a);var b=a._name,f=this._loader;b&&(f&&!f._isAvm2Enabled&&!this._getAS2Object().asHasProperty(void 0,b,0,!0))&&this._getAS2Object().asSetPublicProperty(b,a._getAS2Object())},_initAvm1Bindings:function(a,b,f){var g=this._loader._avm1Context,m=a.symbol;if(m&&m.variableName){var l=m.variableName,
p;if(0<=l.lastIndexOf(".")||0<=l.lastIndexOf(":")){m=l.split(/[.:\/]/g);l=m.pop();"_root"==m[0]||""===m[0]?(p=this.root._getAS2Object(),m.shift(),""===m[0]&&m.shift()):p=this._getAS2Object();for(;0<m.length;){var r=m.shift();p=p.asGetPublicProperty(r)||p[r];if(!p)throw Error("Cannot find "+r+" variable");}}else p=this._getAS2Object();p.asHasProperty(void 0,l,0)||p.asSetPublicProperty(l,a.text);a._addEventListener("advanceFrame",function(){a.text=""+p.asGetPublicProperty(l)})}if(f){m=[];for(r=0;r<
f.length;r++){var s=f[r];if(s.eoe)break;var v=function(a){return executeActions(a,g,this._getAS2Object())}.bind(a,s.actionsData),w;for(w in s)if(0===w.indexOf("on")&&s[w]){var z=w[2].toLowerCase()+w.substring(3);"enterFrame"===z&&(z="frameConstructed");var A=a;if("mouseDown"===z||"mouseUp"===z||"mouseMove"===z)A=this._stage;A._addEventListener(z,v,!1);m.push({name:z,fn:v,target:A})}}0<m.length&&a._addEventListener("removed",function(a){for(var b=0;b<a.length;b++)a[b].target._removeEventListener(a[b].name,
a[b].fn,!1)}.bind(a,m),!1)}b&&this._getAS2Object().asSetPublicProperty(b,a._getAS2Object())},_gotoButtonState:function(){},get buttonMode(){return this._buttonMode},set buttonMode(a){this._buttonMode=a},get graphics(){return this._graphics},get hitArea(){return this._hitArea},set hitArea(a){if(this._hitArea!==a&&(a&&a._hitTarget&&(a._hitTarget.hitArea=null),this._hitArea=a))a._hitTarget=this},get soundTransform(){notImplemented()},set soundTransform(a){notImplemented()},get useHandCursor(){return this._useHandCursor},
set useHandCursor(a){this._useHandCursor=a;this._stage&&(this._stage._mouseMoved=!0)},startDrag:function(){notImplemented()},startTouchDrag:function(){notImplemented()},stopDrag:function(){notImplemented()},stopTouchDrag:function(){notImplemented()}},b=Object.getOwnPropertyDescriptor;a.__glue__={"native":{instance:{graphics:b(a,"graphics"),buttonMode:b(a,"buttonMode"),dropTarget:b(a,"dropTarget"),startDrag:a.startDrag,stopDrag:a.stopDrag,startTouchDrag:a.startTouchDrag,stopTouchDrag:a.stopTouchDrag,
constructChildren:a._constructChildren,hitArea:b(a,"hitArea"),useHandCursor:b(a,"useHandCursor"),soundTransform:b(a,"soundTransform")}}};return a}.call(this),StageDefinition=function(){return{__class__:"flash.display.Stage",initialize:function(){this._frameRate=24;this._scaleMode="showAll";this._align="";this._stageHeight=this._stageWidth=0;this._quality="high";this._color=4294967295;this._stage=this;this._deferRenderEvent=!1;this._focus=null;this._showDefaultContextMenu=!0;this._displayState="normal";
this._colorCorrection="default";this._stageFocusRect=!0;this._fullScreenSourceRect=null;this._wmodeGPU=!1;this._qtree=this._root=null;this._invalidObjects=[];this._mouseMoved=!1;this._mouseTarget=this;this._cursor="auto";this._concatenatedTransform.invalid=!1},_setup:function(){this._qtree=new QuadTree(0,0,this._stageWidth,this._stageHeight,0);this._invalid=!0},_addToStage:function(a){a._stage=this;a._level=a._parent._level+1;this._invalidateOnStage(a);for(var b=a._children,d=0;d<b.length;d++){var e=
b[d];null===e._stage&&this._addToStage(e)}a._dispatchEvent("addedToStage")},_removeFromStage:function(a){for(var b=a._children,d=0;d<b.length;d++)b[d]._stage&&this._removeFromStage(b[d]);a._dispatchEvent("removedFromStage");a._stage=null;a._level=-1;this._invalidateOnStage(a)},_invalidateOnStage:function(a){a._invalid||(a._invalid=!0,this._invalidObjects.push(a))},_processInvalidRegions:function(a){for(var b=this._invalidObjects,d=[];b.length;){var e=b.shift();if(e._children.length)for(var f=e._children,
g=0;g<f.length;g++){var m=f[g];!1===m._invalid&&(m._invalid=!0,b.push(m))}g=e._region;f=e._getRegion(this);if(m=e._stage&&e._visible&&0<f.xMax&&f.xMin<this._stageWidth&&0<f.yMax&&f.yMin<this._stageHeight){for(var l=e._parent;l;){if(!l._visible||l._hidden){m=!1;break}l=l._parent}e._hidden=!m}else e._hidden=!1;l=!g||!m||f.xMin!==g.xMin||f.yMin!==g.yMin||f.xMax!==g.xMax||f.yMax!==g.yMax;g&&l&&(g._qtree.delete(g),e._region=null,d.push(g));m?(l&&(this._qtree.insert(f),f.obj=e,e._region=f),d.push(f)):e._invalid=
!1}if(a){a=new ShapePath;for(g=0;g<d.length;g++){for(var m=d[g],b=m.xMin-m.xMin%20-40,e=m.yMin-m.yMin%20-40,f=m.xMax-m.xMax%20+80,m=m.yMax-m.yMax%20+80,l=this._qtree.retrieve(b,e,f,m),p=0;p<l.length;p++){var r=l[p];if(!r.obj._invalid&&!(b>r.x+r.width||f<r.x||e>r.y+r.height||m<r.y))r.obj._invalid=!0}a.rect(b,e,f-b,m-e)}return a}},_handleMouse:function(){for(var a=this._mouseX,b=this._mouseY,d=this._qtree.retrieve(a,b,1,1),e=[],f=0;f<d.length;f++){var g=d[f],m=g.obj;a>=g.xMin&&(a<=g.xMax&&b>=g.yMin&&
b<=g.yMax)&&(flash.display.SimpleButton.class.isInstanceOf(m)?m._enabled&&(g=m._hitTestState,g._parent=m,g._hitTest(!0,a,b,!0)&&e.push(m),g._parent=null):m._hitTest(!0,a,b,!0)&&e.push(m))}var l;if(e.length){e.sort(sortByDepth);f=e.length;a:for(;f--;){l=null;a=e[f];if(!flash.display.InteractiveObject.class.isInstanceOf(a))for(b=f;b--;)e[b]._parent===a._parent&&flash.display.InteractiveObject.class.isInstanceOf(e[b])&&(a=e[b],f=b);do{if(flash.display.InteractiveObject.class.isInstanceOf(a)){if(!a._mouseEnabled)continue a;
if((!l||!a._mouseChildren)&&!a._hitArea)l=a}a=a._parent}while(a);if(l!==e[f]&&flash.display.SimpleButton.class.isInstanceOf(l))continue a;break}}l?l._hitTarget&&(l=l._hitTarget):l=this;if(l===this._mouseTarget)l._dispatchEvent("mouseMove");else{this._mouseTarget._buttonMode&&this._mouseTarget._gotoButtonState("up");this._mouseTarget._dispatchEvent("mouseOut");e=this._mouseTarget;f=e._parent;a=l;b=a._parent;for(d="auto";0<=e._level&&e!==b;)e._hasEventListener("rollOut")&&e._dispatchEvent("rollOut"),
e=e._parent;for(;0<=a._level&&a!==f;)a._hasEventListener("rollOver")&&a._dispatchEvent("rollOver"),a._buttonMode&&a._useHandCursor&&(d="pointer"),a=a._parent;l._buttonMode&&l._gotoButtonState("over");l._dispatchEvent("mouseOver");this._mouseTarget=l;this._cursor=d}},_as2SetLevel:function(a,b){somewhatImplemented("Stage._as2SetLevel");this.addChild(b)},__glue__:{"native":{instance:{invalidate:function(){this._deferRenderEvent=this._invalid=!0},isFocusInaccessible:function(){notImplemented("Stage.isFocusInaccessible")},
set_displayState:function(a){somewhatImplemented("Stage.set_displayState");this._displayState=a},get_simulatedFullScreenWidth:function(){notImplemented("Stage.get_simulatedFullScreenWidth")},get_simulatedFullScreenHeight:function(){notImplemented("Stage.get_simulatedFullScreenHeight")},removeChildAt:function(){notImplemented("Stage.removeChildAt")},swapChildrenAt:function(){notImplemented("Stage.swapChildrenAt")},requireOwnerPermissions:function(){somewhatImplemented("Stage.requireOwnerPermissions")},
frameRate:{get:function(){return this._frameRate},set:function(a){this._frameRate=a}},scaleMode:{get:function(){return this._scaleMode},set:function(a){this._scaleMode=a;this._invalid=!0}},align:{get:function(){return this._align},set:function(a){this._align=a;this._invalid=!0}},stageWidth:{get:function(){return this._stageWidth/20},set:function(a){notImplemented("Stage.stageWidth");this._stageWidth=20*a|0}},stageHeight:{get:function(){return this._stageHeight/20},set:function(a){notImplemented("Stage.stageHeight");
this._stageHeight=20*a|0}},showDefaultContextMenu:{get:function(){return this._showDefaultContextMenu},set:function(a){somewhatImplemented("Stage.showDefaultContextMenu");this._showDefaultContextMenu=a}},focus:{get:function(){return this._focus},set:function(a){somewhatImplemented("Stage.focus");this._focus=a}},colorCorrection:{get:function(){return this._colorCorrection},set:function(a){notImplemented("Stage.colorCorrection");this._colorCorrection=a}},colorCorrectionSupport:{get:function(){return!1}},
stageFocusRect:{get:function(){return this._stageFocusRect},set:function(a){somewhatImplemented("Stage.stageFocusRect");this._stageFocusRect=a}},quality:{get:function(){return this._quality},set:function(a){somewhatImplemented("Stage.stageFocusRect");this._quality=a}},displayState:{get:function(){return this._displayState}},simulatedDisplayState:{get:function(){notImplemented("Stage.simulatedDisplayState");return this._simulatedDisplayState},set:function(a){notImplemented("Stage.simulatedDisplayState");
this._simulatedDisplayState=a}},fullScreenSourceRect:{get:function(){return this._fullScreenSourceRect},set:function(a){notImplemented("Stage.fullScreenSourceRect");this._fullScreenSourceRect=a}},simulatedFullScreenSourceRect:{get:function(){notImplemented("Stage.simulatedFullScreenSourceRect");return this._simulatedFullScreenSourceRect},set:function(a){notImplemented("Stage.simulatedFullScreenSourceRect");this._simulatedFullScreenSourceRect=a}},stageVideos:{get:function(){notImplemented("Stage.stageVideos");
return this._stageVideos}},stage3Ds:{get:function(){notImplemented("Stage.stage3Ds");return this._stage3Ds}},color:{get:function(){return this._color},set:function(a){this._color=a;this._invalid=!0}},fullScreenWidth:{get:function(){notImplemented("Stage.fullScreenWidth");return this._fullScreenWidth}},fullScreenHeight:{get:function(){notImplemented("Stage.fullScreenHeight");return this._fullScreenHeight}},wmodeGPU:{get:function(){somewhatImplemented("Stage.wmodeGPU");return this._wmodeGPU}},softKeyboardRect:{get:function(){notImplemented("Stage.softKeyboardRect");
return this._softKeyboardRect}},allowsFullScreen:{get:function(){return!1}},displayContextInfo:{get:function(){notImplemented("Stage.displayContextInfo");return this._displayContextInfo}}}}}}}.call(this),EventDefinition=function(){return{__class__:"flash.events.Event",initialize:function(){this._isDefaultPrevented=this._stopImmediatePropagation=this._stopPropagation=!1;this._currentTarget=this._target=null;this._eventPhase=2},__glue__:{"native":{instance:{ctor:function(a,b,d){Counter.count("Event: "+
a);this._type=a;this._bubbles=b;this._cancelable=d},stopPropagation:function(){this._stopPropagation=!0},stopImmediatePropagation:function(){this._stopImmediatePropagation=this._stopPropagation=!0},preventDefault:function(){this._cancelable&&(this._isDefaultPrevented=!0)},isDefaultPrevented:function(){return this._isDefaultPrevented},type:{get:function(){return this._type}},bubbles:{get:function(){return this._bubbles}},cancelable:{get:function(){return this._cancelable}},target:{get:function(){return this._target}},
currentTarget:{get:function(){return this._currentTarget}},eventPhase:{get:function(){return this._eventPhase}}}},script:{"static":Glue.ALL,instance:{clone:"open public clone"}}}}}.call(this),EventDispatcherDefinition=function(){function a(a,f){var g=a._target,m=f._type||f,l=a._listeners[m];if("string"===typeof f&&d[f]||f._bubbles){for(var p=[],r=g._parent;r;)r._hasEventListener(m)&&p.push(r),r=r._parent;if(!l&&!p.length)return!0;for(var s=!0,r=p.length;r--&&s;)var s=p[r],v=s._captureListeners[m],
s=b(v,f,null,g,s,1);l&&s&&(s=b(l,f,null,g));for(r=0;r<p.length&&s;r++)s=p[r],v=s._listeners[m],s=b(v,f,null,g,s,3)}else l&&b(l,f,null,g);return!f._isDefaultPrevented}function b(a,b,g,m,l,p){if(a){a=a.slice();for(var r=!0,s=0;s<a.length;s++){var v=a[s],w=v.handleEvent.methodInfo;if(w&&w.parameters.length&&!w.parameters[0].isUsed)v.handleEvent();else if(r&&("string"===typeof b?g?b=new g(b):b in d?(b=new flash.events.MouseEvent(b,d[b]),m._stage&&(b._localX=m.mouseX,b._localY=m.mouseY)):b=new flash.events.Event(b):
b._target&&(b=b.clone()),b._target=m,b._currentTarget=l||m,b._eventPhase=p||2,r=!1),v.handleEvent(b),b._stopImmediatePropagation)break}}return!b._stopPropagation}var d={click:!0,contextMenu:!0,doubleClick:!0,middleClick:!0,middleMouseDown:!0,middleMouseUp:!0,mouseDown:!0,mouseMove:!0,mouseOut:!0,mouseOver:!0,mouseUp:!0,mouseWheel:!0,releaseOutside:!0,rightClick:!0,rightMouseDown:!0,rightMouseUp:!0,rollOut:!1,rollOver:!1};return{__class__:"flash.events.EventDispatcher",initialize:function(){this._target=
this;this._listeners={};this._captureListeners={}},_addEventListenerImpl:function(a,b,d,m){"function"!==typeof b&&throwError("TypeError",Errors.CheckTypeFailedError,b,"Function");var l=d?this._captureListeners:this._listeners;d=l[a];var p={handleEvent:b,priority:m||0};if(d){for(l=a=d.length;l--;){var r=d[l];if(r.handleEvent===b)return;m>r.priority&&(a=l)}d.splice(a,0,p)}else l[a]=[p]},_addEventListener:function(a,b,d,m){this._addEventListenerImpl(a,b,d,m)},_removeEventListenerImpl:function(a,b,d){"function"!==
typeof b&&throwError("TypeError",Errors.CheckTypeFailedError,b,"Function");d=d?this._captureListeners:this._listeners;var m=d[a];if(m)for(var l=0;l<m.length;l++)if(m[l].handleEvent===b){m.splice(l,1);m.length||delete d[a];break}},_removeEventListener:function(a,b,d){this._removeEventListenerImpl(a,b,d)},_hasEventListener:function(a){return a in this._listeners||a in this._captureListeners},_dispatchEvent:function(b,d){a(this,b,d)},__glue__:{"native":{instance:{ctor:function(a){this._target=a||this},
addEventListener:function(a,b,d,m){this._addEventListener(a,b,d,m)},removeEventListener:function(a,b,d){this._removeEventListener(a,b,d)},hasEventListener:function(a){return this._hasEventListener(a)},willTrigger:function(a){var b=this._target;do if(b._hasEventListener(a))return!0;while(b=b._parent);return!1},dispatchEventFunction:function(b){a(this,b)}}}}}}.call(this),KeyboardEventDefinition=function(){return{__class__:"flash.events.KeyboardEvent",__glue__:{"native":{instance:{updateAfterEvent:function(){notImplemented("KeyboardEvent.updateAfterEvent")},
charCode:{get:function(){return this._charCode},set:function(a){this._charCode=a}},ctrlKey:{get:function(){return this._ctrlKey},set:function(a){this._ctrlKey=a}},altKey:{get:function(){return this._altKey},set:function(a){this._altKey=a}},shiftKey:{get:function(){return this._shiftKey},set:function(a){this._shiftKey=a}}}},script:{"static":Glue.ALL,instance:{keyCode:"public keyCode"}}}}}.call(this),MouseEventDefinition=function(){return{__class__:"flash.events.MouseEvent",initialize:function(){this._localY=
this._localX=NaN},__glue__:{"native":{instance:{updateAfterEvent:function(){},getStageX:function(){if(this._target){var a=this._target._getConcatenatedTransform();return(a.a*this._localX+a.c*this._localY+a.tx)/20}return this._localX/20},getStageY:function(){if(this._target){var a=this._target._getConcatenatedTransform();return(a.d*this._localY+a.b*this._localX+a.ty)/20}return this._localY/20},localX:{get:function(){return this._localX/20},set:function(a){this._localX=20*a|0}},localY:{get:function(){return this._localY/
20},set:function(a){this._localY=20*a|0}}}},script:{"static":Glue.ALL}}}}.call(this),TextEventDefinition=function(){return{__class__:"flash.events.TextEvent",__glue__:{"native":{instance:{copyNativeData:function(){notImplemented("TextEvent.copyNativeData")}}}}}}.call(this),TimerEventDefinition=function(){return{__class__:"flash.events.TimerEvent",__glue__:{"native":{instance:{updateAfterEvent:function(){notImplemented("TimerEvent.updateAfterEvent")}}}}}}.call(this),ExternalInterfaceDefinition=function(){function a(a,
b){if(d.hasOwnProperty(a))return d[a](a,b)}var b=!1,d={};return{__class__:"flash.external.ExternalInterface",initialize:function(){},__glue__:{"native":{"static":{_initJS:function(){b||(TelemetryService.reportTelemetry({topic:"feature",feature:1}),b=!0,FirefoxCom.initJS(a))},_getPropNames:function(a){var b=[];forEachPublicProperty(a,function(a){b.push(a)});return b},_addCallback:function(a,b,g){FirefoxCom.request("externalCom",{action:"register",functionName:a,remove:g});g?delete d[a]:d[a]=b},_evalJS:function(a){return FirefoxCom.requestSync("externalCom",
{action:"eval",expression:a})},_callOut:function(a){return FirefoxCom.requestSync("externalCom",{action:"call",request:a})},available:{get:function(){return!0}},objectID:{get:function(){return FirefoxCom.requestSync("externalCom",{action:"getId"})}},activeX:{get:function(){return!1}}},instance:{}}}}}.call(this),BevelFilterDefinition=function(){return{__class__:"flash.filters.BevelFilter",initialize:function(){},__glue__:{}}}.call(this),BitmapFilterDefinition=function(){return{__class__:"flash.filters.BitmapFilter",
initialize:function(){},__glue__:{}}}.call(this),BlurFilterDefinition=function(){return{__class__:"flash.filters.BlurFilter",initialize:function(){},applyFilter:function(a,b,d){blurFilter(a,b,d,this._blurX,this._blurY)},updateFilterBounds:function(a){a.inflate(this._blurX,this._blurY)},__glue__:{"native":{"static":{},instance:{blurX:{get:function(){return this._blurX},set:function(a){this._blurX=a}},blurY:{get:function(){return this._blurY},set:function(a){this._blurY=a}},quality:{get:function(){return this._quality},
set:function(a){this._quality=a}}}}}}}.call(this),ColorMatrixFilterDefinition=function(){return{__class__:"flash.filters.ColorMatrixFilter",initialize:function(){},applyFilter:function(a,b,d){this._matrix&&colorFilter(a,b,d,this._matrix)},updateFilterBounds:function(a){return a},__glue__:{"native":{instance:{matrix:{get:function(){return this._matrix},set:function(a){this._matrix=a}}}}}}}.call(this),ConvolutionFilterDefinition=function(){return{__class__:"flash.filters.ConvolutionFilter",initialize:function(){},
__glue__:{}}}.call(this),DisplacementMapFilterDefinition=function(){return{__class__:"flash.filters.DisplacementMapFilter",initialize:function(){},__glue__:{}}}.call(this),DropShadowFilterDefinition=function(){return{__class__:"flash.filters.DropShadowFilter",initialize:function(){},applyFilter:function(a,b,d){dropShadowFilter(a,b,d,[this._color>>24&255,this._color>>16&255,this._color>>8&255,this._color&255],this._blurX,this._blurY,this._angle,this._distance,this._strength)},updateFilterBounds:function(a){var b=
a.clone(),d=Math.sin(this._angle)*this._distance|0,e=Math.cos(this._angle)*this._distance|0;b.offset(e,d);b.inflate(this._blurX,this._blurY);b=a.union(b);a.setTo(b.x,b.y,b.width,b.height)},__glue__:{"native":{instance:{distance:{get:function(){return this._distance},set:function(a){this._distance=a}},angle:{get:function(){return this._angle},set:function(a){this._angle=a}},color:{get:function(){return this._color},set:function(a){this._color=a}},alpha:{get:function(){return this._alpha},set:function(a){this._alpha=
a}},blurX:{get:function(){return this._blurX},set:function(a){this._blurX=a}},blurY:{get:function(){return this._blurY},set:function(a){this._blurY=a}},hideObject:{get:function(){return this._hideObject},set:function(a){this._hideObject=a}},inner:{get:function(){return this._inner},set:function(a){this._inner=a}},knockout:{get:function(){return this._knockout},set:function(a){this._knockout=a}},quality:{get:function(){return this._quality},set:function(a){this._quality=a}},strength:{get:function(){return this._strength},
set:function(a){this._strength=a}}}}}}}.call(this),GlowFilterDefinition=function(){return{__class__:"flash.filters.GlowFilter",initialize:function(){},applyFilter:function(a,b,d){glowFilter(a,b,d,[this._color>>24&255,this._color>>16&255,this._color>>8&255,this._color&255],this._blurX,this._blurY,this._strength)},updateFilterBounds:function(a){a.inflate(this._blurX,this._blurY)},__glue__:{"native":{"static":{},instance:{color:{get:function(){return this._color},set:function(a){this._color=a}},alpha:{get:function(){return this._alpha},
set:function(a){this._alpha=a}},blurX:{get:function(){return this._blurX},set:function(a){this._blurX=a}},blurY:{get:function(){return this._blurY},set:function(a){this._blurY=a}},inner:{get:function(){return this._inner},set:function(a){this._inner=a}},knockout:{get:function(){return this._knockout},set:function(a){this._knockout=a}},quality:{get:function(){return this._quality},set:function(a){this._quality=a}},strength:{get:function(){return this._strength},set:function(a){this._strength=a}}}}}}}.call(this),
GradientBevelFilterDefinition=function(){return{__class__:"flash.filters.GradientBevelFilter",initialize:function(){},__glue__:{}}}.call(this),GradientGlowFilterDefinition=function(){return{__class__:"flash.filters.GradientGlowFilter",initialize:function(){},__glue__:{}}}.call(this),ShaderFilterDefinition=function(){return{__class__:"flash.filters.ShaderFilter",initialize:function(){},__glue__:{}}}.call(this),ColorTransformDefinition=function(){return{__class__:"flash.geom.ColorTransform",__glue__:{script:{instance:Glue.ALL}}}}.call(this),
MatrixDefinition=function(){return{__class__:"flash.geom.Matrix",__glue__:{script:{instance:Glue.ALL}}}}.call(this),Matrix3DDefinition=function(){function a(a,b,f,g,m,l,p){var r=b*b,s=f*f,v=g*g,w=r+s+v,z=Math.sqrt(w);b/=z;f/=z;g/=z;r/=w;s/=w;v/=w;w=Math.cos(a);a=Math.sin(a);return new flash.geom.Matrix3D([r+(s+v)*w,b*f*(1-w)+g*a,b*g*(1-w)-f*a,0,b*f*(1-w)-g*a,s+(r+v)*w,f*g*(1-w)+b*a,0,b*g*(1-w)+f*a,f*g*(1-w)-b*a,v+(r+s)*w,0,(m*(s+v)-b*(l*f+p*g))*(1-w)+(l*g-p*f)*a,(l*(r+v)-f*(m*b+p*g))*(1-w)+(p*b-m*
g)*a,(p*(r+s)-g*(m*b+l*f))*(1-w)+(m*f-l*b)*a,1])}var b=new Uint32Array([0,4,8,12,1,5,9,13,2,6,10,14,3,7,11,15]);return{__class__:"flash.geom.Matrix3D",initialize:function(){},__glue__:{"native":{"static":{interpolate:function(){notImplemented("Matrix3D.interpolate")}},instance:{ctor:function(a){this._matrix=new Float32Array(16);a&&16<=a.length?this.copyRawDataFrom(a,0,!1):this.identity()},clone:function(){return new flash.geom.Matrix3D(this._matrix)},copyToMatrix3D:function(a){a._matrix.set(this._matrix)},
append:function(a){var b=a._matrix,f=this._matrix;a=this._matrix;var g=b[0],m=b[4],l=b[8],p=b[12],r=b[1],s=b[5],v=b[9],w=b[13],z=b[2],A=b[6],C=b[10],u=b[14],y=b[3],D=b[7],B=b[11],b=b[15],E=f[0],G=f[4],J=f[8],P=f[12],Q=f[1],S=f[5],O=f[9],F=f[13],H=f[2],R=f[6],K=f[10],I=f[14],M=f[3],T=f[7],L=f[11],f=f[15];a[0]=g*E+m*Q+l*H+p*M;a[1]=r*E+s*Q+v*H+w*M;a[2]=z*E+A*Q+C*H+u*M;a[3]=y*E+D*Q+B*H+b*M;a[4]=g*G+m*S+l*R+p*T;a[5]=r*G+s*S+v*R+w*T;a[6]=z*G+A*S+C*R+u*T;a[7]=y*G+D*S+B*R+b*T;a[8]=g*J+m*O+l*K+p*L;a[9]=r*
J+s*O+v*K+w*L;a[10]=z*J+A*O+C*K+u*L;a[11]=y*J+D*O+B*K+b*L;a[12]=g*P+m*F+l*I+p*f;a[13]=r*P+s*F+v*I+w*f;a[14]=z*P+A*F+C*I+u*f;a[15]=y*P+D*F+B*I+b*f},prepend:function(a){var b=this._matrix,f=a._matrix;a=this._matrix;var g=b[0],m=b[4],l=b[8],p=b[12],r=b[1],s=b[5],v=b[9],w=b[13],z=b[2],A=b[6],C=b[10],u=b[14],y=b[3],D=b[7],B=b[11],b=b[15],E=f[0],G=f[4],J=f[8],P=f[12],Q=f[1],S=f[5],O=f[9],F=f[13],H=f[2],R=f[6],K=f[10],I=f[14],M=f[3],T=f[7],L=f[11],f=f[15];a[0]=g*E+m*Q+l*H+p*M;a[1]=r*E+s*Q+v*H+w*M;a[2]=z*
E+A*Q+C*H+u*M;a[3]=y*E+D*Q+B*H+b*M;a[4]=g*G+m*S+l*R+p*T;a[5]=r*G+s*S+v*R+w*T;a[6]=z*G+A*S+C*R+u*T;a[7]=y*G+D*S+B*R+b*T;a[8]=g*J+m*O+l*K+p*L;a[9]=r*J+s*O+v*K+w*L;a[10]=z*J+A*O+C*K+u*L;a[11]=y*J+D*O+B*K+b*L;a[12]=g*P+m*F+l*I+p*f;a[13]=r*P+s*F+v*I+w*f;a[14]=z*P+A*F+C*I+u*f;a[15]=y*P+D*F+B*I+b*f},invert:function(){var a=this.determinant;if(1E-7>Math.abs(a))return!1;var a=1/a,b=this._matrix,f=b[0],g=b[1],m=b[2],l=b[3],p=b[4],r=b[5],s=b[6],v=b[7],w=b[8],z=b[9],A=b[10],C=b[11],u=b[12],y=b[13],D=b[14],B=
b[15];b[0]=a*(r*(A*B-D*C)-z*(s*B-D*v)+y*(s*C-A*v));b[1]=-a*(g*(A*B-D*C)-z*(m*B-D*l)+y*(m*C-A*l));b[2]=a*(g*(s*B-D*v)-r*(m*B-D*l)+y*(m*v-s*l));b[3]=-a*(g*(s*C-A*v)-r*(m*C-A*l)+z*(m*v-s*l));b[4]=-a*(p*(A*B-D*C)-w*(s*B-D*v)+u*(s*C-A*v));b[5]=a*(f*(A*B-D*C)-w*(m*B-D*l)+u*(m*C-A*l));b[6]=-a*(f*(s*B-D*v)-p*(m*B-D*l)+u*(m*v-s*l));b[7]=a*(f*(s*C-A*v)-p*(m*C-A*l)+w*(m*v-s*l));b[8]=a*(p*(z*B-y*C)-w*(r*B-y*v)+u*(r*C-z*v));b[9]=-a*(f*(z*B-y*C)-w*(g*B-y*l)+u*(g*C-z*l));b[10]=a*(f*(r*B-y*v)-p*(g*B-y*l)+u*(g*v-
r*l));b[11]=-a*(f*(r*C-z*v)-p*(g*C-z*l)+w*(g*v-r*l));b[12]=-a*(p*(z*D-y*A)-w*(r*D-y*s)+u*(r*A-z*s));b[13]=a*(f*(z*D-y*A)-w*(g*D-y*m)+u*(g*A-z*m));b[14]=-a*(f*(r*D-y*s)-p*(g*D-y*m)+u*(g*s-r*m));b[15]=a*(f*(r*A-z*s)-p*(g*A-z*m)+w*(g*s-r*m));return!0},identity:function(){var a=this._matrix;a[0]=a[5]=a[10]=a[15]=1;a[1]=a[2]=a[3]=a[4]=a[6]=a[7]=a[8]=a[9]=a[11]=a[12]=a[13]=a[14]=0},decompose:function(){notImplemented("Matrix3D.decompose")},recompose:function(){notImplemented("Matrix3D.recompose")},appendTranslation:function(a,
b,f){var g=this._matrix,m=g[3],l=g[7],p=g[11],r=g[15];g[0]+=a*m;g[1]+=b*m;g[2]+=f*m;g[4]+=a*l;g[5]+=b*l;g[6]+=f*l;g[8]+=a*p;g[9]+=b*p;g[10]+=f*p;g[12]+=a*r;g[13]+=b*r;g[14]+=f*r},appendRotation:function(b,e,f){this.append(a(b/180*Math.PI,e.x,e.y,e.z,f?f.x:0,f?f.y:0,f?f.z:0))},appendScale:function(a,b,f){var g=this._matrix;g[0]*=a;g[1]*=b;g[2]*=f;g[4]*=a;g[5]*=b;g[6]*=f;g[8]*=a;g[9]*=b;g[10]*=f;g[12]*=a;g[13]*=b;g[14]*=f},prependTranslation:function(a,b,f){var g=this._matrix,m=g[1],l=g[5],p=g[9],r=
g[2],s=g[6],v=g[10],w=g[3],z=g[7],A=g[11];g[12]+=g[0]*a+g[4]*b+g[8]*f;g[13]+=m*a+l*b+p*f;g[14]+=r*a+s*b+v*f;g[15]+=w*a+z*b+A*f},prependRotation:function(b,e,f){this.prepend(a(b/180*Math.PI,e.x,e.y,e.z,f?f.x:0,f?f.y:0,f?f.z:0))},prependScale:function(a,b,f){var g=this._matrix;g[0]*=a;g[1]*=a;g[2]*=a;g[3]*=a;g[4]*=b;g[5]*=b;g[6]*=b;g[7]*=b;g[8]*=f;g[9]*=f;g[10]*=f;g[11]*=f},transformVector:function(a){var b=this._matrix,f=a.x,g=a.y;a=a.z;return new flash.geom.Vector3D(b[0]*f+b[4]*g+b[8]*a+b[12],b[1]*
f+b[5]*g+b[9]*a+b[13],b[2]*f+b[6]*g+b[10]*a+b[14])},deltaTransformVector:function(a){var b=this._matrix,f=a.x,g=a.y;a=a.z;return new flash.geom.Vector3D(b[0]*f+b[4]*g+b[8]*a,b[1]*f+b[5]*g+b[9]*a,b[2]*f+b[6]*g+b[10]*a)},transformVectors:function(a,b){for(var f=this._matrix,g=f[0],m=f[4],l=f[8],p=f[12],r=f[1],s=f[5],v=f[9],w=f[13],z=f[2],A=f[6],C=f[10],f=f[14],u=0;u<a.length-2;u+=3){var y=a.asGetNumericProperty(u),D=a.asGetNumericProperty(u+1),B=a.asGetNumericProperty(u+2);b.push(g*y+m*D+l*B+p);b.push(r*
y+s*D+v*B+w);b.push(z*y+A*D+C*B+f)}},transpose:function(){var a=this._matrix,b;b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[5]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b},pointAt:function(){notImplemented("Matrix3D.pointAt")},interpolateTo:function(){notImplemented("Matrix3D.interpolateTo")},copyFrom:function(a){this._matrix.set(a._matrix)},copyRawDataTo:function(a,e,f){var g=this._matrix;if(f){f=0;for(e|=0;16>f;f++,e++)a.asSetNumericProperty(e,
g[b[f]])}else{f=0;for(e|=0;16>f;f++,e++)a.asSetNumericProperty(e,g[f])}},copyRawDataFrom:function(a,e,f){var g=this._matrix;if(f){f=0;for(e|=0;16>f;f++,e++)g[b[f]]=a.asGetNumericProperty(e)||0}else{f=0;for(e|=0;16>f;f++,e++)g[f]=a.asGetNumericProperty(e)||0}},copyRowTo:function(a,b){var f=a|0,g=this._matrix;b.x=g[f];b.y=g[f+4];b.z=g[f+8];b.w=g[f+12]},copyColumnTo:function(a,b){var f=a<<2,g=this._matrix;b.x=g[f];b.y=g[f+1];b.z=g[f+2];b.w=g[f+3]},copyRowFrom:function(a,b){var f=a|0,g=this._matrix;g[f]=
b.x;g[f+4]=b.y;g[f+8]=b.z;g[f+12]=b.w},copyColumnFrom:function(a,b){var f=a<<2,g=this._matrix;g[f]=b.x;g[f+1]=b.y;g[f+2]=b.z;g[f+3]=b.w},rawData:{get:function(){var a=new Float64Vector;this.copyRawDataTo(a,0,!1);return a},set:function(a){this.copyRawDataFrom(a,0,!1)}},position:{get:function(){var a=this._matrix;return new flash.geom.Vector3D(a[12],a[13],a[14])},set:function(a){var b=this._matrix;b[12]=a.x;b[13]=a.y;b[14]=a.z}},determinant:{get:function(){var a=this._matrix,b=a[4],f=a[8],g=a[12],m=
a[5],l=a[9],p=a[13],r=a[6],s=a[10],v=a[14],w=a[7],z=a[11],A=a[15];return a[0]*(m*(s*A-z*v)-r*(l*A-z*p)+w*(l*v-s*p))-a[1]*(b*(s*A-z*v)-r*(f*A-z*g)+w*(f*v-s*g))+a[2]*(b*(l*A-z*p)-m*(f*A-z*g)+w*(f*p-l*g))-a[3]*(b*(l*v-s*p)-m*(f*v-s*g)+r*(f*p-l*g))}}}},script:{instance:Glue.ALL}}}}.call(this),PointDefinition=function(){return{__class__:"flash.geom.Point",__glue__:{script:{"static":Glue.ALL,instance:Glue.ALL}}}}.call(this),RectangleDefinition=function(){return{__class__:"flash.geom.Rectangle",__glue__:{script:{instance:Glue.ALL}}}}.call(this),
TransformDefinition=function(){var a={__class__:"flash.geom.Transform",get colorTransform(){var a=this._target._cxform;return a?new flash.geom.ColorTransform(a.redMultiplier/256,a.greenMultiplier/256,a.blueMultiplier/256,a.alphaMultiplier/256,a.redOffset,a.greenOffset,a.blueOffset,a.alphaOffset):new flash.geom.ColorTransform},set colorTransform(a){avm2.systemDomain.getClass("flash.geom.ColorTransform").isInstanceOf(a)||throwError("TypeError",Errors.CheckTypeFailedError,a,"flash.geom.ColorTransform");
this._target._cxform={redMultiplier:256*a.redMultiplier,greenMultiplier:256*a.greenMultiplier,blueMultiplier:256*a.blueMultiplier,alphaMultiplier:256*a.alphaMultiplier,redOffset:a.redOffset,greenOffset:a.greenOffset,blueOffset:a.blueOffset,alphaOffset:a.alphaOffset};this._target._invalidate()},get concatenatedColorTransform(){var a=this.colorTransform;a.concat(this._target.parent.transform.concatenatedColorTransform);return a},get concatenatedMatrix(){if(this._target._current3DTransform)return null;
var a=this._target._getConcatenatedTransform();return new flash.geom.Matrix(a.a,a.b,a.c,a.d,a.tx/20,a.ty/20)},get matrix(){if(this._target._current3DTransform)return null;var a=this._target._currentTransform;return new flash.geom.Matrix(a.a,a.b,a.c,a.d,a.tx/20,a.ty/20)},set matrix(a){flash.geom.Matrix.class.isInstanceOf(a)||throwError("TypeError",Errors.CheckTypeFailedError,a,"flash.geom.Matrix");var b=this._target;b._invalidate();var f=a.a,g=a.b,m=a.c,l=a.d,p=20*a.tx|0;a=20*a.ty|0;b._rotation=0!==
f?180*Math.atan(g/f)/Math.PI:0<g?90:-90;var r=Math.sqrt(f*f+g*g);b._scaleX=0<f?r:-r;r=Math.sqrt(l*l+m*m);b._scaleY=0<l?r:-r;b._invalidateTransform();b._currentTransform={a:f,b:g,c:m,d:l,tx:p,ty:a};b._current3DTransform=null},get matrix3D(){var a=this._target._current3DTransform;return a&&a.clone()},set matrix3D(a){avm2.systemDomain.getClass("flash.geom.Matrix3D").isInstanceOf(a)||throwError("TypeError",Errors.CheckTypeFailedError,a,"flash.geom.Matrix3D");var b=a.rawData;this.matrix=new flash.geom.Matrix(b.asGetPublicProperty(0),
b.asGetPublicProperty(1),b.asGetPublicProperty(4),b.asGetPublicProperty(5),b.asGetPublicProperty(12),b.asGetPublicProperty(13));this._target._current3DTransform=a},ctor:function(a){this._target=a;a._transform=this}},b=Object.getOwnPropertyDescriptor;a.__glue__={"native":{instance:{colorTransform:b(a,"colorTransform"),concatenatedColorTransform:b(a,"concatenatedColorTransform"),concatenatedMatrix:b(a,"concatenatedMatrix"),matrix:b(a,"matrix"),matrix3D:b(a,"matrix3D"),ctor:a.ctor}}};return a}.call(this),
Vector3DDefinition=function(){return{__class__:"flash.geom.Vector3D",initialize:function(){},__glue__:{script:{instance:Glue.ALL}}}}.call(this),ID3InfoDefinition=function(){return{__glue__:{script:{instance:{songName:"public songName",genre:"public genre",artist:"public artist",track:"public track",album:"public album",year:"public year",comment:"public comment"}}}}}.call(this),PLAY_USING_AUDIO_TAG=!0,SoundDefinition=function(){function a(a,b){var d=document.createElement("audio");if(d.canPlayType(a.mimeType)){d.preload=
"metadata";var m=new Blob([a.data],{type:a.mimeType});d.src=URL.createObjectURL(m);d.load();d.addEventListener("loadedmetadata",function(){b({duration:1E3*this.duration})})}else b({duration:0})}var b={initialize:function(){this._playQueue=[];this._url=null;this._bytesLoaded=this._bytesTotal=this._length=0;this._id3=new flash.media.ID3Info;var b=this.symbol;if(b){var d={};b.pcm&&(d.sampleRate=b.sampleRate,d.channels=b.channels,d.pcm=b.pcm,d.end=b.pcm.length);d.completed=!0;b.packaged&&(d.data=b.packaged.data.buffer,
d.mimeType=b.packaged.mimeType);var g=this;a(d,function(a){g._length=a.duration});this._soundData=d}TelemetryService.reportTelemetry({topic:"feature",feature:5})},close:function(){somewhatImplemented("Sound.close")},extract:function(){notImplemented("Sound.extract")},_load:function(b){if(b){var d=this,g=this._stream=new flash.net.URLStream,m=avm2.systemDomain.getClass("flash.utils.ByteArray").createInstance(),l=0,p={completed:!1};g._addEventListener("progress",function(a){d._bytesLoaded=a[Multiname.getPublicQualifiedName("bytesLoaded")];
d._bytesTotal=a[Multiname.getPublicQualifiedName("bytesTotal")];var b=g.bytesAvailable;g.readBytes(m,l,b);l+=b;d._dispatchEvent(a)});g._addEventListener("complete",function(b){d._dispatchEvent(b);p.data=m.a;p.mimeType="audio/mpeg";p.completed=!0;d._soundData=p;a(p,function(a){d._length=a.duration});d._playQueue.forEach(function(a){a.channel._playSoundDataViaAudio(p,a.startTime)})});g.load(b)}},loadCompressedDataFromByteArray:function(){notImplemented("Sound#loadCompressedDataFromByteArray")},loadPCMFromByteArray:function(){notImplemented("Sound#loadPCMFromByteArray")},
play:function(a,b,d){a=a||0;b=b||0;var m=new flash.media.SoundChannel;m._sound=this;m._soundTransform=isNullOrUndefined(d)?new flash.media.SoundTransform:d;this._playQueue.push({channel:m,startTime:a});this._soundData&&m._playSoundDataViaAudio(this._soundData,a,b);return m},get bytesLoaded(){return this._bytesLoaded},get bytesTotal(){return this._bytesTotal},get id3(){return this._id3},get isBuffering(){notImplemented("Sound#isBuffering")},get isURLInaccessible(){notImplemented("Sound#isURLInaccessible")},
get length(){return this._length},get url(){return this._url}},d=Object.getOwnPropertyDescriptor;b.__glue__={"native":{instance:{close:b.close,extract:b.extract,_load:b._load,loadCompressedDataFromByteArray:b.loadCompressedDataFromByteArray,loadPCMFromByteArray:b.loadPCMFromByteArray,play:b.play,bytesLoaded:d(b,"bytesLoaded"),bytesTotal:d(b,"bytesTotal"),id3:d(b,"id3"),isBuffering:d(b,"isBuffering"),isURLInaccessible:d(b,"isURLInaccessible"),length:d(b,"length"),url:d(b,"url")}}};return b}.call(this),
SoundChannelDefinition=function(){return{initialize:function(){this._element=null;this._rightPeak=this._leftPeak=this._position=0;this._pcmData=null;this._soundTransform=new flash.media.SoundTransform;this._soundMixerClass=avm2.systemDomain.getClass("flash.media.SoundMixer");var a=this.symbol;a&&(this._element=a.element||null);this._element&&this._registerWithSoundMixer()},_registerWithSoundMixer:function(){this._soundMixerClass.native.static._registerChannel(this)},_unregisterWithSoundMixer:function(){this._soundMixerClass.native.static._unregisterChannel(this)},
_applySoundTransform:function(){var a=this._soundTransform._volume;this._soundMixerClass._soundTransform&&(a*=this._soundMixerClass._soundTransform._volume);a*=this._soundMixerClass.native.static._getMasterVolume();this._element&&(this._element.volume=clamp(a,0,1))},_playSoundDataViaChannel:function(a,b,d){this._registerWithSoundMixer();var e=this,f=Math.round(b/1E3*a.sampleRate)*a.channels,g=f;this._position=b;this._audioChannel=createAudioChannel(a.sampleRate,a.channels);this._audioChannel.ondatarequested=
function(b){var l=a.end;if(g>=l&&a.completed)e._unregisterWithSoundMixer(),e._audioChannel.stop(),e._dispatchEvent(new flash.events.Event("soundComplete",!1,!1));else{var p=b.count;b=b.data;var r=a.pcm;do{for(var s=Math.min(l-g,p),v=0;v<s;v++)b[v]=r[g++];p-=s;if(g>=l){if(!d)break;d--;g=f}}while(0<p);e._position=1E3*(g/a.sampleRate/a.channels)}};this._audioChannel.start();this._applySoundTransform()},_playSoundDataViaAudio:function(a,b,d){if(a.mimeType){this._registerWithSoundMixer();this._position=
b;var e=this,f=0,g=document.createElement("audio");g.canPlayType(a.mimeType)?(g.preload="metadata",g.loop=0<d,a=new Blob([a.data],{type:a.mimeType}),g.src=URL.createObjectURL(a),g.addEventListener("loadeddata",function(){g.currentTime=b/1E3;g.play()}),g.addEventListener("timeupdate",function(){var a=g.currentTime;d&&f>a&&(--d,d||(g.loop=!1),a<b/1E3&&(g.currentTime=b/1E3));e._position=1E3*(f=a)}),g.addEventListener("ended",function(){e._unregisterWithSoundMixer();e._dispatchEvent(new flash.events.Event("soundComplete",
!1,!1));e._element=null}),this._element=g,this._applySoundTransform()):console.error('ERROR: "'+a.mimeType+'" type playback is not supported by the browser')}},__glue__:{"native":{"static":{},instance:{stop:function(){this._element&&(this._unregisterWithSoundMixer(),this._element.pause());this._audioChannel&&(this._unregisterWithSoundMixer(),this._audioChannel.stop())},position:{get:function(){return this._position}},leftPeak:{get:function(){return this._leftPeak}},rightPeak:{get:function(){return this.rightPeak}},
soundTransform:{get:function(){somewhatImplemented("SoundChannel.soundTransform");return new flash.media.SoundTransform(this._soundTransform._volume,this._soundTransform.pan)},set:function(a){somewhatImplemented("SoundChannel.soundTransform");this._soundTransform=isNullOrUndefined(a)?new flash.media.SoundTransform:a;this._applySoundTransform()}}}},script:{instance:scriptProperties("public",["stop"])}}}}.call(this);
function createAudioChannel(a,b){if(WebAudioChannel.isSupported)return new WebAudioChannel(a,b);if(AudioDataChannel.isSupported)return new AudioDataChannel(a,b);error("PCM data playback is not supported by the browser")}function AudioResampler(a,b){this.sourceRate=a;this.targetRate=b;this.tail=[];this.sourceOffset=0}
AudioResampler.prototype={ondatarequested:function(){},getData:function(a,b){for(var d=this.sourceRate/this.targetRate,e=this.sourceOffset,f=Math.ceil((b-1)*d+e)+1,g=[],m=0;m<a.length;m++)g.push(new Float32Array(f));this.ondatarequested({data:g,count:f});for(m=0;m<a.length;m++){for(var l=a[m],p=g[m],r=0;r<b;r++){var s=r*d+e,v=s|0,w=Math.ceil(s)|0,z=0>v?this.tail[m]:p[v];v===w?l[r]=z:(s-=v,l[r]=z*(1-s)+p[w]*s)}this.tail[m]=p[f-1]}this.sourceOffset=(b-1)*d+e-(f-1)}};
function WebAudioChannel(a,b){var d=WebAudioChannel.context;d||(d="undefined"!==typeof AudioContext?new AudioContext:new webkitAudioContext,WebAudioChannel.context=d);this.context=d;this.contextSampleRate=d.sampleRate||44100;this.channels=b;this.sampleRate=a;this.contextSampleRate!=a&&(this.resampler=new AudioResampler(a,this.contextSampleRate),this.resampler.ondatarequested=function(a){this.requestData(a.data,a.count)}.bind(this))}
WebAudioChannel.prototype={start:function(){var a=this.context.createScriptProcessor?this.context.createScriptProcessor(2048,0,this.channels):this.context.createJavaScriptNode(2048,0,this.channels),b=this;a.onaudioprocess=function(a){for(var e=[],f=0;f<b.channels;f++)e.push(a.outputBuffer.getChannelData(f));a=e[0].length;b.resampler?b.resampler.getData(e,a):b.requestData(e,a)};a.connect(this.context.destination);this.source=a},stop:function(){this.source.disconnect(this.context.destination)},requestData:function(a,
b){var d=this.channels,e=new Float32Array(b*d);this.ondatarequested({data:e,count:e.length});for(var f=0,g=0;f<b;f++)for(var m=0;m<d;m++)a[m][f]=e[g++]}};WebAudioChannel.isSupported=function(){return"undefined"!==typeof AudioContext||"undefined"!=typeof webkitAudioContext}();function AudioDataChannel(a,b){this.sampleRate=a;this.channels=b}
AudioDataChannel.prototype={start:function(){var a=this.sampleRate,b=this.channels,d=this,e=new Audio;e.mozSetup(b,a);var f=0,g=a*b/2,m=null,l;this.interval=setInterval(function(){var a;if(m){a=e.mozWriteAudio(m.subarray(l));f+=a;l+=a;if(l<m.length)return;m=null}a=e.mozCurrentSampleOffset()+g-f;a-=a%b;if(0<a){var r=new Float32Array(a);d.requestData(r,a);a=e.mozWriteAudio(r);a<r.length&&(m=r,l=a);f+=a}},100)},stop:function(){clearInterval(this.interval)},requestData:function(a,b){this.ondatarequested({data:a,
count:b})}};AudioDataChannel.isSupported=function(){return"mozSetup"in new Audio}();
var SoundMixerDefinition=function(){var a=1,b=[];return{__class__:"flash.media.SoundMixer",initialize:function(){},__glue__:{"native":{"static":{_registerChannel:function(a){b.push(a)},_unregisterChannel:function(a){a=b.indexOf(a);0<=a&&b.splice(a,1)},_getMasterVolume:function(){return a},_setMasterVolume:function(d){a=d;b.forEach(function(a){a._applySoundTransform()})},stopAll:function(){b.forEach(function(a){a.stop()});b=[]},computeSpectrum:function(a){somewhatImplemented("SoundMixer.computeSpectrum");
for(var b=new Float32Array(1024),f=0;1024>f;f++)b[f]=Math.random();a.writeRawBytes(b);a.position=0},areSoundsInaccessible:function(){notImplemented("SoundMixer.areSoundsInaccessible")},bufferTime:{get:function(){notImplemented("SoundMixer.bufferTime")},set:function(){notImplemented("SoundMixer.bufferTime")}},soundTransform:{get:function(){somewhatImplemented("SoundMixer.soundTransform");return isNullOrUndefined(this._soundTransform)?new flash.media.SoundTransform:new flash.media.SoundTransform(this._soundTransform._volume,
this._soundTransform.pan)},set:function(a){somewhatImplemented("SoundMixer.soundTransform");this._soundTransform=isNullOrUndefined(a)?new flash.media.SoundTransform:a;b.forEach(function(a){a._applySoundTransform()})}},audioPlaybackMode:{get:function(){notImplemented("SoundMixer.audioPlaybackMode")},set:function(){notImplemented("SoundMixer.audioPlaybackMode")}},useSpeakerphoneForVoice:{get:function(){notImplemented("SoundMixer.useSpeakerphoneForVoice")},set:function(){notImplemented("SoundMixer.useSpeakerphoneForVoice")}}},
instance:{}}}}}.call(this),SoundTransformDefinition=function(){return{__class__:"flash.media.SoundTransform",initialize:function(){},_updateTransform:function(){somewhatImplemented("SoundTransform._updateTransform")},__glue__:{"native":{"static":{},instance:{volume:{get:function(){return this._volume},set:function(a){this._volume=a;this._updateTransform()}},leftToLeft:{get:function(){return this._leftToLeft},set:function(a){this._leftToLeft=a;this._updateTransform()}},leftToRight:{get:function(){return this._leftToRight},
set:function(a){this._leftToRight=a;this._updateTransform()}},rightToRight:{get:function(){return this._rightToRight},set:function(a){this._rightToRight=a;this._updateTransform()}},rightToLeft:{get:function(){return this._rightToLeft},set:function(a){this._rightToLeft=a;this._updateTransform()}}}},script:{instance:{pan:"public pan"}}}}}.call(this),StageVideoDefinition=function(){return{__class__:"flash.media.StageVideo",initialize:function(){},__glue__:{"native":{"static":{},instance:{attachNetStream:function(){notImplemented("StageVideo.attachNetStream")},
attachCamera:function(){notImplemented("StageVideo.attachCamera")},viewPort:{get:function(){notImplemented("StageVideo.viewPort");return this._viewPort},set:function(a){notImplemented("StageVideo.viewPort");this._viewPort=a}},pan:{set:function(a){notImplemented("StageVideo.pan");this._pan=a},get:function(){notImplemented("StageVideo.pan");return this._pan}},zoom:{set:function(a){notImplemented("StageVideo.zoom");this._zoom=a},get:function(){notImplemented("StageVideo.zoom");return this._zoom}},depth:{set:function(a){notImplemented("StageVideo.depth");
this._depth=a},get:function(){notImplemented("StageVideo.depth");return this._depth}},videoWidth:{get:function(){notImplemented("StageVideo.videoWidth");return this._videoWidth}},videoHeight:{get:function(){notImplemented("StageVideo.videoHeight");return this._videoHeight}},colorSpaces:{get:function(){notImplemented("StageVideo.colorSpaces");return this._colorSpaces}}}}}}}.call(this),VideoDefinition=function(){var a={initialize:function(){TelemetryService.reportTelemetry({topic:"feature",feature:4})},
attachNetStream:function(a){this._netStream=a;a._videoReady.then(function(d){this._element=d;a._videoMetadataReady.then(function(){this._element.width=this._videoWidth=this._element.videoWidth;this._element.height=this._videoHeight=this._element.videoHeight;this.stage&&(this.stage._invalid=!0)}.bind(this))}.bind(this))},ctor:function(a,d){if(!a||0>a)a=320;if(!d||0>d)d=240;this._bbox={xMin:0,yMin:0,xMax:20*a,yMax:20*d};this._initialWidth=this._videoWidth=a;this._initialHeight=this._videoHeight=d;this._element=
null;this._added=!1},draw:function(a){if(this._element){this._added||(a.canvas.parentNode.appendChild(this._element),this._added=!0);var d=this._initialWidth,e=this._initialHeight;0<d&&0<e&&(a.save(),a.beginPath(),a.rect(0,0,d,e),a.clip(),a.clearRect(0,0,d,e),a.restore());a=this._getConcatenatedTransform(!0);var d=d/this._videoWidth,e=e/this._videoHeight,f=this.stage&&this.stage._contentsScaleFactor||1;a="transform: matrix("+d*a.a/f+","+d*a.b/f+","+e*a.c/f+","+e*a.d/f+","+a.tx/20/f+","+a.ty/20/f+
");";this._currentCssTransform!==a&&(this._currentCssTransform=a,this._element.setAttribute("style","position: absolute; top:0; left:0; z-index: -100;transform-origin: 0px 0px 0;"+a+"-webkit-transform-origin: 0px 0px 0; -webkit-"+a))}}};a.__glue__={"native":{instance:{attachNetStream:a.attachNetStream,ctor:a.ctor,smoothing:{get:function(){return this._smoothing},set:function(a){somewhatImplemented("Video.smoothing");this._smoothing=a}},videoHeight:{get:function(){return this._videoHeight}},videoWidth:{get:function(){return this._videoWidth}}}}};
return a}.call(this),FileFilterDefinition=function(){return{__class__:"flash.net.FileFilter",initialize:function(){this._macType=this._extension=this._description=null},__glue__:{"native":{"static":{},instance:{description:{get:function(){return this._description},set:function(a){this._description=a}},extension:{get:function(){return this._extension},set:function(a){this._extension=a}},macType:{get:function(){return this._macType},set:function(a){this._macType=a}}}}}}}.call(this),LocalConnectionDefinition=
function(){return{__class__:"flash.net.LocalConnection",initialize:function(){},__glue__:{"native":{"static":{},instance:{close:function(){notImplemented("LocalConnection.close")},connect:function(){notImplemented("LocalConnection.connect")},send:function(){notImplemented("LocalConnection.send")},allowDomain:function(){notImplemented("LocalConnection.allowDomain")},allowInsecureDomain:function(){notImplemented("LocalConnection.allowInsecureDomain")},domain:{get:function(){somewhatImplemented("LocalConnection.domain");
var a=FileLoadingService.resolveUrl("/");return(a=/:\/\/(.+?)[:?#\/]/.exec(a))&&a[1]}},client:{get:function(){notImplemented("LocalConnection.client");return this._client},set:function(a){notImplemented("LocalConnection.client");this._client=a}},isPerUser:{get:function(){notImplemented("LocalConnection.isPerUser");return this._isPerUser},set:function(a){notImplemented("LocalConnection.isPerUser");this._isPerUser=a}}}}}}}.call(this),NetConnectionDefinition=function(){return{__class__:"flash.net.NetConnection",
initialize:function(){TelemetryService.reportTelemetry({topic:"feature",feature:6})},_invoke:function(a){var b=!1;switch(a){case 2:b=!0}(b?somewhatImplemented:notImplemented)("NetConnection._invoke ("+a+")")},__glue__:{"native":{"static":{defaultObjectEncoding:{get:function(){notImplemented("NetConnection.defaultObjectEncoding")},set:function(){notImplemented("NetConnection.defaultObjectEncoding")}}},instance:{connect:function(a){var b=flash.events.NetStatusEvent;somewhatImplemented("NetConnection.connect");
(this._uri=a)?this._dispatchEvent(new b(b.class.NET_STATUS,!1,!1,wrapJSObject({level:"status",code:"NetConnection.Connect.Failed"}))):(this._connected=!0,this._dispatchEvent(new b(b.class.NET_STATUS,!1,!1,wrapJSObject({level:"status",code:"NetConnection.Connect.Success"}))))},call:function(){notImplemented("NetConnection.call")},connected:{get:function(){return this._connected}},uri:{get:function(){return this._uri}},client:{get:function(){return this._client},set:function(a){this._client=a}},objectEncoding:{get:function(){notImplemented("NetConnection.objectEncoding");
return this._objectEncoding},set:function(a){notImplemented("NetConnection.objectEncoding");this._objectEncoding=a}},proxyType:{get:function(){notImplemented("NetConnection.proxyType");return this._proxyType},set:function(a){notImplemented("NetConnection.proxyType");this._proxyType=a}},connectedProxyType:{get:function(){notImplemented("NetConnection.connectedProxyType");return this._connectedProxyType}},usingTLS:{get:function(){somewhatImplemented("NetConnection.usingTLS");return!1}},protocol:{get:function(){notImplemented("NetConnection.protocol");
return this._protocol}},maxPeerConnections:{get:function(){notImplemented("NetConnection.maxPeerConnections");return this._maxPeerConnections},set:function(a){notImplemented("NetConnection.maxPeerConnections");this._maxPeerConnections=a}},nearID:{get:function(){notImplemented("NetConnection.nearID");return this._nearID}},farID:{get:function(){notImplemented("NetConnection.farID");return this._farID}},nearNonce:{get:function(){notImplemented("NetConnection.nearNonce");return this._nearNonce}},farNonce:{get:function(){notImplemented("NetConnection.farNonce");
return this._farNonce}},unconnectedPeerStreams:{get:function(){notImplemented("NetConnection.unconnectedPeerStreams");return this._unconnectedPeerStreams}},invoke:function(a){return this._invoke(a,Array.prototype.slice.call(arguments,1))},invokeWithArgsArray:function(a,b){return this._invoke.call(this,a,b)}}}}}}.call(this),USE_MEDIASOURCE_API=!1,NetStreamDefinition=function(){return{__class__:"flash.net.NetStream",initialize:function(){},_invoke:function(a){var b=!1;switch(a){case 4:b=!0;break;case 202:b=
!0;break;case 300:return 0;case 302:return 0;case 305:return 0;case 306:return 0}(b?somewhatImplemented:notImplemented)("NetStream._invoke ("+a+")")},_createVideoElement:function(a){var b=flash.events.NetStatusEvent,d=this,e=document.createElement("video");e.src=a;e.addEventListener("play",function(){d._dispatchEvent(new b(b.class.NET_STATUS,!1,!1,wrapJSObject({code:"NetStream.Play.Start",level:"status"})))});e.addEventListener("ended",function(){d._dispatchEvent(new b(b.class.NET_STATUS,!1,!1,wrapJSObject({code:"NetStream.Play.Stop",
level:"status"})))});e.addEventListener("loadeddata",function(){d._dispatchEvent(new b(b.class.NET_STATUS,!1,!1,wrapJSObject({code:"NetStream.Buffer.Full",level:"status"})))});e.addEventListener("waiting",function(){d._dispatchEvent(new b(b.class.NET_STATUS,!1,!1,wrapJSObject({code:"NetStream.Buffer.Empty",level:"status"})))});e.addEventListener("loadedmetadata",function(){d._videoMetadataReady.resolve({videoWidth:e.videoWidth,videoHeight:e.videoHeight})});e.addEventListener("error",function(a){d._dispatchEvent(new b(b.class.NET_STATUS,
!1,!1,wrapJSObject({code:4===a.target.error.code?"NetStream.Play.NoSupportedTrackFound":3===a.target.error.code?"NetStream.Play.FileStructureInvalid":"NetStream.Play.StreamNotFound",level:"error"})))});e.play();this._videoElement=e;this._videoReady.resolve(e)},__glue__:{script:{instance:scriptProperties("public",["appendBytes","appendBytesAction"])},"native":{"static":{},instance:{ctor:function(){somewhatImplemented("NetStream.ctor");this._mediaSource=this._contentTypeHint=null;this._checkPolicyFile=
!0;this._videoElement=null;this._videoReady=new Promise;this._videoMetadataReady=new Promise},onResult:function(){notImplemented("NetStream.onResult")},dispose:function(){notImplemented("NetStream.dispose")},play:function(a){var b=!1;b&&"undefined"===typeof MediaSource&&(console.warn("MediaSource API is not enabled, falling back to regular playback"),b=!1);if(b){var d=new MediaSource;d.addEventListener("sourceopen",function(){this._mediaSource=d}.bind(this));d.addEventListener("sourceend",function(){this._mediaSource=
null}.bind(this));this._createVideoElement(window.URL.createObjectURL(d));if(a){a=new flash.net.URLRequest(a);a._checkPolicyFile=this._checkPolicyFile;var e=new flash.net.URLStream;e._addEventListener("httpStatus",function(a){if((a=a[Multiname.getPublicQualifiedName("responseHeaders")].filter(function(a){return"Content-Type"===a[Multiname.getPublicQualifiedName("name")]})[0])&&"application/octet-stream"!==a[Multiname.getPublicQualifiedName("value")])this._contentTypeHint=a[Multiname.getPublicQualifiedName("value")]}.bind(this));
e._addEventListener("progress",function(){var a=e.bytesAvailable,b=avm2.systemDomain.getClass("flash.utils.ByteArray").createInstance();e.readBytes(b,0,a);this.appendBytes(b)}.bind(this));e._addEventListener("complete",function(){this.appendBytesAction("endSequence")}.bind(this));e.load(a)}}else somewhatImplemented("NetStream.play"),this._createVideoElement(FileLoadingService.resolveUrl(a))},play2:function(){notImplemented("NetStream.play2")},invoke:function(a){return this._invoke(a,Array.prototype.slice.call(arguments,
1))},invokeWithArgsArray:function(a,b){return this._invoke.call(this,a,b)},appendBytes:function(a){this._mediaSource&&(this._mediaSourceBuffer||(this._mediaSourceBuffer=this._mediaSource.addSourceBuffer(this._contentTypeHint)),this._mediaSourceBuffer.appendBuffer(new Uint8Array(a.a,0,a.length)));somewhatImplemented("NetStream.appendBytes")},appendBytesAction:function(a){"endSequence"===a&&this._mediaSource&&this._mediaSource.endOfStream();somewhatImplemented("NetStream.appendBytesAction")},info:{get:function(){notImplemented("NetStream.info");
return this._info}},multicastInfo:{get:function(){notImplemented("NetStream.multicastInfo");return this._multicastInfo}},soundTransform:{get:function(){return this._soundTransform},set:function(a){somewhatImplemented("NetStream.soundTransform");this._soundTransform=a}},checkPolicyFile:{get:function(){return this._checkPolicyFile},set:function(a){this._checkPolicyFile=a}},client:{get:function(){somewhatImplemented("NetStream.client");return this._client},set:function(a){somewhatImplemented("NetStream.client");
this._client=a}},objectEncoding:{get:function(){notImplemented("NetStream.objectEncoding");return this._objectEncoding}},multicastPushNeighborLimit:{get:function(){notImplemented("NetStream.multicastPushNeighborLimit");return this._multicastPushNeighborLimit},set:function(a){notImplemented("NetStream.multicastPushNeighborLimit");this._multicastPushNeighborLimit=a}},multicastWindowDuration:{get:function(){notImplemented("NetStream.multicastWindowDuration");return this._multicastWindowDuration},set:function(a){notImplemented("NetStream.multicastWindowDuration");
this._multicastWindowDuration=a}},multicastRelayMarginDuration:{get:function(){notImplemented("NetStream.multicastRelayMarginDuration");return this._multicastRelayMarginDuration},set:function(a){notImplemented("NetStream.multicastRelayMarginDuration");this._multicastRelayMarginDuration=a}},multicastAvailabilityUpdatePeriod:{get:function(){notImplemented("NetStream.multicastAvailabilityUpdatePeriod");return this._multicastAvailabilityUpdatePeriod},set:function(a){notImplemented("NetStream.multicastAvailabilityUpdatePeriod");
this._multicastAvailabilityUpdatePeriod=a}},multicastFetchPeriod:{get:function(){notImplemented("NetStream.multicastFetchPeriod");return this._multicastFetchPeriod},set:function(a){notImplemented("NetStream.multicastFetchPeriod");this._multicastFetchPeriod=a}},multicastAvailabilitySendToAll:{get:function(){notImplemented("NetStream.multicastAvailabilitySendToAll");return this._multicastAvailabilitySendToAll},set:function(a){notImplemented("NetStream.multicastAvailabilitySendToAll");this._multicastAvailabilitySendToAll=
a}},farID:{get:function(){notImplemented("NetStream.farID");return this._farID}},nearNonce:{get:function(){notImplemented("NetStream.nearNonce");return this._nearNonce}},farNonce:{get:function(){notImplemented("NetStream.farNonce");return this._farNonce}},peerStreams:{get:function(){notImplemented("NetStream.peerStreams");return this._peerStreams}},audioReliable:{get:function(){notImplemented("NetStream.audioReliable");return this._audioReliable},set:function(a){notImplemented("NetStream.audioReliable");
this._audioReliable=a}},videoReliable:{get:function(){notImplemented("NetStream.videoReliable");return this._videoReliable},set:function(a){notImplemented("NetStream.videoReliable");this._videoReliable=a}},dataReliable:{get:function(){notImplemented("NetStream.dataReliable");return this._dataReliable},set:function(a){notImplemented("NetStream.dataReliable");this._dataReliable=a}},audioSampleAccess:{get:function(){notImplemented("NetStream.audioSampleAccess");return this._audioSampleAccess},set:function(a){notImplemented("NetStream.audioSampleAccess");
this._audioSampleAccess=a}},videoSampleAccess:{get:function(){notImplemented("NetStream.videoSampleAccess");return this._videoSampleAccess},set:function(a){notImplemented("NetStream.videoSampleAccess");this._videoSampleAccess=a}},useHardwareDecoder:{get:function(){notImplemented("NetStream.useHardwareDecoder");return this._useHardwareDecoder},set:function(a){notImplemented("NetStream.useHardwareDecoder");this._useHardwareDecoder=a}},useJitterBuffer:{get:function(){notImplemented("NetStream.useJitterBuffer");
return this._useJitterBuffer},set:function(a){notImplemented("NetStream.useJitterBuffer");this._useJitterBuffer=a}},videoStreamSettings:{get:function(){notImplemented("NetStream.videoStreamSettings");return this._videoStreamSettings},set:function(a){notImplemented("NetStream.videoStreamSettings");this._videoStreamSettings=a}}}}}}}.call(this),ObjectEncodingDefinition=function(){return{__class__:"flash.net.ObjectEncoding",initialize:function(){},__glue__:{"native":{"static":{dynamicPropertyWriter:{get:function(){notImplemented("ObjectEncoding.dynamicPropertyWriter")},
set:function(){notImplemented("ObjectEncoding.dynamicPropertyWriter")}}},instance:{}}}}}.call(this),ResponderDefinition=function(){var a={ctor:function(){}};a.__glue__={"native":{instance:{ctor:a.ctor}}};return a}.call(this),SharedObjectDefinition=function(){var a=3,b=createEmptyObject();return{__class__:"flash.net.SharedObject",initialize:function(){this._data={};this._objectEncoding=a;this._data[Multiname.getPublicQualifiedName("levelCompleted")]=32;this._data[Multiname.getPublicQualifiedName("completeLevels")]=
32;TelemetryService.reportTelemetry({topic:"feature",feature:3})},__glue__:{"native":{"static":{deleteAll:function(){notImplemented("SharedObject.deleteAll")},getDiskUsage:function(){notImplemented("SharedObject.getDiskUsage")},getLocal:function(a,e){var f=e+"/"+a;return b[f]||(b[f]=new flash.net.SharedObject)},getRemote:function(){notImplemented("SharedObject.getRemote")},defaultObjectEncoding:{get:function(){return a},set:function(b){a=b}}},instance:{setDirty:function(){notImplemented("SharedObject.setDirty")},
invoke:function(a){var b=a;Array.prototype.slice.call(arguments,1);var f=!1,g;switch(b){case 4:g=JSON.stringify(this._data).length;f=!0;break;case 6:this._data={};f=!0;break;case 2:g=f=!0;break;case 3:f=!0}(f?somewhatImplemented:notImplemented)("SharedObject.invoke ("+b+")");return g},invokeWithArgsArray:function e(a,b){return e.call(this,a,b)},data:{get:function(){return this._data}},objectEncoding:{get:function(){return this._objectEncoding},set:function(a){this._objectEncoding=a}},client:{get:function(){notImplemented("SharedObject.client");
return this._client},set:function(a){notImplemented("SharedObject.client");this._client=a}}}}}}}.call(this),URLLoaderDefinition=function(){return{initialize:function(){},__glue__:{"native":{"static":{},instance:{}},script:{"static":{},instance:{data:"public data",dataFormat:"public dataFormat",bytesTotal:"public bytesTotal",bytesLoaded:"public bytesLoaded",load:"public load"}}}}}.call(this),URLRequestDefinition=function(){function a(){var a={};a.url=this._url;a.method=this._method;a.checkPolicyFile=
this._checkPolicyFile;if(this._data)if(a.mimeType=this._contentType,avm2.systemDomain.getClass("flash.utils.ByteArray").isInstanceOf(this._data))a.data=new Uint8Array(this._data.a,0,this._data.length);else{var b=this._data.asGetPublicProperty("toString").call(this._data);if("GET"===this._method){var d=a.url.lastIndexOf("?");a.url=(0>d?a.url:a.url.substring(0,d))+"?"+b}else a.data=b}return a}var b={initialize:function(){this._url=null;this._method="GET";this._digest=this._data=null;this._contentType=
"application/x-www-form-urlencoded";this._requestHeaders=null;this._checkPolicyFile=!0;this._toFileRequest=a},setMethod:function(a){this._method=a},setRequestHeaders:function(a){this._requestHeaders=a},get contentType(){return this._contentType},set contentType(a){this._contentType=a},get data(){return this._data},set data(a){this._data=a},get digest(){return this._digest},set digest(a){this._digest=a},get method(){return this._method},set method(a){this._method=a},get requestHeaders(){return this._requestHeaders},
set requestHeaders(a){this._requestHeaders=a},get url(){return this._url},set url(a){this._url=a}},d=Object.getOwnPropertyDescriptor;b.__glue__={"native":{instance:{setMethod:b.setMethod,setRequestHeaders:b.setRequestHeaders,contentType:d(b,"contentType"),data:d(b,"data"),digest:d(b,"digest"),method:d(b,"method"),requestHeaders:d(b,"requestHeaders"),url:d(b,"url")}}};return b}.call(this),URLStreamDefinition=function(){var a={initialize:function(){this._stream=null;this._littleEndian=this._connected=
!1},close:function(){this._session.close()},load:function(a){var b=FileLoadingService.createSession(),f=this,g=!0;b.onprogress=function(a,b){if(g){g=!1;var d=Math.max(b.bytesTotal,a.length),e=new ArrayBuffer(d);f._stream=new Stream(e,0,0,d)}else f._stream.end+a.length>f._stream.bytes.length&&(d=f._stream.end+a.length,e=new ArrayBuffer(d),d=new Stream(e,0,0,d),d.push(f._stream.bytes.subarray(0,f._stream.end)),f._stream=d);f._stream.push(a);d=avm2.systemDomain.getClass("flash.events.ProgressEvent");
f._dispatchEvent(d.createInstance(["progress",!1,!1,b.bytesLoaded,b.bytesTotal]))};b.onerror=function(a){f._connected=!1;f._stream||(f._stream=new Stream(new ArrayBuffer(0),0,0,0));f._dispatchEvent(new flash.events.IOErrorEvent(flash.events.IOErrorEvent.class.IO_ERROR,!1,!1,a))};b.onopen=function(){f._connected=!0;f._dispatchEvent(new flash.events.Event("open",!1,!1))};b.onhttpstatus=function(a,b,d){var e=avm2.systemDomain.getClass("flash.events.HTTPStatusEvent"),g=avm2.systemDomain.getClass("flash.net.URLRequestHeader");
b=e.createInstance(["httpStatus",!1,!1,b]);var v=[];d.split(/\r\n/g).forEach(function(b){if(b=/^([^:]+): (.*)$/.exec(b))v.push(g.createInstance([b[1],b[2]])),"Location"===b[1]&&(a=b[2])});b.public$responseHeaders=v;b.public$responseURL=a;f._dispatchEvent(b)};b.onclose=function(){f._connected=!1;f._stream||(f._stream=new Stream(new ArrayBuffer(0),0,0,0));f._dispatchEvent(new flash.events.Event("complete",!1,!1))};b.open(a._toFileRequest());this._session=b},readBoolean:function(){notImplemented("URLStream.readBoolean")},
readByte:function(){var a=this._stream;a.ensure(1);return a.bytes[a.pos++]},readBytes:function(a,b,f){if(0>f)throw"Invalid length argument";var g=this._stream;f?g.ensure(f):f=g.remaining();a.writeRawBytes(g.bytes.subarray(g.pos,g.pos+f),b,f);g.pos+=f},readDouble:function(){notImplemented("URLStream.readDouble")},readFloat:function(){notImplemented("URLStream.readFloat")},readInt:function(){notImplemented("URLStream.readInt")},readMultiByte:function(){notImplemented("URLStream.readMultiByte")},readObject:function(){notImplemented("URLStream.readObject")},
readShort:function(){notImplemented("URLStream.readShort")},readUTF:function(){return this.readUTFBytes(this.readUnsignedShort())},readUTFBytes:function(a){if(0>a)throw"Invalid length argument";var b=this._stream;b.ensure(a);var f=utf8encode(b.bytes.subarray(b.pos,b.pos+a));b.pos+=a;return f},readUnsignedByte:function(){notImplemented("URLStream.readUnsignedByte")},readUnsignedInt:function(){notImplemented("URLStream.readUnsignedInt")},readUnsignedShort:function(){var a=this._stream;a.ensure(2);var b=
a.getUint16(a.pos,this._littleEndian);a.pos+=2;return b},get bytesAvailable(){return this._stream.remaining()},get connected(){return this._connected},get endian(){return this._littleEndian?"littleEndian":"bigEndian"},set endian(a){this._littleEndian="littleEndian"==a},get objectEncoding(){notImplemented("URLStream.objectEncoding")},set objectEncoding(a){notImplemented("URLStream.objectEncoding")}},b=Object.getOwnPropertyDescriptor;a.__glue__={"native":{instance:{close:a.close,load:a.load,readBoolean:a.readBoolean,
readByte:a.readByte,readBytes:a.readBytes,readDouble:a.readDouble,readFloat:a.readFloat,readInt:a.readInt,readMultiByte:a.readMultiByte,readObject:a.readObject,readShort:a.readShort,readUTF:a.readUTF,readUTFBytes:a.readUTFBytes,readUnsignedByte:a.readUnsignedByte,readUnsignedInt:a.readUnsignedInt,readUnsignedShort:a.readUnsignedShort,bytesAvailable:b(a,"bytesAvailable"),connected:b(a,"connected"),endian:b(a,"endian"),objectEncoding:b(a,"objectEncoding")}}};return a}.call(this),ApplicationDomainDefinition=
function(){return{__class__:"flash.system.ApplicationDomain",initialize:function(){},__glue__:{"native":{"static":{currentDomain:{get:function(){return new flash.system.ApplicationDomain(AVM2.currentDomain())}},MIN_DOMAIN_MEMORY_LENGTH:{get:function(){notImplemented("ApplicationDomain.MIN_DOMAIN_MEMORY_LENGTH")}}},instance:{ctor:function(a){a instanceof Domain?this.nativeObject=a:(a=a?a.nativeObject:AVM2.currentDomain().system,this.nativeObject=new Domain(a.vm,a))},getDefinition:function(a){a=a.replace("::",
".");return this.nativeObject.getProperty(Multiname.fromSimpleName(a),!0,!0)},hasDefinition:function(a){if(void 0===a)return!1;a=a.replace("::",".");return!!this.nativeObject.findDomainProperty(Multiname.fromSimpleName(a),!1,!1)},getQualifiedDefinitionNames:function(){notImplemented("ApplicationDomain.getQualifiedDefinitionNames")},parentDomain:{get:function(){var a=this.nativeObject.base;return!a?void 0:new flash.system.ApplicationDomain(a)}},domainMemory:{get:function(){notImplemented("ApplicationDomain.domainMemory");
return this._domainMemory},set:function(a){notImplemented("ApplicationDomain.domainMemory");this._domainMemory=a}}}},script:{"static":Glue.ALL,instance:Glue.ALL}}}}.call(this),CapabilitiesDefinition=function(){var a={},b,d=window.navigator.userAgent;0<d.indexOf("Macintosh")?b="Mac OS 10.5.2":0<d.indexOf("Windows")?b="Windows XP":0<d.indexOf("Linux")?b="Linux":/(iPad|iPhone|iPod|Android)/.test(d)?b="iPhone3,1":notImplemented();a.__glue__={"native":{"static":{version:{get:function(){return"SHUMWAY 10,0,0,0"},
enumerable:!0},os:{get:function(){return b},enumerable:!0},serverString:{get:function(){var a=toKeyValueArray({OS:b}).map(function(a){return a[0]+"="+encodeURIComponent(a[1])}).join("&");somewhatImplemented("Capabilities.serverString: "+a);return a}},hasAccessibility:{get:function(){somewhatImplemented("Capabilities.hasAccessibility");return!1}},screenResolutionX:{get:function(){return window.screen.width}},screenResolutionY:{get:function(){return window.screen.height}},manufacturer:{get:function(){somewhatImplemented("Capabilities.manufacturer");
return"Mozilla Research"}},language:{get:function(){somewhatImplemented("Capabilities.language");return"en"}}}},script:{"static":scriptProperties("public",["version","os"])}};return a}.call(this),FSCommandDefinition=function(){return{__glue__:{"native":{"static":{_fscommand:function(a,b){console.log("FSCommand: "+a+"; "+b);switch(a.toLowerCase()){case "quit":renderingTerminated=!0;break;case "debugger":debugger}}}}}}}.call(this),SecurityDefinition=function(){var a;return{__class__:"flash.system.Security",
initialize:function(){},__glue__:{"native":{"static":{allowDomain:function(){somewhatImplemented('Security.allowDomain ["'+Array.prototype.join.call(arguments,'", "')+'"]')},allowInsecureDomain:function(){somewhatImplemented("Security.allowInsecureDomain")},loadPolicyFile:function(){somewhatImplemented("Security.loadPolicyFile")},duplicateSandboxBridgeInputArguments:function(){notImplemented("Security.duplicateSandboxBridgeInputArguments")},duplicateSandboxBridgeOutputArgument:function(){notImplemented("Security.duplicateSandboxBridgeOutputArgument")},
showSettings:function(){notImplemented("Security.showSettings")},exactSettings:{get:function(){return a},set:function(b){a=b}},disableAVM1Loading:{get:function(){notImplemented("Security.disableAVM1Loading")},set:function(){notImplemented("Security.disableAVM1Loading")}},sandboxType:{get:function(){somewhatImplemented("Security.sandboxType");return"remote"}},pageDomain:{get:function(){somewhatImplemented("Security.pageDomain");var a=FileLoadingService.resolveUrl("/").split("/");a.pop();return a.pop()}}}}}}}.call(this),
SecurityDomainDefinition=function(){return{__class__:"flash.system.SecurityDomain",initialize:function(){},_currentDomain:null,__glue__:{"native":{"static":{currentDomain:{get:function(){return this._currentDomain}}},instance:{ctor_impl:function(){notImplemented("SecurityDomain.ctor_impl")},domainID:{get:function(){notImplemented("SecurityDomain.domainID");return this._domainID}}}}}}}.call(this),SystemDefinition=function(){return{__class__:"flash.system.System",initialize:function(){},__glue__:{"native":{"static":{setClipboard:function(a){FirefoxCom.request("setClipboard",
a);TelemetryService.reportTelemetry({topic:"feature",feature:2})},pause:function(){notImplemented("System.pause")},resume:function(){notImplemented("System.resume")},exit:function(){notImplemented("System.exit")},gc:function(){notImplemented("System.gc")},pauseForGCIfCollectionImminent:function(){notImplemented("System.pauseForGCIfCollectionImminent")},disposeXML:function(){notImplemented("System.disposeXML")},ime:{get:function(){notImplemented("System.ime")}},totalMemoryNumber:{get:function(){return performance.memory?
performance.memory.usedJSHeapSize:0}},freeMemory:{get:function(){notImplemented("System.freeMemory")}},privateMemory:{get:function(){return 0}},processCPUUsage:{get:function(){notImplemented("System.processCPUUsage")}},useCodePage:{get:function(){somewhatImplemented("System.useCodePage");return!1},set:function(){notImplemented("System.useCodePage")}},vmVersion:{get:function(){somewhatImplemented("System.vmVersion");return"1.0 shumway"}}},instance:{}}}}}.call(this),FontDefinition=function(){function a(){if(f)return f;
var a=window.navigator.userAgent;return f=-1<a.indexOf("Windows")?DEVICE_FONT_METRICS_WIN:/(Macintosh|iPad|iPhone|iPod|Android)/.test(a)?DEVICE_FONT_METRICS_MAC:DEVICE_FONT_METRICS_LINUX}var b=[],d=Object.create(null),e=Object.create(null),f,g={__class__:"flash.text.Font",initialize:function(){var a=this.symbol;a&&(this._fontName=a.name||null,this._uniqueName=a.uniqueName,this._fontStyle=a.bold?a.italic?"boldItalic":"bold":a.italic?"italic":"regular",a=a.metrics,a.height=a.ascent+a.descent+a.leading,
this._metrics=a,this._fontType="embedded",b.push(this),d[this._uniqueName]=this,a=this._fontName.toLowerCase()+"_"+this._fontStyle+"_embedded",e[a]=this)},get fontName(){return this._fontName},get fontStyle(){return this._fontStyle},get fontType(){return this._fontType},hasGlyphs:function(){return!0},getFont:function(b,d,f){f=b.toLowerCase()+"_"+d+(f?"_embedded":"_device");var g=e[f];if(g)return g;g=new flash.text.Font;g._fontName=g._uniqueName=b;g._fontStyle=d;g._fontType="device";b=a()[b];b||(b=
a().serif,g._fontName=g._uniqueName="serif");g._metrics={ascent:b[0],descent:b[1],leading:b[2]};g._metrics.height=b[0]+b[1]+b[2];return e[f]=g},getFontByUniqueName:function(a){return d[a]}},m=Object.getOwnPropertyDescriptor;g.__glue__={"native":{instance:{fontName:m(g,"fontName"),fontStyle:m(g,"fontStyle"),fontType:m(g,"fontType"),hasGlyphs:g.hasGlyphs},"static":{enumerateFonts:function(){return b.slice()},registerFont:function(){somewhatImplemented("Font.registerFont")}}}};return g}.call(this),DEVICE_FONT_METRICS_WIN=
{serif:[1,0.25,0],"sans-serif":[1,0.25,0],monospace:[1,0.25,0],"birch std":[0.9167,0.25,0],"blackoak std":[1,0.3333,0],"chaparral pro":[0.8333,0.3333,0],"chaparral pro light":[0.8333,0.3333,0],"charlemagne std":[0.9167,0.25,0],"cooper std black":[0.9167,0.25,0],"giddyup std":[0.8333,0.3333,0],"hobo std":[1.0833,0.3333,0],"kozuka gothic pro b":[1,0.4167,0],"kozuka gothic pro el":[1.0833,0.25,0],"kozuka gothic pro h":[1,0.4167,0],"kozuka gothic pro l":[1,0.3333,0],"kozuka gothic pro m":[1.0833,0.3333,
0],"kozuka gothic pro r":[1,0.3333,0],"kozuka mincho pro b":[1.0833,0.25,0],"kozuka mincho pro el":[1.0833,0.25,0],"kozuka mincho pro h":[1.1667,0.25,0],"kozuka mincho pro l":[1.0833,0.25,0],"kozuka mincho pro m":[1.0833,0.25,0],"kozuka mincho pro r":[1.0833,0.25,0],"mesquite std":[0.9167,0.25,0],"minion pro cond":[1,0.3333,0],"minion pro med":[1,0.3333,0],"minion pro smbd":[1,0.3333,0],"myriad arabic":[1,0.4167,0],"nueva std":[0.75,0.25,0],"nueva std cond":[0.75,0.25,0],"ocr a std":[0.8333,0.25,
0],"orator std":[1.0833,0.25,0],"poplar std":[0.9167,0.25,0],"prestige elite std":[0.9167,0.25,0],"rosewood std regular":[0.8333,0.3333,0],"stencil std":[1,0.3333,0],"trajan pro":[1,0.25,0],"kozuka gothic pr6n b":[1.4167,0.4167,0],"kozuka gothic pr6n el":[1.4167,0.3333,0],"kozuka gothic pr6n h":[1.4167,0.4167,0],"kozuka gothic pr6n l":[1.4167,0.3333,0],"kozuka gothic pr6n m":[1.5,0.3333,0],"kozuka gothic pr6n r":[1.4167,0.3333,0],"kozuka mincho pr6n b":[1.3333,0.3333,0],"kozuka mincho pr6n el":[1.3333,
0.3333,0],"kozuka mincho pr6n h":[1.4167,0.3333,0],"kozuka mincho pr6n l":[1.3333,0.3333,0],"kozuka mincho pr6n m":[1.3333,0.3333,0],"kozuka mincho pr6n r":[1.3333,0.3333,0],"letter gothic std":[1,0.25,0],"minion pro":[1,0.3333,0],"myriad hebrew":[0.8333,0.3333,0],"myriad pro":[0.9167,0.25,0],"myriad pro cond":[0.9167,0.25,0],"myriad pro light":[1,0.25,0],marlett:[1,0,0],arial:[1,0.25,0],"arabic transparent":[1,0.25,0],"arial baltic":[1,0.25,0],"arial ce":[1,0.25,0],"arial cyr":[1,0.25,0],"arial greek":[1,
0.25,0],"arial tur":[1,0.25,0],batang:[0.8333,0.1667,0],batangche:[0.8333,0.1667,0],gungsuh:[0.8333,0.1667,0],gungsuhche:[0.8333,0.1667,0],"courier new":[1,0.25,0],"courier new baltic":[1,0.25,0],"courier new ce":[1,0.25,0],"courier new cyr":[1,0.25,0],"courier new greek":[1,0.25,0],"courier new tur":[1,0.25,0],daunpenh:[0.6667,0.6667,0],dokchampa:[1.4167,0.5833,0],"estrangelo edessa":[0.75,0.3333,0],euphemia:[1.0833,0.3333,0],gautami:[1.1667,0.8333,0],vani:[1.0833,0.75,0],gulim:[0.8333,0.1667,0],
gulimche:[0.8333,0.1667,0],dotum:[0.8333,0.1667,0],dotumche:[0.8333,0.1667,0],impact:[1.0833,0.25,0],"iskoola pota":[1,0.3333,0],kalinga:[1.0833,0.5,0],kartika:[1,0.4167,0],"khmer ui":[1.0833,0.3333,0],"lao ui":[1,0.25,0],latha:[1.0833,0.4167,0],"lucida console":[0.75,0.25,0],"malgun gothic":[1,0.25,0],mangal:[1.0833,0.3333,0],meiryo:[1.0833,0.4167,0],"meiryo ui":[1,0.25,0],"microsoft himalaya":[0.5833,0.4167,0],"microsoft jhenghei":[1,0.3333,0],"microsoft yahei":[1.0833,0.3333,0],mingliu:[0.8333,
0.1667,0],pmingliu:[0.8333,0.1667,0],mingliu_hkscs:[0.8333,0.1667,0],"mingliu-extb":[0.8333,0.1667,0],"pmingliu-extb":[0.8333,0.1667,0],"mingliu_hkscs-extb":[0.8333,0.1667,0],"mongolian baiti":[0.8333,0.25,0],"ms gothic":[0.8333,0.1667,0],"ms pgothic":[0.8333,0.1667,0],"ms ui gothic":[0.8333,0.1667,0],"ms mincho":[0.8333,0.1667,0],"ms pmincho":[0.8333,0.1667,0],"mv boli":[1.1667,0.25,0],"microsoft new tai lue":[1,0.4167,0],nyala:[0.9167,0.3333,0],"microsoft phagspa":[1.0833,0.25,0],"plantagenet cherokee":[1,
0.4167,0],raavi:[1.0833,0.6667,0],"segoe script":[1.0833,0.5,0],"segoe ui":[1,0.25,0],"segoe ui semibold":[1,0.25,0],"segoe ui light":[1,0.25,0],"segoe ui symbol":[1,0.25,0],shruti:[1.0833,0.5,0],simsun:[0.8333,0.1667,0],nsimsun:[0.8333,0.1667,0],"simsun-extb":[0.8333,0.1667,0],sylfaen:[1,0.3333,0],"microsoft tai le":[1,0.3333,0],"times new roman":[1,0.25,0],"times new roman baltic":[1,0.25,0],"times new roman ce":[1,0.25,0],"times new roman cyr":[1,0.25,0],"times new roman greek":[1,0.25,0],"times new roman tur":[1,
0.25,0],tunga:[1.0833,0.75,0],vrinda:[1,0.4167,0],"shonar bangla":[0.8333,0.5,0],"microsoft yi baiti":[0.8333,0.1667,0],tahoma:[1,0.1667,0],"microsoft sans serif":[1.0833,0.1667,0],"angsana new":[0.9167,0.4167,0],aparajita:[0.75,0.4167,0],"cordia new":[0.9167,0.5,0],ebrima:[1.0833,0.5,0],gisha:[0.9167,0.25,0],kokila:[0.8333,0.3333,0],leelawadee:[0.9167,0.25,0],"microsoft uighur":[1.0833,0.5,0],moolboran:[0.6667,0.6667,0],symbol:[1,0.25,0],utsaah:[0.8333,0.4167,0],vijaya:[1.0833,0.25,0],wingdings:[0.9167,
0.25,0],andalus:[1.3333,0.4167,0],"arabic typesetting":[0.8333,0.5,0],"simplified arabic":[1.3333,0.5,0],"simplified arabic fixed":[1,0.4167,0],"sakkal majalla":[0.9167,0.5,0],"traditional arabic":[1.3333,0.5,0],aharoni:[0.75,0.25,0],david:[0.75,0.25,0],frankruehl:[0.75,0.25,0],fangsong:[0.8333,0.1667,0],simhei:[0.8333,0.1667,0],kaiti:[0.8333,0.1667,0],"browallia new":[0.8333,0.4167,0],"lucida sans unicode":[1.0833,0.25,0],"arial black":[1.0833,0.3333,0],calibri:[0.9167,0.25,0],cambria:[0.9167,0.25,
0],"cambria math":[3.0833,2.5,0],candara:[0.9167,0.25,0],"comic sans ms":[1.0833,0.3333,0],consolas:[0.9167,0.25,0],constantia:[0.9167,0.25,0],corbel:[0.9167,0.25,0],"franklin gothic medium":[1,0.3333,0],gabriola:[1.1667,0.6667,0],georgia:[1,0.25,0],"palatino linotype":[1.0833,0.3333,0],"segoe print":[1.25,0.5,0],"trebuchet ms":[1.0833,0.4167,0],verdana:[1,0.1667,0],webdings:[1.0833,0.5,0],"lucida bright":[0.9167,0.25,0],"lucida sans":[0.9167,0.25,0],"lucida sans typewriter":[0.9167,0.25,0],"gentium basic":[0.8333,
0.25,0],"dejavu serif condensed":[0.9167,0.25,0],arimo:[1,0.25,0],"dejavu sans condensed":[0.9167,0.25,0],"dejavu sans":[0.9167,0.25,0],"dejavu sans light":[0.9167,0.25,0],opensymbol:[0.8333,0.1667,0],"gentium book basic":[0.8333,0.25,0],"dejavu sans mono":[0.9167,0.25,0],"dejavu serif":[0.9167,0.25,0],"calibri light":[0.9167,0.25,0]},DEVICE_FONT_METRICS_MAC={"al bayan plain":[1,0.5,0],"al bayan bold":[1,0.5833,0],"american typewriter":[0.9167,0.25,0],"american typewriter bold":[0.9167,0.25,0],"american typewriter condensed":[0.9167,
0.25,0],"american typewriter condensed bold":[0.9167,0.25,0],"american typewriter condensed light":[0.8333,0.25,0],"american typewriter light":[0.9167,0.25,0],"andale mono":[0.9167,0.25,0],"apple symbols":[0.6667,0.25,0],"arial bold italic":[0.9167,0.25,0],"arial bold":[0.9167,0.25,0],"arial italic":[0.9167,0.25,0],"arial hebrew":[0.75,0.3333,0],"arial hebrew bold":[0.75,0.3333,0],arial:[0.9167,0.25,0],"arial narrow":[0.9167,0.25,0],"arial narrow bold":[0.9167,0.25,0],"arial narrow bold italic":[0.9167,
0.25,0],"arial narrow italic":[0.9167,0.25,0],"arial rounded mt bold":[0.9167,0.25,0],"arial unicode ms":[1.0833,0.25,0],"avenir black":[1,0.3333,0],"avenir black oblique":[1,0.3333,0],"avenir book":[1,0.3333,0],"avenir book oblique":[1,0.3333,0],"avenir heavy":[1,0.3333,0],"avenir heavy oblique":[1,0.3333,0],"avenir light":[1,0.3333,0],"avenir light oblique":[1,0.3333,0],"avenir medium":[1,0.3333,0],"avenir medium oblique":[1,0.3333,0],"avenir oblique":[1,0.3333,0],"avenir roman":[1,0.3333,0],"avenir next bold":[1,
0.3333,0],"avenir next bold italic":[1,0.3333,0],"avenir next demi bold":[1,0.3333,0],"avenir next demi bold italic":[1,0.3333,0],"avenir next heavy":[1,0.3333,0],"avenir next heavy italic":[1,0.3333,0],"avenir next italic":[1,0.3333,0],"avenir next medium":[1,0.3333,0],"avenir next medium italic":[1,0.3333,0],"avenir next regular":[1,0.3333,0],"avenir next ultra light":[1,0.3333,0],"avenir next ultra light italic":[1,0.3333,0],"avenir next condensed bold":[1,0.3333,0],"avenir next condensed bold italic":[1,
0.3333,0],"avenir next condensed demi bold":[1,0.3333,0],"avenir next condensed demi bold italic":[1,0.3333,0],"avenir next condensed heavy":[1,0.3333,0],"avenir next condensed heavy italic":[1,0.3333,0],"avenir next condensed italic":[1,0.3333,0],"avenir next condensed medium":[1,0.3333,0],"avenir next condensed medium italic":[1,0.3333,0],"avenir next condensed regular":[1,0.3333,0],"avenir next condensed ultra light":[1,0.3333,0],"avenir next condensed ultra light italic":[1,0.3333,0],ayuthaya:[1.0833,
0.3333,0],baghdad:[0.9167,0.4167,0],"bangla mn":[0.9167,0.6667,0],"bangla mn bold":[0.9167,0.6667,0],"bangla sangam mn":[0.9167,0.4167,0],"bangla sangam mn bold":[0.9167,0.4167,0],baskerville:[0.9167,0.25,0],"baskerville bold":[0.9167,0.25,0],"baskerville bold italic":[0.9167,0.25,0],"baskerville italic":[0.9167,0.25,0],"baskerville semibold":[0.9167,0.25,0],"baskerville semibold italic":[0.9167,0.25,0],"big caslon medium":[0.9167,0.25,0],"brush script mt italic":[0.9167,0.3333,0],chalkboard:[1,0.25,
0],"chalkboard bold":[1,0.25,0],"chalkboard se bold":[1.1667,0.25,0],"chalkboard se light":[1.1667,0.25,0],"chalkboard se regular":[1.1667,0.25,0],chalkduster:[1,0.25,0],"charcoal cy":[1,0.25,0],cochin:[0.9167,0.25,0],"cochin bold":[0.9167,0.25,0],"cochin bold italic":[0.9167,0.25,0],"cochin italic":[0.9167,0.25,0],"comic sans ms":[1.0833,0.25,0],"comic sans ms bold":[1.0833,0.25,0],copperplate:[0.75,0.25,0],"copperplate bold":[0.75,0.25,0],"copperplate light":[0.75,0.25,0],"corsiva hebrew":[0.6667,
0.3333,0],"corsiva hebrew bold":[0.6667,0.3333,0],courier:[0.75,0.25,0],"courier bold":[0.75,0.25,0],"courier bold oblique":[0.75,0.25,0],"courier oblique":[0.75,0.25,0],"courier new bold italic":[0.8333,0.3333,0],"courier new bold":[0.8333,0.3333,0],"courier new italic":[0.8333,0.3333,0],"courier new":[0.8333,0.3333,0],biaukai:[0.8333,0.1667,0],damascus:[0.5833,0.4167,0],"damascus bold":[0.5833,0.4167,0],"decotype naskh":[1.1667,0.6667,0],"devanagari mt":[0.9167,0.6667,0],"devanagari mt bold":[0.9167,
0.6667,0],"devanagari sangam mn":[0.9167,0.4167,0],"devanagari sangam mn bold":[0.9167,0.4167,0],didot:[0.9167,0.3333,0],"didot bold":[1,0.3333,0],"didot italic":[0.9167,0.25,0],"euphemia ucas":[1.0833,0.25,0],"euphemia ucas bold":[1.0833,0.25,0],"euphemia ucas italic":[1.0833,0.25,0],"futura condensed extrabold":[1,0.25,0],"futura condensed medium":[1,0.25,0],"futura medium":[1,0.25,0],"futura medium italic":[1,0.25,0],"gb18030 bitmap":[1,0.6667,0],"geeza pro":[0.9167,0.3333,0],"geeza pro bold":[0.9167,
0.3333,0],geneva:[1,0.25,0],"geneva cy":[1,0.25,0],georgia:[0.9167,0.25,0],"georgia bold":[0.9167,0.25,0],"georgia bold italic":[0.9167,0.25,0],"georgia italic":[0.9167,0.25,0],"gill sans":[0.9167,0.25,0],"gill sans bold":[0.9167,0.25,0],"gill sans bold italic":[0.9167,0.25,0],"gill sans italic":[0.9167,0.25,0],"gill sans light":[0.9167,0.25,0],"gill sans light italic":[0.9167,0.25,0],"gujarati mt":[0.9167,0.6667,0],"gujarati mt bold":[0.9167,0.6667,0],"gujarati sangam mn":[0.8333,0.4167,0],"gujarati sangam mn bold":[0.8333,
0.4167,0],"gurmukhi mn":[0.9167,0.25,0],"gurmukhi mn bold":[0.9167,0.25,0],"gurmukhi sangam mn":[0.9167,0.3333,0],"gurmukhi sangam mn bold":[0.9167,0.3333,0],helvetica:[0.75,0.25,0],"helvetica bold":[0.75,0.25,0],"helvetica bold oblique":[0.75,0.25,0],"helvetica light":[0.75,0.25,0],"helvetica light oblique":[0.75,0.25,0],"helvetica oblique":[0.75,0.25,0],"helvetica neue":[0.9167,0.25,0],"helvetica neue bold":[1,0.25,0],"helvetica neue bold italic":[1,0.25,0],"helvetica neue condensed black":[1,0.25,
0],"helvetica neue condensed bold":[1,0.25,0],"helvetica neue italic":[0.9167,0.25,0],"helvetica neue light":[1,0.25,0],"helvetica neue light italic":[0.9167,0.25,0],"helvetica neue medium":[1,0.25,0],"helvetica neue ultralight":[0.9167,0.25,0],"helvetica neue ultralight italic":[0.9167,0.25,0],herculanum:[0.8333,0.1667,0],"hiragino kaku gothic pro w3":[0.9167,0.0833,0],"hiragino kaku gothic pro w6":[0.9167,0.0833,0],"hiragino kaku gothic pron w3":[0.9167,0.0833,0],"hiragino kaku gothic pron w6":[0.9167,
0.0833,0],"hiragino kaku gothic std w8":[0.9167,0.0833,0],"hiragino kaku gothic stdn w8":[0.9167,0.0833,0],"hiragino maru gothic pro w4":[0.9167,0.0833,0],"hiragino maru gothic pron w4":[0.9167,0.0833,0],"hiragino mincho pro w3":[0.9167,0.0833,0],"hiragino mincho pro w6":[0.9167,0.0833,0],"hiragino mincho pron w3":[0.9167,0.0833,0],"hiragino mincho pron w6":[0.9167,0.0833,0],"hiragino sans gb w3":[0.9167,0.0833,0],"hiragino sans gb w6":[0.9167,0.0833,0],"hoefler text black":[0.75,0.25,0],"hoefler text black italic":[0.75,
0.25,0],"hoefler text italic":[0.75,0.25,0],"hoefler text ornaments":[0.8333,0.1667,0],"hoefler text":[0.75,0.25,0],impact:[1,0.25,0],inaimathi:[0.8333,0.4167,0],"headlinea regular":[0.8333,0.1667,0],"pilgi regular":[0.8333,0.25,0],"gungseo regular":[0.8333,0.25,0],"pcmyungjo regular":[0.8333,0.25,0],"kailasa regular":[1.0833,0.5833,0],"kannada mn":[0.9167,0.25,0],"kannada mn bold":[0.9167,0.25,0],"kannada sangam mn":[1,0.5833,0],"kannada sangam mn bold":[1,0.5833,0],"kefa bold":[0.9167,0.25,0],"kefa regular":[0.9167,
0.25,0],"khmer mn":[1,0.6667,0],"khmer mn bold":[1,0.6667,0],"khmer sangam mn":[1.0833,0.6667,0],"kokonor regular":[1.0833,0.5833,0],krungthep:[1,0.25,0],kufistandardgk:[0.9167,0.5,0],"lao mn":[0.9167,0.4167,0],"lao mn bold":[0.9167,0.4167,0],"lao sangam mn":[1,0.3333,0],"apple ligothic medium":[0.8333,0.1667,0],"lihei pro":[0.8333,0.1667,0],"lisong pro":[0.8333,0.1667,0],"lucida grande":[1,0.25,0],"lucida grande bold":[1,0.25,0],"malayalam mn":[1,0.4167,0],"malayalam mn bold":[1,0.4167,0],"malayalam sangam mn":[0.8333,
0.4167,0],"malayalam sangam mn bold":[0.8333,0.4167,0],"marion bold":[0.6667,0.3333,0],"marion italic":[0.6667,0.3333,0],"marion regular":[0.6667,0.3333,0],"marker felt thin":[0.8333,0.25,0],"marker felt wide":[0.9167,0.25,0],"menlo bold":[0.9167,0.25,0],"menlo bold italic":[0.9167,0.25,0],"menlo italic":[0.9167,0.25,0],"menlo regular":[0.9167,0.25,0],"microsoft sans serif":[0.9167,0.25,0],monaco:[1,0.25,0],"gurmukhi mt":[0.8333,0.4167,0],mshtakan:[0.9167,0.25,0],"mshtakan bold":[0.9167,0.25,0],"mshtakan boldoblique":[0.9167,
0.25,0],"mshtakan oblique":[0.9167,0.25,0],"myanmar mn":[1,0.4167,0],"myanmar mn bold":[1,0.4167,0],"myanmar sangam mn":[0.9167,0.4167,0],nadeem:[0.9167,0.4167,0],"nanum brush script":[0.9167,0.25,0],nanumgothic:[0.9167,0.25,0],"nanumgothic bold":[0.9167,0.25,0],"nanumgothic extrabold":[0.9167,0.25,0],nanummyeongjo:[0.9167,0.25,0],"nanummyeongjo bold":[0.9167,0.25,0],"nanummyeongjo extrabold":[0.9167,0.25,0],"nanum pen script":[0.9167,0.25,0],"optima bold":[0.9167,0.25,0],"optima bold italic":[0.9167,
0.25,0],"optima extrablack":[1,0.25,0],"optima italic":[0.9167,0.25,0],"optima regular":[0.9167,0.25,0],"oriya mn":[0.9167,0.25,0],"oriya mn bold":[0.9167,0.25,0],"oriya sangam mn":[0.8333,0.4167,0],"oriya sangam mn bold":[0.8333,0.4167,0],osaka:[1,0.25,0],"osaka-mono":[0.8333,0.1667,0],"palatino bold":[0.8333,0.25,0],"palatino bold italic":[0.8333,0.25,0],"palatino italic":[0.8333,0.25,0],palatino:[0.8333,0.25,0],papyrus:[0.9167,0.5833,0],"papyrus condensed":[0.9167,0.5833,0],"plantagenet cherokee":[0.6667,
0.25,0],raanana:[0.75,0.25,0],"raanana bold":[0.75,0.25,0],"hei regular":[0.8333,0.1667,0],"kai regular":[0.8333,0.1667,0],stfangsong:[0.8333,0.1667,0],stheiti:[0.8333,0.1667,0],"heiti sc light":[0.8333,0.1667,0],"heiti sc medium":[0.8333,0.1667,0],"heiti tc light":[0.8333,0.1667,0],"heiti tc medium":[0.8333,0.1667,0],stkaiti:[0.8333,0.1667,0],"kaiti sc black":[1.0833,0.3333,0],"kaiti sc bold":[1.0833,0.3333,0],"kaiti sc regular":[1.0833,0.3333,0],stsong:[0.8333,0.1667,0],"songti sc black":[1.0833,
0.3333,0],"songti sc bold":[1.0833,0.3333,0],"songti sc light":[1.0833,0.3333,0],"songti sc regular":[1.0833,0.3333,0],stxihei:[0.8333,0.1667,0],sathu:[0.9167,0.3333,0],silom:[1,0.3333,0],"sinhala mn":[0.9167,0.25,0],"sinhala mn bold":[0.9167,0.25,0],"sinhala sangam mn":[1.1667,0.3333,0],"sinhala sangam mn bold":[1.1667,0.3333,0],"skia regular":[0.75,0.25,0],symbol:[0.6667,0.3333,0],"tahoma negreta":[1,0.1667,0],"tamil mn":[0.9167,0.25,0],"tamil mn bold":[0.9167,0.25,0],"tamil sangam mn":[0.75,0.25,
0],"tamil sangam mn bold":[0.75,0.25,0],"telugu mn":[0.9167,0.25,0],"telugu mn bold":[0.9167,0.25,0],"telugu sangam mn":[1,0.5833,0],"telugu sangam mn bold":[1,0.5833,0],thonburi:[1.0833,0.25,0],"thonburi bold":[1.0833,0.25,0],"times bold":[0.75,0.25,0],"times bold italic":[0.75,0.25,0],"times italic":[0.75,0.25,0],"times roman":[0.75,0.25,0],"times new roman bold italic":[0.9167,0.25,0],"times new roman bold":[0.9167,0.25,0],"times new roman italic":[0.9167,0.25,0],"times new roman":[0.9167,0.25,
0],"trebuchet ms bold italic":[0.9167,0.25,0],"trebuchet ms":[0.9167,0.25,0],"trebuchet ms bold":[0.9167,0.25,0],"trebuchet ms italic":[0.9167,0.25,0],verdana:[1,0.25,0],"verdana bold":[1,0.25,0],"verdana bold italic":[1,0.25,0],"verdana italic":[1,0.25,0],webdings:[0.8333,0.1667,0],"wingdings 2":[0.8333,0.25,0],"wingdings 3":[0.9167,0.25,0],"yuppy sc regular":[1.0833,0.3333,0],"yuppy tc regular":[1.0833,0.3333,0],"zapf dingbats":[0.8333,0.1667,0],zapfino:[1.9167,1.5,0]},DEVICE_FONT_METRICS_LINUX=
{kacstfarsi:[1.0831,0.5215,0],meera:[0.682,0.4413,0],freemono:[0.8023,0.2006,0],undotum:[1.0029,0.2808,0],loma:[1.1634,0.4814,0],"century schoolbook l":[1.0029,0.3209,0],kacsttitlel:[1.0831,0.5215,0],undinaru:[1.0029,0.2407,0],ungungseo:[1.0029,0.2808,0],garuda:[1.3238,0.6017,0],rekha:[1.1232,0.2808,0],purisa:[1.1232,0.5215,0],"dejavu sans mono":[0.9628,0.2407,0],vemana2000:[0.8825,0.8424,0],kacstoffice:[1.0831,0.5215,0],umpush:[1.2837,0.682,0],opensymbol:[0.8023,0.2006,0],sawasdee:[1.1232,0.4413,
0],"urw palladio l":[1.0029,0.3209,0],freeserif:[0.9227,0.3209,0],kacstdigital:[1.0831,0.5215,0],"ubuntu condensed":[0.9628,0.2006,0],unpilgi:[1.0029,0.4413,0],mry_kacstqurn:[1.4442,0.7221,0],"urw gothic l":[1.0029,0.2407,0],dingbats:[0.8424,0.1605,0],"urw chancery l":[1.0029,0.3209,0],"phetsarath ot":[1.0831,0.5215,0],"tlwg typist":[0.8825,0.4012,0],kacstletter:[1.0831,0.5215,0],utkal:[1.2035,0.6418,0],"dejavu sans light":[0.9628,0.2407,0],norasi:[1.2436,0.5215,0],"dejavu serif condensed":[0.9628,
0.2407,0],kacstone:[1.2436,0.6418,0],"liberation sans narrow":[0.9628,0.2407,0],symbol:[1.043,0.3209,0],nanummyeongjo:[0.9227,0.2407,0],untitled1:[0.682,0.5616,0],"lohit gujarati":[0.9628,0.4012,0],"liberation mono":[0.8424,0.3209,0],kacstart:[1.0831,0.5215,0],mallige:[1.0029,0.682,0],"bitstream charter":[1.0029,0.2407,0],nanumgothic:[0.9227,0.2407,0],"liberation serif":[0.9227,0.2407,0],"dejavu sans condensed":[0.9628,0.2407,0],ubuntu:[0.9628,0.2006,0],"courier 10 pitch":[0.8825,0.3209,0],"nimbus sans l":[0.9628,
0.3209,0],takaopgothic:[0.8825,0.2006,0],"wenquanyi micro hei mono":[0.9628,0.2407,0],"dejavu sans":[0.9628,0.2407,0],kedage:[1.0029,0.682,0],kinnari:[1.3238,0.5215,0],tlwgmono:[0.8825,0.4012,0],"standard symbols l":[1.043,0.3209,0],"lohit punjabi":[1.2035,0.682,0],"nimbus mono l":[0.8424,0.2808,0],rachana:[0.682,0.5616,0],waree:[1.2436,0.4413,0],kacstposter:[1.0831,0.5215,0],"khmer os":[1.2837,0.7622,0],freesans:[1.0029,0.3209,0],gargi:[0.9628,0.2808,0],"nimbus roman no9 l":[0.9628,0.3209,0],"dejavu serif":[0.9628,
0.2407,0],"wenquanyi micro hei":[0.9628,0.2407,0],"ubuntu light":[0.9628,0.2006,0],tlwgtypewriter:[0.9227,0.4012,0],kacstpen:[1.0831,0.5215,0],"tlwg typo":[0.8825,0.4012,0],"mukti narrow":[1.2837,0.4413,0],"ubuntu mono":[0.8424,0.2006,0],"lohit bengali":[1.0029,0.4413,0],"liberation sans":[0.9227,0.2407,0],unbatang:[1.0029,0.2808,0],kacstdecorative:[1.1232,0.5215,0],"khmer os system":[1.2436,0.6017,0],saab:[1.0029,0.682,0],kacsttitle:[1.0831,0.5215,0],"mukti narrow bold":[1.2837,0.4413,0],"lohit hindi":[1.0029,
0.5215,0],kacstqurn:[1.0831,0.5215,0],"urw bookman l":[0.9628,0.2808,0],kacstnaskh:[1.0831,0.5215,0],kacstscreen:[1.0831,0.5215,0],pothana2000:[0.8825,0.8424,0],ungraphic:[1.0029,0.2808,0],"lohit tamil":[0.8825,0.361,0],kacstbook:[1.0831,0.5215,0]};DEVICE_FONT_METRICS_MAC.__proto__=DEVICE_FONT_METRICS_WIN;DEVICE_FONT_METRICS_LINUX.__proto__=DEVICE_FONT_METRICS_MAC;
var StaticTextDefinition=function(){var a={__class__:"flash.text.StaticText",initialize:function(){var a=this.symbol;a&&(this.draw=a.draw)},get text(){return this._text},set text(a){this._text=a}},b=Object.getOwnPropertyDescriptor;a.__glue__={"native":{instance:{text:b(a,"text")}}};return a}.call(this),StyleSheetDefinition=function(){return{__class__:"flash.text.StyleSheet",initialize:function(){},__glue__:{"native":{"static":{},instance:{_update:function(){somewhatImplemented("StyleSheet._update")},
_parseCSSInternal:function(){somewhatImplemented("StyleSheet._parseCSSInternal");return null},_parseCSSFontFamily:function(){notImplemented("StyleSheet._parseCSSFontFamily")},_parseColor:function(){notImplemented("StyleSheet._parseColor")},_styles:{get:function(){return this.__styles},set:function(a){somewhatImplemented("StyleSheet._styles");this.__styles=a}}}}}}}.call(this),TextFieldDefinition=function(){function a(a){this.width=this.x=0;this.y=a;this.leading=this.height=0;this.runs=[];this.largestFormat=
null}function b(a){var b={type:"P",format:{ALIGN:a.align},children:[]};b.children[0]={type:"FONT",format:{FACE:a.face,LETTERSPACING:a.letterSpacing,KERNING:a.kerning,LEADING:a.leading,COLOR:a.color},children:[]};return b}function d(a,b,d,g){if((1===a.nodeType||3===a.nodeType)&&!a.prefix){var l;3===a.nodeType?(a=a.textContent,l={type:"text",text:a,format:null,children:null},d.text+=a,b.push(l)):(l=a.localName.toUpperCase(),!A[l]||!1===g&&("P"===l||"BR"===l)?e(a.childNodes,b,d,g):(l={type:l,text:null,
format:f(a),children:[]},e(a.childNodes,l.children,d,g),b.push(l)))}}function e(a,b,e,f){for(var g=a.length,l=0;l<g;l++)d(a[l],b,e,f)}function f(a){a=a.attributes;for(var b={},d=0;d<a.length;d++){var e=a[d];e.prefix||(b[e.localName.toUpperCase()]=e.value)}return b}function g(a,b){var d=!1,e=!1;switch(a.type){case "plain-text":for(var f=0;f<a.lines.length;f++)m(b,a.lines[f]),p(b);return;case "text":m(b,a.text);return;case "BR":p(b);return;case "LI":case "P":p(b);r(b,a);e=!0;break;case "B":case "I":case "FONT":case "TEXTFORMAT":r(b,
a),d=!0}for(f=0;f<a.children.length;f++)g(a.children[f],b);d&&(b.formats.pop(),d=b.currentFormat=b.formats[b.formats.length-1],b.runs.push({type:"f",format:d}),b.ctx.font=b.str);e&&p(b)}function m(a,b){if(b)if(a.wordWrap)for(;b.length;){var d=a.ctx.measureText(b).width,e=a.w-a.line.width;0>=e&&(p(a),e=a.w-a.line.width);if(d<=e){l(a,b,d);break}else{for(d=b.length/d*e|0;a.ctx.measureText(b.substr(0,d)).width<e&&d<b.length;)d++;for(var f=d;-1<f;){if(C[b[f]]){f++;break}f--}if(-1===f){if(0<a.line.width){p(a);
continue}for(;a.ctx.measureText(b.substr(0,d)).width>e;)d--;0===d&&(d=1);f=d}e=b.substr(0,f);d=a.ctx.measureText(e).width;l(a,e,d);a.wordWrap&&p(a);b=b.substr(f)}}else l(a,b,a.ctx.measureText(b).width)}function l(a,b,d){if(0!==b.length){var e=a.line,f=a.currentFormat,g=f.size;b={type:"t",text:b,x:e.width};a.runs.push(b);a.line.runs.push(b);e.width+=d|0;0===e.leading&&f.leading>e.leading&&(e.leading=f.leading);if(!e.largestFormat||g>e.largestFormat.size)e.largestFormat=f}}function p(b){var d=b.line;
if(0!==d.runs.length){for(var e=d.runs,f=d.largestFormat,g=d.y+f.font._metrics.ascent*f.size,l=e.length;l--;)e[l].y=g;l=(b.currentFormat.align||"").toLowerCase();null===b.combinedAlign?b.combinedAlign=l:b.combinedAlign!==l&&(b.combinedAlign="mixed");if("center"===l||"right"===l){g=Math.max(b.w-d.width,0);"center"===l&&(g>>=1);for(l=e.length;l--;)e[l].x+=g}d.height=f.font._metrics.height*f.size+d.leading|0;b.maxLineWidth=Math.max(b.maxLineWidth,d.width);b.lines.push(d);b.line=new a(d.y+d.height)}}
function r(a,b){var d=b.format,e=Object.create(a.formats[a.formats.length-1]),f=!1;switch(b.type){case "P":if(d.ALIGN===e.align)return;e.align=d.ALIGN;break;case "B":f=e.bold=!0;break;case "I":f=e.italic=!0;break;case "FONT":void 0!==d.COLOR&&(e.color=d.COLOR),void 0!==d.FACE&&(e.face=d.FACE,f=!0),void 0!==d.SIZE&&(e.size=parseFloat(d.SIZE)),void 0!==d.LETTERSPACING&&(e.letterspacing=parseFloat(d.LETTERSPACING)),void 0!==d.KERNING&&(e.kerning=d.KERNING&&!0);case "TEXTFORMAT":void 0!==d.LEADING&&(e.leading=
parseFloat(d.LEADING));void 0!==d.INDENT&&(a.line.x=d.INDENT,a.line.width+=d.INDENT|0);break;default:warning("Unknown format node encountered: "+b.type);return}null!==a.textColor&&(e.color=rgbIntAlphaToStr(a.textColor,1));f&&v(e,a.embedFonts);e.str=s(e);a.formats.push(e);a.runs.push({type:"f",format:e});a.currentFormat=e;a.ctx.font=e.str}function s(a){var b="";a.italic&&(b+="italic");a.bold&&(b+=" bold");return b+" "+a.size+"px "+(a.font._uniqueName||a.font._fontName)}function v(a,b){var d=a.face.toLowerCase();
"_sans"===d?d="sans-serif":"_serif"===d?d="serif":"_typewriter"===d&&(d="monospace");d=FontDefinition.getFont(d,a.bold?a.italic?"boldItalic":"bold":a.italic?"italic":"regular",b);a.font=d}var w=document.createElement("p"),z=document.createElement("canvas").getContext("2d"),A={BR:!0,LI:!0,P:!0,B:!0,I:!0,FONT:!0,TEXTFORMAT:!0,U:!0,A:!0,IMG:!0,SPAN:!0},C={" ":!0,".":!0,"-":!0,"\t":!0},u={__class__:"flash.text.TextField",initialize:function(){var a=this._defaultTextFormat={align:"LEFT",face:"serif",size:12,
letterspacing:0,kerning:0,color:0,leading:0};this._type="dynamic";this._selectable=!0;this._textHeight=this._textWidth=0;this._bottomScrollV=this._maxScrollV=this._scrollV=1;this._lines=[];this._embedFonts=!1;this._autoSize="none";this._border=this._background=this._condenseWhite=this._multiline=this._wordWrap=!1;this._backgroundColor=16777215;this._backgroundColorStr="#ffffff";this._borderColor=0;this._borderColorStr="#000000";this._textColor=null;this._drawingOffsetH=0;this._bbox={xMin:0,yMin:0,
xMax:2E3,yMax:2E3};var b=this.symbol;if(b){var b=b.tag,d=b.bbox;this._currentTransform.tx+=d.xMin;this._currentTransform.ty+=d.yMin;this._bbox.xMax=d.xMax-d.xMin;this._bbox.yMax=d.yMax-d.yMin;b.hasLayout&&(a.size=b.fontHeight/20,"number"===typeof a.leading&&(a.leading=b.leading/20));b.hasColor&&(a.color=rgbaObjToStr(b.color));b.hasFont&&(d=FontDefinition.getFontByUniqueName(b.font),a.font=d,a.face=d._fontName,a.bold=d.symbol.bold,a.italic=d.symbol.italic,a.str=s(a));this._embedFonts=!!b.useOutlines;
switch(b.align){case 1:a.align="right";break;case 2:a.align="center";break;case 3:a.align="justified"}this._selectable=!b.noSelect;this._multiline=!!b.multiline;this._wordWrap=!!b.wordWrap;this._border=!!b.border;b.initialText?b.html?this.htmlText=b.initialText:this.text=b.initialText:this.text=""}else this._currentTransform.tx-=40,this._currentTransform.ty-=40,v(a,!1),this.text=""},_getAS2Object:function(){this.$as2Object||new avm1lib.AS2TextField(this);return this.$as2Object},replaceText:function(a,
b,d){var e=this._content.text;this.text=e.substring(0,a)+d+e.substring(b)},draw:function(a,b,d){this.ensureDimensions();var e=this._bbox;b=e.xMax/20;e=e.yMax/20;if(!(0>=b||0>=e)){a.save();a.beginPath();a.rect(0,0,b+1,e+1);a.clip();this._background&&(d.setFillStyle(a,this._backgroundColorStr),a.fill());this._border&&(d.setStrokeStyle(a,this._borderColorStr),a.lineCap="square",a.lineWidth=1,a.strokeRect(0.5,0.5,b|0,e|0));a.closePath();if(0!==this._lines.length){a.translate(2,2);a.save();d.setAlpha(a);
b=this._content.textruns;for(var e=this._lines[this._scrollV-1].y,f=0;f<b.length;f++){var g=b[f];"f"===g.type?(a.restore(),a.font=g.format.str,d.setFillStyle(a,g.format.color),a.save(),d.setAlpha(a)):g.y<e||a.fillText(g.text,g.x-this._drawingOffsetH,g.y-e)}a.restore()}a.restore()}},invalidateDimensions:function(){this._invalidate();this._invalidateBounds();this._dimensionsValid=!1},_getRegion:function(a){this.ensureDimensions();return this._getTransformedRect(this._getContentBounds(),a)},ensureDimensions:function(){if(!this._dimensionsValid){var b=
this._bbox,d=this._defaultTextFormat;v(d,this._embedFonts);var e={type:"f",format:d},f=Math.max(b.xMax/20-4,1),l=Math.max(b.yMax/20-4,1),d={ctx:z,w:f,h:l,maxLineWidth:0,formats:[d],currentFormat:d,line:new a(0),lines:[],runs:[e],wordWrap:this._wordWrap,combinedAlign:null,textColor:this._textColor,embedFonts:this._embedFonts};g(this._content.tree,d);this._textWidth=d.maxLineWidth|0;this._textHeight=d.line.y|0;this._lines=d.lines;this._content.textruns=d.runs;this._bottomScrollV=this._maxScrollV=this._scrollV=
1;e=this._autoSize;if("none"===e){if(b=(b.yMax-80)/20,this._textHeight>b)for(f=0;f<d.lines.length;f++){var m=d.lines[f];if(m.y+m.height>b){this._maxScrollV=f+1;this._bottomScrollV=0===f?1:f;break}}}else{var l=this._textWidth,d=d.combinedAlign,p=0;if("mixed"!==d){switch(e){case "center":p=f-l>>1;break;case "right":p=f-l}if("left"===d)this._drawingOffsetH=0;else{switch(e){case "left":m=f-l;break;case "center":m=p<<1;break;case "right":m=p}"center"===d&&(m>>=1);this._drawingOffsetH=m}this._invalidateTransform();
this._currentTransform.tx+=20*p|0;b.xMax=(20*l|0)+80}b.yMax=(20*this._textHeight|0)+80;this._invalidateBounds()}this._dimensionsValid=!0}},get text(){return this._content.text},set text(a){a=String(a);if(!(this._content&&this._content.text===a)){var d=a.split("\r\n").join("\n").split("\r").join("\n").split("\n");this._content={tree:b(this._defaultTextFormat),text:a,htmlText:a};this._content.tree.children[0].children[0]={type:"plain-text",lines:d};this.invalidateDimensions()}},get htmlText(){return this._content.htmlText},
set htmlText(a){if(this._htmlText!==a){var g=this._defaultTextFormat,l=this._multiline;w.innerHTML=a;var m=1!==w.childNodes.length?w:w.childNodes[0];a={text:"",htmlText:a,tree:b(g)};if(3===m.nodeType)d(m,a.tree.children[0].children,a,l);else{var g=[m],p,r;if(1==g.length&&"P"==m.localName.toUpperCase()){g=f(m);p=a.tree.format;for(r in g)p[r]=g[r];g=m.childNodes;m=m.childNodes[0]}if(1==g.length&&"FONT"==m.localName.toUpperCase()){g=f(m);p=a.tree.children[0].format;for(r in g)p[r]=g[r];g=m.childNodes}e(g,
a.tree.children[0].children,a,l)}this._content=a;this.invalidateDimensions()}},get defaultTextFormat(){return(new flash.text.TextFormat).fromObject(this._defaultTextFormat)},set defaultTextFormat(a){this._defaultTextFormat=a.toObject();this.invalidateDimensions()},getTextFormat:function(){return this.defaultTextFormat},setTextFormat:function(a){this.defaultTextFormat=a;this._content&&this._content.text===this._content.htmlText&&(a=this.text,this._content=null,this.text=a);this.invalidateDimensions()},
get x(){this.ensureDimensions();return this._currentTransform.tx},set x(a){a!==this._currentTransform.tx&&(this._invalidate(),this._invalidateBounds(),this._invalidateTransform(),this._currentTransform.tx=a)},get width(){this.ensureDimensions();return this._bbox.xMax},set width(a){0>a||(this._bbox.xMax=a,this.invalidateDimensions())},get height(){this.ensureDimensions();return this._bbox.yMax},set height(a){0>a||(this._bbox.yMax=a,this._invalidate())}},y=Object.getOwnPropertyDescriptor;u.__glue__=
{"native":{instance:{text:y(u,"text"),defaultTextFormat:y(u,"defaultTextFormat"),draw:u.draw,htmlText:y(u,"htmlText"),replaceText:u.replaceText,getTextFormat:u.getTextFormat,setTextFormat:u.setTextFormat,autoSize:{get:function(){return this._autoSize},set:function(a){this._autoSize!==a&&(this._autoSize=a,this.invalidateDimensions())}},multiline:{get:function(){return this._multiline},set:function(a){this._multiline!==a&&(this._multiline=a,this.invalidateDimensions())}},textColor:{get:function(){return this._textColor},
set:function(a){this._textColor!==a&&(this._textColor=a,this._invalidate())}},selectable:{get:function(){return this._selectable},set:function(a){somewhatImplemented("TextField.selectable");this._selectable=a}},wordWrap:{get:function(){return this._wordWrap},set:function(a){this._wordWrap!==a&&(this._wordWrap=a,this.invalidateDimensions())}},textHeight:{get:function(){this.ensureDimensions();return this._textHeight}},textWidth:{get:function(){this.ensureDimensions();return this._textWidth}},length:{get:function(){return this._content.text.length}},
numLines:{get:function(){this.ensureDimensions();return this._lines.length}},getLineMetrics:function(a){this.ensureDimensions();(0>a||a>=this._lines.length)&&throwError("RangeError",Errors.ParamRangeError);a=this._lines[a];var b=a.largestFormat,d=b.font._metrics,b=b.size;return new flash.text.TextLineMetrics(a.x+2,a.width,a.height,d.ascent*b+0.49999|0,d.descent*b+0.49999|0,d.leading*b+0.49999+a.leading|0)},scrollV:{get:function(){return this._scrollV},set:function(a){this.ensureDimensions();this._scrollV=
a=Math.max(1,Math.min(this._maxScrollV,a))}},bottomScrollV:{get:function(){this.ensureDimensions();if(1===this._scrollV)return this._bottomScrollV;for(var a=(this._bbox.yMax-80)/20,b=this._lines[this._scrollV-1].y,d=this._bottomScrollV;d<this._lines.length;d++){var e=this._lines[d];if(e.y+e.height+b>a)return d+1}}},maxScrollV:{get:function(){this.ensureDimensions();return this._maxScrollV}},maxScrollH:{get:function(){this.ensureDimensions();return Math.max(this._textWidth-this._bbox.xMax/20+4,0)}},
background:{get:function(){return this._background},set:function(a){this._background!==a&&(this._background=a,this._invalidate())}},backgroundColor:{get:function(){return this._backgroundColor},set:function(a){this._backgroundColor!==a&&(this._backgroundColor=a,this._backgroundColorStr=rgbIntAlphaToStr(a,1),this._background&&this._invalidate())}},border:{get:function(){return this._border},set:function(a){this._border!==a&&(this._border=a,this._invalidate())}},borderColor:{get:function(){return this._borderColor},
set:function(a){this._borderColor!==a&&(this._borderColor=a,this._borderColorStr=rgbIntAlphaToStr(a,1),this._border&&this._invalidate())}},type:{get:function(){return this._type},set:function(a){somewhatImplemented("TextField.type");this._type=a}},embedFonts:{get:function(){return this._embedFonts},set:function(a){this.invalidateDimensions();this._embedFonts=a}},condenseWhite:{get:function(){return this._condenseWhite},set:function(a){somewhatImplemented("TextField.condenseWhite");this._condenseWhite=
a}},sharpness:{get:function(){return this._sharpness},set:function(a){somewhatImplemented("TextField.sharpness");this._sharpness=a}}}}};return u}.call(this),TextFormatDefinition=function(){return{__class__:"flash.text.TextFormat",initialize:function(){},fromObject:function(a){this._font=a.face||null;this._size="number"===typeof a.size?a.size:null;this._color="number"===typeof a.color?a.color:null;this._bold="boolean"===typeof a.bold?a.bold:null;this._italic="boolean"===typeof a.italic?a.italic:null;
this._underline="boolean"===typeof a.underline?a.underline:null;this._url=a.url||null;this._target=a.target||null;this._align=a.align||null;this._leftMargin="number"===typeof a.leftMargin?a.leftMargin:null;this._rightMargin="number"===typeof a.rightMargin?a.rightMargin:null;this._indent="number"===typeof a.indent?a.indent:null;this._leading="number"===typeof a.leading?a.leading:null;return this},toObject:function(){return{face:this._font||"serif",size:this._size||12,color:this._color||0,bold:this._bold||
!1,italic:this._italic||!1,underline:this._underline||!1,url:this._url,target:this._target,align:this._align||"left",leftMargin:this._leftMargin||0,rightMargin:this._rightMargin||0,indent:this._indent||0,leading:this._leading||0}},__glue__:{"native":{"static":{},instance:{align:{get:function(){return this._align},set:function(a){this._align=a}},blockIndent:{get:function(){return this._blockIndent},set:function(a){this._blockIndent=a}},bold:{get:function(){return this._bold},set:function(a){this._bold=
a}},bullet:{get:function(){return this._bullet},set:function(a){this._bullet=a}},color:{get:function(){return this._color},set:function(a){this._color=a}},display:{get:function(){return this._display},set:function(a){this._display=a}},font:{get:function(){return this._font},set:function(a){this._font=a}},indent:{get:function(){return this._indent},set:function(a){this._indent=a}},italic:{get:function(){return this._italic},set:function(a){this._italic=a}},kerning:{get:function(){return this._kerning},
set:function(a){this._kerning=a}},leading:{get:function(){return this._leading},set:function(a){this._leading=a}},leftMargin:{get:function(){return this._leftMargin},set:function(a){this._leftMargin=a}},letterSpacing:{get:function(){return this._letterSpacing},set:function(a){this._letterSpacing=a}},rightMargin:{get:function(){return this._rightMargin},set:function(a){this._rightMargin=a}},size:{get:function(){return this._size},set:function(a){this._size=a}},tabStops:{get:function(){return this._tabStops},
set:function(a){this._tabStops=a}},target:{get:function(){return this._target},set:function(a){this._target=a}},underline:{get:function(){return this._underline},set:function(a){this._underline=a}},url:{get:function(){return this._url},set:function(a){this._url=a}}}}}}}.call(this),FontDescriptionDefinition=function(){return{__class__:"flash.text.engine.FontDescription",initialize:function(){},__glue__:{"native":{"static":{isFontCompatible:function(){notImplemented("FontDescription.isFontCompatible")},
isDeviceFontCompatible:function(){notImplemented("FontDescription.isDeviceFontCompatible")}},instance:{renderingMode:{get:function(){notImplemented("FontDescription.renderingMode");return this._renderingMode},set:function(a){notImplemented("FontDescription.renderingMode");this._renderingMode=a}},fontLookup:{get:function(){notImplemented("FontDescription.fontLookup");return this._fontLookup},set:function(a){notImplemented("FontDescription.fontLookup");this._fontLookup=a}},fontName:{get:function(){notImplemented("FontDescription.fontName");
return this._fontName},set:function(a){notImplemented("FontDescription.fontName");this._fontName=a}},fontPosture:{get:function(){notImplemented("FontDescription.fontPosture");return this._fontPosture},set:function(a){notImplemented("FontDescription.fontPosture");this._fontPosture=a}},fontWeight:{get:function(){notImplemented("FontDescription.fontWeight");return this._fontWeight},set:function(a){notImplemented("FontDescription.fontWeight");this._fontWeight=a}},cffHinting:{get:function(){notImplemented("FontDescription.cffHinting");
return this._cffHinting},set:function(a){notImplemented("FontDescription.cffHinting");this._cffHinting=a}},locked:{get:function(){notImplemented("FontDescription.locked");return this._locked},set:function(a){notImplemented("FontDescription.locked");this._locked=a}}}},script:{"static":{},instance:{}}}}}.call(this),ContextMenuDefinition=function(){return{__class__:"flash.ui.ContextMenu",initialize:function(){},__glue__:{"native":{"static":{_checkSupported:function(){notImplemented("ContextMenu._checkSupported")}},
instance:{cloneLinkAndClipboardProperties:function(){notImplemented("ContextMenu.cloneLinkAndClipboardProperties")},builtInItems:{get:function(){somewhatImplemented("ContextMenu.builtInItems");return this._builtInItems},set:function(a){somewhatImplemented("ContextMenu.builtInItems");this._builtInItems=a}},customItems:{get:function(){somewhatImplemented("ContextMenu.customItems");return this._customItems},set:function(a){somewhatImplemented("ContextMenu.customItems");this._customItems=a}},link:{get:function(){notImplemented("ContextMenu.link");
return this._link},set:function(a){notImplemented("ContextMenu.link");this._link=a}},clipboardMenu:{get:function(){notImplemented("ContextMenu.clipboardMenu");return this._clipboardMenu},set:function(a){notImplemented("ContextMenu.clipboardMenu");this._clipboardMenu=a}},clipboardItems:{get:function(){notImplemented("ContextMenu.clipboardItems");return this._clipboardItems},set:function(a){notImplemented("ContextMenu.clipboardItems");this._clipboardItems=a}}}}}}}.call(this),ContextMenuItemDefinition=
function(){return{__class__:"flash.ui.ContextMenuItem",initialize:function(){},__glue__:{"native":{"static":{},instance:{caption:{get:function(){somewhatImplemented("ContextMenuItem.caption");return this._caption},set:function(a){somewhatImplemented("ContextMenuItem.caption");this._caption=a}},separatorBefore:{get:function(){somewhatImplemented("ContextMenuItem.separatorBefore");return this._separatorBefore},set:function(a){somewhatImplemented("ContextMenuItem.separatorBefore");this._separatorBefore=
a}},visible:{get:function(){somewhatImplemented("ContextMenuItem.visible");return this._visible},set:function(a){somewhatImplemented("ContextMenuItem.visible");this._visible=a}}}}}}}.call(this),ShumwayKeyboardListener={_lastKeyCode:0,_captureKeyPress:!1,_charCodeMap:[],focus:null,handleEvent:function(a){var b=a.keyCode;if("keydown"===a.type){this._lastKeyCode=b;if(this._captureKeyPress=8===b||9===b||13===b||32===b||48<=b&&90>=b||145<b)return;this._charCodeMap[b]=0}else if("keypress"===a.type)if(this._captureKeyPress)b=
this._lastKeyCode,this._charCodeMap[b]=a.charCode;else return;this.focus&&this.focus._dispatchEvent(new flash.events.KeyboardEvent("keyup"===a.type?"keyUp":"keyDown",!0,!1,"keyup"===a.type?this._charCodeMap[b]:a.charCode,"keyup"===a.type?a.keyCode:this._lastKeyCode,a.keyLocation,a.ctrlKey,a.altKey,a.shiftKey))}};window.addEventListener("keydown",ShumwayKeyboardListener);window.addEventListener("keypress",ShumwayKeyboardListener);window.addEventListener("keyup",ShumwayKeyboardListener);
var KeyboardDefinition=function(){var a={get capsLock(){return!1},get hasVirtualKeyboard(){return!1},get numLock(){return!1},get physicalKeyboardType(){return"alphanumeric"},get isAccessible(){return!0}},b=Object.getOwnPropertyDescriptor;a.__glue__={script:{"static":scriptProperties("public","A ALTERNATE AUDIO B BACK BACKQUOTE BACKSLASH BACKSPACE BLUE C CAPS_LOCK CHANNEL_DOWN CHANNEL_UP COMMA COMMAND CONTROL D DELETE DOWN DVR E END ENTER EQUAL ESCAPE EXIT F F1 F10 F11 F12 F13 F14 F15 F2 F3 F4 F5 F6 F7 F8 F9 FAST_FORWARD G GREEN GUIDE H HELP HOME I INFO INPUT INSERT J K KEYNAME_BEGIN KEYNAME_BREAK KEYNAME_CLEARDISPLAY KEYNAME_CLEARLINE KEYNAME_DELETE KEYNAME_DELETECHAR KEYNAME_DELETELINE KEYNAME_DOWNARROW KEYNAME_END KEYNAME_EXECUTE KEYNAME_F1 KEYNAME_F10 KEYNAME_F11 KEYNAME_F12 KEYNAME_F13 KEYNAME_F14 KEYNAME_F15 KEYNAME_F16 KEYNAME_F17 KEYNAME_F18 KEYNAME_F19 KEYNAME_F2 KEYNAME_F20 KEYNAME_F21 KEYNAME_F22 KEYNAME_F23 KEYNAME_F24 KEYNAME_F25 KEYNAME_F26 KEYNAME_F27 KEYNAME_F28 KEYNAME_F29 KEYNAME_F3 KEYNAME_F30 KEYNAME_F31 KEYNAME_F32 KEYNAME_F33 KEYNAME_F34 KEYNAME_F35 KEYNAME_F4 KEYNAME_F5 KEYNAME_F6 KEYNAME_F7 KEYNAME_F8 KEYNAME_F9 KEYNAME_FIND KEYNAME_HELP KEYNAME_HOME KEYNAME_INSERT KEYNAME_INSERTCHAR KEYNAME_INSERTLINE KEYNAME_LEFTARROW KEYNAME_MENU KEYNAME_MODESWITCH KEYNAME_NEXT KEYNAME_PAGEDOWN KEYNAME_PAGEUP KEYNAME_PAUSE KEYNAME_PREV KEYNAME_PRINT KEYNAME_PRINTSCREEN KEYNAME_REDO KEYNAME_RESET KEYNAME_RIGHTARROW KEYNAME_SCROLLLOCK KEYNAME_SELECT KEYNAME_STOP KEYNAME_SYSREQ KEYNAME_SYSTEM KEYNAME_UNDO KEYNAME_UPARROW KEYNAME_USER L LAST LEFT LEFTBRACKET LIVE M MASTER_SHELL MENU MINUS N NEXT NUMBER_0 NUMBER_1 NUMBER_2 NUMBER_3 NUMBER_4 NUMBER_5 NUMBER_6 NUMBER_7 NUMBER_8 NUMBER_9 NUMPAD NUMPAD_0 NUMPAD_1 NUMPAD_2 NUMPAD_3 NUMPAD_4 NUMPAD_5 NUMPAD_6 NUMPAD_7 NUMPAD_8 NUMPAD_9 NUMPAD_ADD NUMPAD_DECIMAL NUMPAD_DIVIDE NUMPAD_ENTER NUMPAD_MULTIPLY NUMPAD_SUBTRACT O P PAGE_DOWN PAGE_UP PAUSE PERIOD PLAY PREVIOUS Q QUOTE R RECORD RED REWIND RIGHT RIGHTBRACKET S SEARCH SEMICOLON SETUP SHIFT SKIP_BACKWARD SKIP_FORWARD SLASH SPACE STOP STRING_BEGIN STRING_BREAK STRING_CLEARDISPLAY STRING_CLEARLINE STRING_DELETE STRING_DELETECHAR STRING_DELETELINE STRING_DOWNARROW STRING_END STRING_EXECUTE STRING_F1 STRING_F10 STRING_F11 STRING_F12 STRING_F13 STRING_F14 STRING_F15 STRING_F16 STRING_F17 STRING_F18 STRING_F19 STRING_F2 STRING_F20 STRING_F21 STRING_F22 STRING_F23 STRING_F24 STRING_F25 STRING_F26 STRING_F27 STRING_F28 STRING_F29 STRING_F3 STRING_F30 STRING_F31 STRING_F32 STRING_F33 STRING_F34 STRING_F35 STRING_F4 STRING_F5 STRING_F6 STRING_F7 STRING_F8 STRING_F9 STRING_FIND STRING_HELP STRING_HOME STRING_INSERT STRING_INSERTCHAR STRING_INSERTLINE STRING_LEFTARROW STRING_MENU STRING_MODESWITCH STRING_NEXT STRING_PAGEDOWN STRING_PAGEUP STRING_PAUSE STRING_PREV STRING_PRINT STRING_PRINTSCREEN STRING_REDO STRING_RESET STRING_RIGHTARROW STRING_SCROLLLOCK STRING_SELECT STRING_STOP STRING_SYSREQ STRING_SYSTEM STRING_UNDO STRING_UPARROW STRING_USER SUBTITLE T TAB U UP V VOD W X Y YELLOW Z CharCodeStrings".split(" "))},
"native":{instance:{capsLock:b(a,"capsLock"),hasVirtualKeyboard:b(a,"hasVirtualKeyboard"),numLock:b(a,"numLock"),physicalKeyboardType:b(a,"physicalKeyboardType"),isAccessible:b(a,"isAccessible")}}};return a}.call(this),MouseDefinition=function(){return{__class__:"flash.ui.Mouse",__glue__:{"native":{"static":{cursor:{get:function(){return"auto"},set:function(){notImplemented()}},supportsCursor:{get:function(){return!0}},supportsNativeCursor:{get:function(){return!0}},hide:function(){},show:function(){},
registerCursor:function(){notImplemented()},unregisterCursor:function(){notImplemented()}}}}}}.call(this),DictionaryDefinition=function(){return{__class__:"flash.utils.Dictionary",initialize:function(){},__glue__:{"native":{"static":{},instance:{init:function(){notImplemented("Dictionary.init")}}}}}}.call(this),TimerDefinition=function(){return{__class__:"flash.utils.Timer",initialize:function(){this.running=!1;this.private$flash$utils$Timer$m_iteration=0},__glue__:{"native":{instance:{running:{get:function(){return this.running}},
_start:function(a,b){this.running=!0;this.interval=setInterval(b,a)},stop:function(){this.running=!1;clearInterval(this.interval)},_timerDispatch:function(){this._dispatchEvent(new flash.events.TimerEvent("timer",!0,!1))}}}}}}.call(this),AccessibilityDefinition=function(){return{__class__:"flash.accessibility.Accessibility",initialize:function(){},__glue__:{"native":{"static":{sendEvent:function(){notImplemented("Accessibility.sendEvent")},updateProperties:function(){notImplemented("Accessibility.updateProperties")},
active:{get:function(){somewhatImplemented("Accessibility.active");return!1}}},instance:{}}}}}.call(this),AS2ButtonDefinition=function(){var a={__class__:"avm1lib.AS2Button",initialize:function(){}};a.__glue__={"native":{instance:{_as3Object:{get:function(){return this.$nativeObject}},_init:function(a){Object.defineProperty(this,"$nativeObject",{value:a});a.$as2Object=this;initDefaultListeners(this)}}},script:{instance:Glue.ALL}};return a}.call(this),AS2GlobalsDefinition=function(){var a={__class__:"avm1lib.AS2Globals",
initialize:function(){}};a.__glue__={"native":{instance:{ASSetPropFlags:function(){},_addToPendingScripts:function(a,d,e){AS2Context.instance.addToPendingScripts(function(){d.apply(a,e)})},_setLevel:function(a,d){AS2Context.instance.stage._as2SetLevel(a,d)},trace:function(a){avm2.applicationDomain.getProperty(Multiname.fromSimpleName("trace"),!0,!0)(a)}},"static":{_addInternalClasses:function(a){a.asSetPublicProperty("Object",Stubs.Object);a.asSetPublicProperty("Function",Stubs.Function);a.asSetPublicProperty("Array",
Stubs.Array);a.asSetPublicProperty("Number",Stubs.Number);a.asSetPublicProperty("Math",avm2.systemDomain.getClass("Math"));a.asSetPublicProperty("Boolean",Stubs.Boolean);a.asSetPublicProperty("Date",Stubs.Date);a.asSetPublicProperty("RegExp",Stubs.RegExp);a.asSetPublicProperty("String",Stubs.String)}}},script:{instance:Glue.ALL}};return a}.call(this),AS2MovieClipDefinition=function(){var a={__class__:"avm1lib.AS2MovieClip",initialize:function(){},_insertChildAtDepth:function(a,d){return this.$nativeObject._insertChildAtDepth(a,
d)},_duplicate:function(a,d,e){return this.$nativeObject._duplicate(a,d,e)},_constructSymbol:function(a){var d=AS2Context.instance.classes&&AS2Context.instance.classes[a],e=flash.display.MovieClip.class;a=e.createAsSymbol(AS2Context.instance.assets[a]);a._avm1SymbolClass=d;e.instanceConstructor.call(a);this.$nativeObject.addChild(a);return a},_gotoLabel:function(a){this.$nativeObject.gotoLabel(a)},_callFrame:function(a){this.$nativeObject._callFrame(a)},init:function(a){a&&(Object.defineProperty(this,
"$nativeObject",{value:a}),a.$as2Object=this,initDefaultListeners(this))}};a.__glue__={"native":{instance:{_as3Object:{get:function(){return this.$nativeObject}},_init:a.init,_insertChildAtDepth:a._insertChildAtDepth,_duplicate:a._duplicate,_constructSymbol:a._constructSymbol,_callFrame:a._callFrame,_gotoLabel:a._gotoLabel}},script:{instance:Glue.ALL}};return a}.call(this),AS2MovieClipLoaderDefinition=function(){var a={__class__:"avm1lib.AS2MovieClipLoader",initialize:function(){},get _bytesLoaded(){return this.$nativeObject._bytesLoaded}},
b=Object.getOwnPropertyDescriptor;a.__glue__={"native":{instance:{$nativeObject:{get:function(){return this.$nativeObject}},_bytesLoaded:b(a,"_bytesLoaded")}},script:{instance:Glue.ALL}};return a}.call(this),AS2TextFieldDefinition=function(){var a={__class__:"avm1lib.AS2TextField",initialize:function(){}};a.__glue__={"native":{instance:{_as3Object:{get:function(){return this.$nativeObject}},_init:function(a){Object.defineProperty(this,"$nativeObject",{value:a});a.$as2Object=this;initDefaultListeners(this)}}},
script:{instance:Glue.ALL}};return a}.call(this),AS2UtilsDefinition=function(){return{__class__:"avm1lib.AS2Utils",initialize:function(){},__glue__:{"native":{"static":{getAS2Object:function(a){return a?a._getAS2Object():null},addProperty:function(a,b,d,e){a.asDefinePublicProperty(b,{get:d,set:e||void 0,enumerable:!0,configurable:!0})},resolveTarget:function(a){return AS2Context.instance.resolveTarget(a)},resolveLevel:function(a){return AS2Context.instance.resolveLevel(a)},currentStage:{get:function(){return AS2Context.instance.stage}},
_installObjectMethods:function(){var a=Stubs.Object,b=a.asGetPublicProperty("prototype");a.asSetPublicProperty("registerClass",function(a,b){(AS2Context.instance.classes||(AS2Context.instance.classes={}))[a]=b});b.asDefinePublicProperty("addProperty",{value:function(a,b,f){if("string"!==typeof a||""===a||"function"!==typeof b||"function"!==typeof f&&null!==f)return!1;this.asDefinePublicProperty(a,{get:b,set:f||void 0,configurable:!0,enumerable:!0});return!0},writable:!1,enumerable:!1,configurable:!1})}}}}}}.call(this);
function initDefaultListeners(a){var b=a.asGetPublicProperty("$defaultListeners");if(b)for(var d=0;d<b.length;d++){var e=b[d];e.setter.call(a,e.value)}}function bindNativeClassDefinition(a,b){natives[a]=function(a,e,f,g){a=new Class(void 0,f,Domain.coerceCallable);a.extend(g);a.linkNatives(b);return a}}
var Stubs=new function(){function a(a,b,d){Object.defineProperty(a,d,{get:function(){var e=avm2.systemDomain.getClass(b);!0;Object.defineProperty(a,d,{value:e.instanceConstructor,writable:!1});return a[d]},configurable:!0})}function b(a,b,d){return{classSimpleName:a,nativeName:b,definition:d}}var d=this,e=createEmptyObject(),f={__glue__:{script:{instance:Glue.ALL,"static":Glue.ALL}}};this.getClassNames=function(){return Object.keys(e)};this.onClassCreated=function(a,b){var d=b.classInfo.instanceInfo.name.getOriginalName();
d in e&&b.link(e[d]||f)};"Boolean Date String Function Object Number Math Array RegExp".split(" ").forEach(function(b){a(d,b,b)});"Error DefinitionError EvalError RangeError ReferenceError SecurityError SyntaxError TypeError URIError VerifyError UninitializedError ArgumentError".split(" ").forEach(function(b){a(d,b,b)});[b("flash.display.DisplayObject","DisplayObjectClass",DisplayObjectDefinition),b("flash.display.InteractiveObject","InteractiveObjectClass",InteractiveObjectDefinition),b("flash.display.DisplayObjectContainer",
"ContainerClass",DisplayObjectContainerDefinition),b("flash.display.Sprite","SpriteClass",SpriteDefinition),b("flash.display.MovieClip","MovieClipClass",MovieClipDefinition),b("flash.display.Shape","ShapeClass",ShapeDefinition),b("flash.display.Bitmap","BitmapClass",BitmapDefinition),b("flash.display.BitmapData","BitmapDataClass",BitmapDataDefinition),b("flash.display.Stage","StageClass",StageDefinition),b("flash.display.Loader","LoaderClass",LoaderDefinition),b("flash.display.LoaderInfo","LoaderInfoClass",
LoaderInfoDefinition),b("flash.display.Graphics","GraphicsClass",GraphicsDefinition),b("flash.display.SimpleButton","SimpleButtonClass",SimpleButtonDefinition),b("flash.display.MorphShape","MorphShapeClass",MorphShapeDefinition),b("flash.display.NativeMenu","MenuClass",NativeMenuDefinition),b("flash.display.NativeMenuItem","MenuItemClass",NativeMenuItemDefinition),b("flash.display.FrameLabel","FrameLabelClass",FrameLabelDefinition),b("flash.display.Scene"),b("flash.display.BlendMode"),b("flash.filters.BevelFilter",
"BevelFilterClass",BevelFilterDefinition),b("flash.filters.BitmapFilter","BitmapFilterClass",BitmapFilterDefinition),b("flash.filters.BlurFilter","BlurFilterClass",BlurFilterDefinition),b("flash.filters.ColorMatrixFilter","ColorMatrixFilterClass",ColorMatrixFilterDefinition),b("flash.filters.ConvolutionFilter","ConvolutionFilterClass",ConvolutionFilterDefinition),b("flash.filters.DisplacementMapFilter","DisplacementMapFilterClass",DisplacementMapFilterDefinition),b("flash.filters.DropShadowFilter",
"DropShadowFilterClass",DropShadowFilterDefinition),b("flash.filters.GlowFilter","GlowFilterClass",GlowFilterDefinition),b("flash.filters.GradientBevelFilter","GradientBevelFilterClass",GradientBevelFilterDefinition),b("flash.filters.GradientGlowFilter","GradientGlowFilterClass",GradientGlowFilterDefinition),b("flash.filters.ShaderFilter","ShaderFilterClass",ShaderFilterDefinition),b("flash.geom.Point","PointClass",PointDefinition),b("flash.geom.Rectangle","RectangleClass",RectangleDefinition),b("flash.geom.Matrix",
"MatrixClass",MatrixDefinition),b("flash.geom.Matrix3D","Matrix3DClass",Matrix3DDefinition),b("flash.geom.Vector3D","Vector3DClass",Vector3DDefinition),b("flash.geom.Transform","TransformClass",TransformDefinition),b("flash.geom.ColorTransform","ColorTransformClass",ColorTransformDefinition),b("flash.events.EventDispatcher","EventDispatcherClass",EventDispatcherDefinition),b("flash.events.Event","EventClass",EventDefinition),b("flash.events.IOErrorEvent"),b("flash.events.NetStatusEvent"),b("flash.events.KeyboardEvent",
"KeyboardEventClass",KeyboardEventDefinition),b("flash.events.MouseEvent","MouseEventClass",MouseEventDefinition),b("flash.events.TextEvent","TextEventClass",TextEventDefinition),b("flash.events.TimerEvent","TimerEventClass",TimerEventDefinition),b("flash.events.ProgressEvent"),b("flash.events.NetStatusEvent"),b("flash.external.ExternalInterface","ExternalInterfaceClass",ExternalInterfaceDefinition),b("flash.ui.ContextMenu","ContextMenuClass",ContextMenuDefinition),b("flash.ui.ContextMenuItem","ContextMenuItemClass",
ContextMenuItemDefinition),b("flash.ui.Keyboard","KeyboardClass",KeyboardDefinition),b("flash.ui.Mouse","MouseClass",MouseDefinition),b("flash.text.Font","FontClass",FontDefinition),b("flash.text.TextField","TextFieldClass",TextFieldDefinition),b("flash.text.StaticText","StaticTextClass",StaticTextDefinition),b("flash.text.StyleSheet","StyleSheetClass",StyleSheetDefinition),b("flash.text.TextFormat","TextFormatClass",TextFormatDefinition),b("flash.text.TextLineMetrics"),b("flash.text.engine.FontDescription",
"FontDescriptionClass",FontDescriptionDefinition),b("flash.media.Sound","SoundClass",SoundDefinition),b("flash.media.SoundChannel","SoundChannelClass",SoundChannelDefinition),b("flash.media.SoundMixer","SoundMixerClass",SoundMixerDefinition),b("flash.media.SoundTransform","SoundTransformClass",SoundTransformDefinition),b("flash.media.Video","VideoClass",VideoDefinition),b("flash.media.ID3Info","ID3InfoClass",ID3InfoDefinition),b("flash.net.FileFilter","FileFilterClass",FileFilterDefinition),b("flash.net.NetConnection",
"NetConnectionClass",NetConnectionDefinition),b("flash.net.NetStream","NetStreamClass",NetStreamDefinition),b("flash.net.Responder","ResponderClass",ResponderDefinition),b("flash.net.URLRequest","URLRequestClass",URLRequestDefinition),b("flash.net.URLStream","URLStreamClass",URLStreamDefinition),b("flash.net.URLLoader","URLLoaderClass",URLLoaderDefinition),b("flash.net.SharedObject","SharedObjectClass",SharedObjectDefinition),b("flash.net.ObjectEncoding","ObjectEncodingClass",ObjectEncodingDefinition),
b("flash.net.LocalConnection","LocalConnectionClass",LocalConnectionDefinition),b("flash.net.URLVariables"),b("packageInternal flash.system.FSCommand","FSCommandClass",FSCommandDefinition),b("flash.system.Capabilities","CapabilitiesClass",CapabilitiesDefinition),b("flash.system.System","SystemClass",SystemDefinition),b("flash.system.Security","SecurityClass",SecurityDefinition),b("flash.system.SecurityDomain","SecurityDomainClass",SecurityDomainDefinition),b("flash.system.ApplicationDomain","ApplicationDomainClass",
ApplicationDomainDefinition),b("flash.accessibility.Accessibility","AccessibilityClass",AccessibilityDefinition),b("flash.utils.Timer","TimerClass",TimerDefinition),b("avm1lib.AS2Utils","AS2Utils",AS2UtilsDefinition),b("avm1lib.AS2Broadcaster"),b("avm1lib.AS2Key"),b("avm1lib.AS2Mouse"),b("avm1lib.AS2MovieClip","AS2MovieClip",AS2MovieClipDefinition),b("avm1lib.AS2Button","AS2Button",AS2ButtonDefinition),b("avm1lib.AS2TextField","AS2TextField",AS2TextFieldDefinition),b("avm1lib.AS2Stage"),b("avm1lib.AS2System"),
b("avm1lib.AS2Color"),b("avm1lib.AS2Globals","AS2Globals",AS2GlobalsDefinition),b("avm1lib.AS2MovieClipLoader","AS2MovieClipLoader",AS2MovieClipLoaderDefinition)].forEach(function(b){for(var d=Multiname.fromSimpleName(b.classSimpleName),f=d.getOriginalName().split("."),p=this,r=0,s=f.length-1;r<s;r++)p[f[r]]||(p[f[r]]={}),p=p[f[r]];a(p,b.classSimpleName,f[f.length-1]);b.nativeName&&bindNativeClassDefinition(b.nativeName,b.definition);e[d.getOriginalName()]=b.definition})};
natives["FlashUtilScript::getAliasName"]=function(){return function(a){return a.debugName}};natives["FlashUtilScript::getDefinitionByName"]=natives.getDefinitionByName;natives["FlashUtilScript::getTimer"]=function(){var a=Date.now();return function(){return Date.now()-a}};natives["FlashUtilScript::escapeMultiByte"]=function(){return escape};natives["FlashUtilScript::unescapeMultiByte"]=function(){return unescape};
natives["FlashNetScript::navigateToURL"]=function(){return function(a,b){(null===a||void 0===a)&&throwError("TypeError",Errors.NullPointerError,"request");avm2.systemDomain.getClass("flash.net.URLRequest").isInstanceOf(a)||throwError("TypeError",Errors.CheckTypeFailedError,a,"flash.net.URLRequest");var d=a.url;/^fscommand:/i.test(d)?avm2.applicationDomain.getProperty(Multiname.fromSimpleName("flash.system.fscommand"),!0,!0).call(null,d.substring(10),b):window.open(FileLoadingService.resolveUrl(d),
b)}};natives["FlashNetScript::sendToURL"]=function(){return function(a){(null===a||void 0===a)&&throwError("TypeError",Errors.NullPointerError,"request");avm2.systemDomain.getClass("flash.net.URLRequest").isInstanceOf(a)||throwError("TypeError",Errors.CheckTypeFailedError,a,"flash.net.URLRequest");var b=FileLoadingService.createSession();b.onprogress=function(){};b.open(a)}};
natives["Toplevel::registerClassAlias"]=function(){return function(a,b){a||throwError("TypeError",Errors.NullPointerError,"aliasName");b||throwError("TypeError",Errors.NullPointerError,"classObject");AMFUtils.aliasesCache.classes.set(b,a);AMFUtils.aliasesCache.names[a]=b}};
natives["Toplevel::getClassByAlias"]=function(){return function(a){a||throwError("TypeError",Errors.NullPointerError,"aliasName");var b=AMFUtils.aliasesCache.names[a];b||throwError("ReferenceError",Errors.ClassNotFoundError,a);return b}};
